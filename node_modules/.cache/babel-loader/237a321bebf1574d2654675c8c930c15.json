{"ast":null,"code":"var _jsxFileName = \"/home/victor/COVID-19-Coding-Fest/src/pages/history/History.js\";\nimport React, { Component } from \"react\";\nimport count from \"../data/Data\";\nimport moment from \"moment\";\nimport { Card, Avatar, Col, Icon } from \"antd\";\nconst Meta = Card.Meta;\n\nclass History extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      emask_data: [],\n      count_noti: count\n    };\n  }\n\n  componentDidMount() {\n    localStorage.setItem(\"count_data\", 0);\n    fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(response => response.json()).then(data => this.setState({\n      emask_data: data\n    }));\n  }\n\n  sortData() {\n    let sortedData = this.state.emask_data.sort(function (a, b) {\n      // Compare the 2 dates\n      if (moment(a.date).isBefore(b.date)) return 1;\n      if (moment(a.date).isAfter(b.date)) return -1;\n      return 0;\n    });\n    return sortedData;\n  }\n\n  listDate() {\n    let sortedData = this.sortData(); // console.log(sortedData)\n\n    let list_date = [];\n\n    for (let i = 0; i < sortedData.length; i++) {\n      if (i === 0) {\n        list_date.push(sortedData[i].date);\n      } else {\n        // console.log(i)\n        // console.log(sortedData[i].date)\n        if (!moment(sortedData[i].date).isSame(sortedData[i - 1].date)) {\n          list_date.push(sortedData[i].date);\n        }\n      }\n    }\n\n    return list_date;\n  }\n\n  render() {\n    let sortedData = this.sortData();\n    let listDate = this.listDate();\n    console.log(this.state.count_data);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, listDate.map((item, index) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, moment(item).format(\"DD-MMMM-YYYY\"), \" \")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), sortedData.map((item1, index1) => {\n        if (moment(item1.date).isSame(item)) {\n          return React.createElement(Card, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, React.createElement(Col, {\n            lg: 10,\n            md: 12,\n            sm: 24,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(Meta, {\n            avatar: React.createElement(Avatar, {\n              size: 20,\n              icon: item1.status === \"ALERTED\" ? \"alert\" : \"check\",\n              style: {\n                backgroundColor: \"green\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67\n              },\n              __self: this\n            }),\n            title: item1.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          })), React.createElement(Col, {\n            lg: 10,\n            md: 12,\n            sm: 24,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, \" \", moment(item1.date).format(\"LT\")));\n        }\n      }));\n    }));\n  }\n\n}\n\nexport default History;","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/history/History.js"],"names":["React","Component","count","moment","Card","Avatar","Col","Icon","Meta","History","constructor","props","state","emask_data","count_noti","componentDidMount","localStorage","setItem","fetch","then","response","json","data","setState","sortData","sortedData","sort","a","b","date","isBefore","isAfter","listDate","list_date","i","length","push","isSame","render","console","log","count_data","map","item","index","format","item1","index1","status","backgroundColor","name"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport count from \"../data/Data\"\nimport moment from \"moment\"\nimport {Card, Avatar, Col, Icon } from \"antd\";\nconst {Meta} = Card\nclass History extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            emask_data: [], \n            count_noti: count\n        }\n    }\n    componentDidMount(){\n        \n        localStorage.setItem(\"count_data\", 0)\n        fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => this.setState({emask_data:data}))\n    }\n    sortData(){\n        let sortedData = this.state.emask_data.sort(function(a, b) {\n            \n            // Compare the 2 dates\n            if (moment(a.date).isBefore(b.date)) return 1;\n            if (moment(a.date).isAfter(b.date)) return -1;\n            return 0;\n        });\n          return sortedData\n    }\n    listDate(){\n        let sortedData = this.sortData();\n        // console.log(sortedData)\n        let list_date = []\n        for (let i =0 ; i < sortedData.length; i++){\n            if (i === 0){\n                list_date.push(sortedData[i].date)\n            }else{\n                // console.log(i)\n                // console.log(sortedData[i].date)\n                if (!moment(sortedData[i].date).isSame(sortedData[i-1].date)){\n                    list_date.push(sortedData[i].date)\n                }\n            }\n        }\n        return list_date\n    }\n    \n    render(){\n        let sortedData= this.sortData();\n        let listDate = this.listDate();\n        console.log(this.state.count_data)\n        return(\n            <div>\n              {listDate.map((item, index) =>{\n                  return(\n                      <div>\n                      <h3><b>{moment(item).format((\"DD-MMMM-YYYY\"))} </b></h3>\n                      <hr></hr>\n                      {sortedData.map((item1, index1) =>{\n                          if(moment(item1.date).isSame(item) ){\n                                return(\n                                    <Card >\n                                        <Col lg={10} md={12} sm={24}>\n                                           \n                                        <Meta\n                                avatar={<Avatar size = {20} icon= {item1.status === \"ALERTED\"? \"alert\": \"check\"}  style= {{backgroundColor: \"green\" }} />}\n                                title =  {item1.name}\n                            /></Col>\n                            <Col lg={10} md={12} sm={24}> {moment(item1.date).format(\"LT\")}</Col>\n                            </Card>\n                                )\n                          }\n                      })}\n                      </div>\n                      \n                  )\n              })}  \n            </div>\n        )\n    }\n}\nexport default History"]},"metadata":{},"sourceType":"module"}