{"ast":null,"code":"import _classCallCheck from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Form,Input,Button,Checkbox,Select}from'antd';import moment from\"moment\";import{withRouter}from\"react-router-dom\";import axios from'axios';var Item=Form.Item;var Option=Select.Option;var layout={labelCol:{span:8},wrapperCol:{span:16}};var tailLayout={wrapperCol:{offset:8,span:16}};var Scan=/*#__PURE__*/function(_Component){_inherits(Scan,_Component);function Scan(props){var _this;_classCallCheck(this,Scan);_this=_possibleConstructorReturn(this,_getPrototypeOf(Scan).call(this,props));_this.onChange=function(e){var new_item=_this.state.item;new_item.type=e;_this.setState({item:new_item});};_this.onNameChange=function(e){var new_item=_this.state.item;new_item.name=e.currentTarget.value;new_item.key=(_this.state.emask_data.length+1).toString();_this.setState({item:new_item});};_this.onAddressChange=function(e){var new_item=_this.state.item;new_item.address=e.currentTarget.value;_this.setState({item:new_item});};_this.onPhoneChange=function(e){var new_item=_this.state.item;new_item.phone=e.currentTarget.value;_this.setState({item:new_item});};_this.onEmailChange=function(e){var new_item=_this.state.item;new_item.email=e.currentTarget.value;_this.setState({item:new_item});};_this.state={item:{date:moment().format('YYYY-MM-DD hh:mm:ss'),address:\"\",email:\"\",isMapOpen:true,key:\"\",name:\"\",phone:\"\",status:\"CONFIRMED\",type:\"\",emask_data:[]}};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Scan,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function(response){return response.json();}).then(function(data){return _this2.setState({emask_data:data});});}},{key:\"onClick\",value:function onClick(){if(sessionStorage.getItem(\"count_data\")){var count=parseInt(sessionStorage.getItem(\"count_data\"));sessionStorage.setItem(\"count_data\",count+1);}else{sessionStorage.setItem(\"count_data\",1);}// const data= {\n//   key5: `${this.state.item.date}`,\n//   key2: `${this.state.item.address}`,\n//   key3: `${this.state.item.email}`,\n//   key4: `${this.state.item.isMapOpen}`,\n//   key1: `${this.state.item.key}`,\n//   key6: `${this.state.item.name}`,\n//   key7: `${this.state.item.phone}`,\n//   key8: `${this.state.item.status}`,\n//   key9: `${this.state.item.type}`\n// };\n// axios.post(\n//   \"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\",\n//   {\n//     key5: `${this.state.item.date}`,\n//     key2: `${this.state.item.address}`,\n//     key3: `${this.state.item.email}`,\n//     key4: `${this.state.item.isMapOpen}`,\n//     key1: `${this.state.item.key}`,\n//     key6: `${this.state.item.name}`,\n//     key7: `${this.state.item.phone}`,\n//     key8: `${this.state.item.status}`,\n//     key9: `${this.state.item.type}`\n//   }\n// ).then(res =>{console.log(res)})\nthis.props.history.push(\"/camera\",this.state.item);window.location.reload(false);}},{key:\"render\",value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;return React.createElement(Form,Object.assign({},layout,{name:\"basic\"}),React.createElement(Item,{label:\"Name\",name:\"name\"},getFieldDecorator('userName',{initialValue:this.state.item.name,rules:[{required:true,message:'Please input your name!'}]})(React.createElement(Input,{onChange:this.onNameChange}))),React.createElement(Item,{label:\"Address\",name:\"Address\"},getFieldDecorator('address',{initialValue:this.state.item.address,rules:[{required:true,message:'Please input your address!'}]})(React.createElement(Input,{onChange:this.onAddressChange})),\"  \"),React.createElement(Item,{label:\"Phone number\",name:\"Phone number\"},getFieldDecorator('phone',{initialValue:this.state.item.phone,rules:[{required:true,message:'Please input your phone number!'}]})(React.createElement(Input,{onChange:this.onPhoneChange}))),React.createElement(Item,{label:\"Email\",name:\"email\"},getFieldDecorator('email',{initialValue:this.state.item.email,rules:[{required:true,message:'Please input your email!'}]})(React.createElement(Input,{onChange:this.onEmailChange}))),React.createElement(Item,{label:\"status\",name:\"type\",rules:[{required:true,message:'Please input your name!'}]},React.createElement(Select,{value:this.state.item.type,onChange:this.onChange},React.createElement(Option,{value:\"Employee\"},\"Employee\"),React.createElement(Option,{value:\"Non-Employee\"},\"Non-Employee\"))),React.createElement(Item,tailLayout,React.createElement(Button,{type:\"primary\",htmlType:\"submit\",onClick:this.onClick},\"Submit\")));}}]);return Scan;}(Component);export default Form.create({name:'normal_login'})(withRouter(Scan));","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/scan/Scan.js"],"names":["React","Component","Form","Input","Button","Checkbox","Select","moment","withRouter","axios","Item","Option","layout","labelCol","span","wrapperCol","tailLayout","offset","Scan","props","onChange","e","new_item","state","item","type","setState","onNameChange","name","currentTarget","value","key","emask_data","length","toString","onAddressChange","address","onPhoneChange","phone","onEmailChange","email","date","format","isMapOpen","status","bind","onClick","fetch","then","response","json","data","sessionStorage","getItem","count","parseInt","setItem","history","push","window","location","reload","getFieldDecorator","form","initialValue","rules","required","message","create"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport {  Form, Input, Button, Checkbox, Select }  from'antd'\nimport moment from \"moment\"\nimport {withRouter} from \"react-router-dom\"\nimport axios from 'axios'\nconst {Item} = Form\nconst {Option} = Select\nconst layout = {\n    labelCol: {\n      span: 8,\n    },\n    wrapperCol: {\n      span: 16,\n    },\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16,\n    },\n  };\nclass Scan extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n   \n      item : {\n        date: moment().format('YYYY-MM-DD hh:mm:ss'),\n        address: \"\",\n        email: \"\",\n        isMapOpen: true,\n        key: \"\",\n        name: \"\",\n        phone: \"\",\n        status: \"CONFIRMED\",\n        type: \"\",\n        emask_data:[]\n\n      }\n    };\n    this.onChange= this.onChange.bind(this)\n    this.onClick = this.onClick.bind(this)\n  }\n  componentDidMount(){\n    fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => this.setState({emask_data:data}))\n  }\n  onChange = (e) =>{\n    let new_item = this.state.item\n    new_item.type =   e;\n    this.setState({\n      item: new_item\n    })\n  }\n  onNameChange = e =>{\n    let new_item = this.state.item\n    new_item.name =   e.currentTarget.value;\n    new_item.key= (this.state.emask_data.length+1).toString()\n    this.setState({\n      item: new_item\n    })\n  }\n  onAddressChange = e =>{\n    let new_item = this.state.item\n    new_item.address =   e.currentTarget.value;\n    this.setState({\n      item: new_item\n    })\n  }\n  onPhoneChange = e =>{\n    let new_item = this.state.item\n    new_item.phone =   e.currentTarget.value;\n    this.setState({\n      item: new_item\n    })\n  }\n  onEmailChange = e =>{\n    let new_item = this.state.item\n    new_item.email =   e.currentTarget.value;\n    this.setState({\n      item: new_item\n    })\n  }\n  onClick(){\n    if (sessionStorage.getItem(\"count_data\")){\n      const count= parseInt( sessionStorage.getItem(\"count_data\"))\n      sessionStorage.setItem(\"count_data\", count+1)\n    }else{\n      sessionStorage.setItem(\"count_data\", 1)\n    }\n    \n    // const data= {\n    //   key5: `${this.state.item.date}`,\n    //   key2: `${this.state.item.address}`,\n    //   key3: `${this.state.item.email}`,\n    //   key4: `${this.state.item.isMapOpen}`,\n    //   key1: `${this.state.item.key}`,\n    //   key6: `${this.state.item.name}`,\n    //   key7: `${this.state.item.phone}`,\n    //   key8: `${this.state.item.status}`,\n    //   key9: `${this.state.item.type}`\n    // };\n    // axios.post(\n    //   \"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\",\n    //   {\n    //     key5: `${this.state.item.date}`,\n    //     key2: `${this.state.item.address}`,\n    //     key3: `${this.state.item.email}`,\n    //     key4: `${this.state.item.isMapOpen}`,\n    //     key1: `${this.state.item.key}`,\n    //     key6: `${this.state.item.name}`,\n    //     key7: `${this.state.item.phone}`,\n    //     key8: `${this.state.item.status}`,\n    //     key9: `${this.state.item.type}`\n    //   }\n    \n    // ).then(res =>{console.log(res)})\n    \n    \n    this.props.history.push(\"/camera\", this.state.item)\n    window.location.reload(false);\n    \n  }\n    render(){\n      const { getFieldDecorator } = this.props.form;\n       return (\n          <Form\n            {...layout}\n            name=\"basic\"\n            \n          >\n            <Item\n              label=\"Name\"\n              name=\"name\"\n              >\n              {getFieldDecorator('userName', {\n                initialValue: this.state.item.name,\n                rules: [{ required: true, message: 'Please input your name!' }],\n              })(\n              <Input   onChange = {this.onNameChange}/>\n              )}\n              \n              </Item>\n      \n            <Item\n              label=\"Address\"\n              name=\"Address\"\n             \n            >\n               {getFieldDecorator('address', {\n                 initialValue: this.state.item.address,\n                rules: [{ required: true, message: 'Please input your address!' }],\n              })(\n              <Input  onChange = {this.onAddressChange}/>\n              )}  </Item>\n            <Item\n              label=\"Phone number\"\n              name=\"Phone number\"\n              \n            >\n               {getFieldDecorator('phone', {\n                 initialValue: this.state.item.phone,\n                rules: [{ required: true, message: 'Please input your phone number!' }],\n              })(\n              <Input   onChange = {this.onPhoneChange}/>\n              )}          \n              </Item>\n              <Item\n              label=\"Email\"\n              name=\"email\"\n              >\n              {getFieldDecorator('email', {\n                initialValue: this.state.item.email,\n                rules: [{ required: true, message: 'Please input your email!' }],\n              })(\n              <Input   onChange = {this.onEmailChange}/>\n              )}\n              \n              </Item>\n            <Item\n              label=\"status\"\n              name=\"type\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Please input your name!',\n                },\n              ]}\n\n            >\n              <Select\n                value={this.state.item.type}\n                \n                onChange={this.onChange}\n                \n              >\n                <Option value=\"Employee\">Employee</Option>\n                <Option value=\"Non-Employee\">Non-Employee</Option>\n              </Select>\n            </Item>\n      \n            \n            <Item {...tailLayout}>\n              <Button type=\"primary\" htmlType=\"submit\" onClick = {this.onClick}>\n                Submit\n              </Button>\n            </Item>\n          </Form>\n        );\n  }\n}\nexport default Form.create({ name: 'normal_login' })(withRouter(Scan));"]},"metadata":{},"sourceType":"module"}