{"ast":null,"code":"import _classCallCheck from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,useState,useEffect}from'react';import{Layout,Tabs,Menu,Dropdown,Table,Tag,DatePicker}from\"antd\";import{withRouter}from\"react-router-dom\";import moment from\"moment\";import\"../style/supervisedTable.css\";// import data from  \"../../../data/Data\"\nvar Content=Layout.Content;var TabPane=Tabs.TabPane;var column=[{title:\"Name\",dataIndex:\"name\",key:\"name\",sorted:function sorted(a,b){return a.name.length-b.name.length;},sortDirections:[\"descend\",\"ascend\"]},{title:\"Email\",dataIndex:\"email\",key:\"email\",sorted:function sorted(a,b){return a.email.length-b.email.length;},sortDirections:[\"descend\",\"ascend\"]},{title:\"Phone\",dataIndex:\"phone\",key:\"phone\",sorted:function sorted(a,b){return a.phone-b.phone;},sortDirections:[\"descend\",\"ascend\"]},{title:\"Status\",dataIndex:\"status\",key:\"status\",render:function render(status){var color=\"red\";if(status===\"CONFIRMED\"){color=\"green\";}else if(status===\"ALERTED\"){color=\"red\";}return React.createElement(\"div\",null,React.createElement(Tag,{color:color},status));}},{title:\"Date\",dataIndex:\"date\",key:\"date\",sorted:function sorted(a,b){return moment(a.date).isAfter(b.date);},sortDirections:[\"descend\",\"ascend\"]}];var SupervisedTable=/*#__PURE__*/function(_Component){_inherits(SupervisedTable,_Component);function SupervisedTable(){var _getPrototypeOf2;var _this;_classCallCheck(this,SupervisedTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SupervisedTable)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={selectedOption:\"1\",pickeddate:moment('2020/06/09','YYYY/MM/DD'),emask_data:[]};return _this;}_createClass(SupervisedTable,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;localStorage.setItem('route',this.props.location.pathname);fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function(response){return response.json();}).then(function(data){return _this2.setState({emask_data:data});});}},{key:\"render\",value:function render(){var _this3=this;var dateFormat='YYYY/MM/DD';var employees=this.state.emask_data.filter(function(e){console.log(_this3.state.pickeddate);if(_this3.state.selectedOption=='1'){return e.type===\"Employee\"&&moment(e.date,\"YYYY/MM/DD\").isSame(_this3.state.pickeddate);}else if(_this3.state.selectedOption==='3'){return e.type===\"Employee\"&&moment(e.date,\"YYYY/MM/DD\").month()===_this3.state.pickeddate.month()&&moment(e.date,\"YYYY/MM/DD\").year()===_this3.state.pickeddate.year();}else if(_this3.state.selectedOption==='2'){return e.type===\"Employee\"&&moment(e.date,\"YYYY/MM/DD\").month()===_this3.state.pickeddate.month()&&moment(e.date,\"YYYY/MM/DD\").year()===_this3.state.pickeddate.year()&&moment(e.date,\"YYYY/MM/DD\").isoWeek()===_this3.state.pickeddate.isoWeek();}});var non_employees=this.state.emask_data.filter(function(e){return e.type===\"Non-Employee\";});var menu=React.createElement(Menu,{mode:\"horizontal\",defaultSelectedKeys:['1']},React.createElement(Menu.Item,{key:\"1\",onClick:function onClick(){_this3.setState({selectedOption:'1'});}},\"All day\"),React.createElement(Menu.Item,{key:\"2\",onClick:function onClick(){_this3.setState({selectedOption:'2'});}},\"All week\"),React.createElement(Menu.Item,{key:\"3\",onClick:function onClick(){_this3.setState({selectedOption:'3'});}},\"All month\"));return React.createElement(Content,null,React.createElement(Tabs,{defaultActiveKey:\"1\"},React.createElement(TabPane,{key:\"1\",tab:\"Employees\"},React.createElement(\"div\",{id:\"datepicker\"},React.createElement(DatePicker,{defaultValue:moment('2020/06/09',dateFormat),format:dateFormat,onChange:function onChange(date){_this3.setState({pickeddate:date});}})),React.createElement(\"div\",{id:\"dateoption\"},menu),React.createElement(Table,{dataSource:employees,columns:column,scroll:{x:'calc(700px + 50%)',y:240}})),React.createElement(TabPane,{key:\"2\",tab:\"Non-Enployees\"},React.createElement(\"div\",{id:\"datepicker\"},React.createElement(DatePicker,{defaultValue:moment('2020/06/09',dateFormat),format:dateFormat,onChange:function onChange(date){_this3.setState({pickeddate:date});}})),React.createElement(\"div\",{id:\"dateoption\"},menu),React.createElement(Table,{dataSource:non_employees,columns:column,scroll:{x:'calc(700px + 50%)',y:240}}))));}}]);return SupervisedTable;}(Component);export default withRouter(SupervisedTable);","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/customer/components/SupervisedTable.js"],"names":["React","Component","useState","useEffect","Layout","Tabs","Menu","Dropdown","Table","Tag","DatePicker","withRouter","moment","Content","TabPane","column","title","dataIndex","key","sorted","a","b","name","length","sortDirections","email","phone","render","status","color","date","isAfter","SupervisedTable","state","selectedOption","pickeddate","emask_data","localStorage","setItem","props","location","pathname","fetch","then","response","json","data","setState","dateFormat","employees","filter","e","console","log","type","isSame","month","year","isoWeek","non_employees","menu","x","y"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react'\nimport { Layout, Tabs, Menu,Dropdown, Table, Tag, DatePicker} from \"antd\"\nimport {withRouter} from \"react-router-dom\"\nimport moment from \"moment\"\nimport \"../style/supervisedTable.css\"\n// import data from  \"../../../data/Data\"\nconst {Content} = Layout;\n\nconst {\n    TabPane \n  } = Tabs;\n  \n  const column = [\n      {\n        title : \"Name\", \n        dataIndex: \"name\",\n        key : \"name\", \n        \n        sorted: (a,b) => a.name.length -b.name.length,\n        sortDirections: [\"descend\", \"ascend\"]\n\n      }, \n      {\n        title : \"Email\", \n        dataIndex: \"email\",\n        key : \"email\",\n        sorted: (a,b) => a.email.length- b.email.length,\n        sortDirections: [\"descend\", \"ascend\"]\n\n      },\n      {\n        title : \"Phone\", \n        dataIndex: \"phone\",\n        key : \"phone\",\n        sorted: (a,b) => a.phone- b.phone,\n        sortDirections: [\"descend\", \"ascend\"]\n\n      },\n      {\n        title : \"Status\", \n        dataIndex: \"status\",\n        key : \"status\", \n        render: status =>{\n            let color = \"red\";\n            if (status=== \"CONFIRMED\"){\n                color = \"green\"\n            }else if (status ===\"ALERTED\"){\n                color= \"red\"\n            }\n            return (\n                <div>\n                    <Tag color = {color} >\n                        {status}\n                    </Tag>\n                </div>\n            )\n        }\n      },\n      {\n        title : \"Date\", \n        dataIndex: \"date\",\n        key : \"date\",\n        sorted: (a,b) => moment(a.date).isAfter(b.date), \n        sortDirections: [\"descend\", \"ascend\"]\n\n      },\n      \n      \n\n  ];\n  \n\nclass SupervisedTable extends Component{\n    \n   state= {\n     selectedOption: \"1\", \n     pickeddate : moment('2020/06/09', 'YYYY/MM/DD'), \n     emask_data:[]\n   }\n   \n    componentDidMount () {\n        \n        localStorage.setItem('route', this.props.location.pathname);\n        fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => this.setState({emask_data:data}))\n       \n      };\n    render(){\n      const dateFormat = 'YYYY/MM/DD';\n        const employees = this.state.emask_data.filter(e =>{\n          console.log(this.state.pickeddate)\n          if(this.state.selectedOption == '1'){\n            \n            return e.type === \"Employee\" && moment(e.date, \"YYYY/MM/DD\").isSame(this.state.pickeddate)\n          }else if (this.state.selectedOption === '3'){\n            return e.type === \"Employee\" && moment(e.date, \"YYYY/MM/DD\").month() === this.state.pickeddate.month() && moment(e.date, \"YYYY/MM/DD\").year() === this.state.pickeddate.year()\n    \n          }else if(this.state.selectedOption === '2'){\n            return e.type === \"Employee\" && moment(e.date, \"YYYY/MM/DD\").month() === this.state.pickeddate.month() && moment(e.date, \"YYYY/MM/DD\").year() === this.state.pickeddate.year() && moment(e.date, \"YYYY/MM/DD\").isoWeek() === this.state.pickeddate.isoWeek()\n    \n          }\n             \n        }\n        );\n        const non_employees = this.state.emask_data.filter(e =>{\n            return e.type === \"Non-Employee\"\n        }\n        );\n        const menu = (\n          <Menu mode = \"horizontal\" defaultSelectedKeys = {['1']}>\n            <Menu.Item key=\"1\" onClick = {() => {this.setState({selectedOption:'1'})}}>\n              All day\n            </Menu.Item>\n            <Menu.Item key=\"2\" onClick = {() => {this.setState({selectedOption:'2'})}}>\n              All week  \n            </Menu.Item>\n            \n            <Menu.Item key=\"3\"onClick = {() => {this.setState({selectedOption:'3'})}} >\n              All month\n            </Menu.Item>\n          </Menu>\n        );\n        return(\n            <Content>\n                 <Tabs defaultActiveKey = \"1\">\n                   \n                    <TabPane key = \"1\" tab = \"Employees\">\n                    <div id = \"datepicker\">\n                      <DatePicker defaultValue={moment('2020/06/09', dateFormat)} format={dateFormat} onChange={date => {this.setState({pickeddate : date})}}/>\n                    </div>\n                    <div id = \"dateoption\">\n                      \n                       {menu}\n                    \n                    </div>\n                    \n                        <Table dataSource = {employees}  columns = {column} scroll={{ x: 'calc(700px + 50%)', y: 240 }} />\n                    </TabPane>\n                    <TabPane key = \"2\" tab = \"Non-Enployees\">\n                    <div id = \"datepicker\">\n                      <DatePicker defaultValue={moment('2020/06/09', dateFormat)} format={dateFormat} onChange={date => {this.setState({pickeddate : date})}}/>\n                    </div>\n                    <div id = \"dateoption\">\n                      \n                       {menu}\n                    \n                    </div>\n                        <Table dataSource = {non_employees}  columns = {column} scroll={{ x: 'calc(700px + 50%)', y: 240 }}/>\n                    </TabPane>\n                </Tabs>\n            </Content>\n        )\n    }\n}\nexport default withRouter(SupervisedTable);"]},"metadata":{},"sourceType":"module"}