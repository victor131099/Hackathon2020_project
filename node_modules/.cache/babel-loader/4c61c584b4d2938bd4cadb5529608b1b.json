{"ast":null,"code":"import _classCallCheck from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import{Layout,Breadcrumb,Icon,Input}from\"antd\";import{withRouter}from\"react-router-dom\";import MapContainer from'./components/MapContainer';// import data from \"../../data/Data\"\nvar Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.onChange=function(e){var suggestions=_this.state.emask_data;var userInput=e.currentTarget.value;console.log(suggestions);// Filter our suggestions that don't contain the user's input\nvar filteredSuggestions=suggestions.filter(function(suggestion){return suggestion.name.toLowerCase().indexOf(userInput.toLowerCase())>-1;});// Update the user input and filtered suggestions, reset the active\n// suggestion and make sure the suggestions are shown\nvar suggestedValue=e.currentTarget.value.split('-')[0];// console.log(\"hello  \" + suggestedValue)\n// if (this.state.clickable ==true){\n//   localStorage.setItem('userInput', suggestedValue);\n//   console.log(\"hello\")\n//   console.log(suggestedValue)\n// }\n// console.log(e.currentTarget.value)\n_this.setState({activeSuggestion:0,filteredSuggestions:filteredSuggestions,showSuggestions:true,userInput:suggestedValue,clickedInput:\"\"});};_this.onClick=function(e){// Update the user input and reset the rest of the state\n_this.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:false,userInput:e.currentTarget.innerText.split(\"-\")[0],clickedInput:e.currentTarget.innerText.split(\"-\")[0],clickable:true,windowSize:15});console.log(\"Onclick\");// // console.log(\"hello\")\n// console.log(e.currentTarget.innerText.split(\"-\")[0])\n};_this.onKeyDown=function(e){// console.log(\"dsaf\")\nvar _this$state=_this.state,activeSuggestion=_this$state.activeSuggestion,filteredSuggestions=_this$state.filteredSuggestions;// User pressed the enter key, update the input and close the\n// suggestions\nif(e.keyCode===13){_this.setState({activeSuggestion:0,showSuggestions:false,userInput:filteredSuggestions[activeSuggestion]});}// User pressed the up arrow, decrement the index\nelse if(e.keyCode===38){if(activeSuggestion===0){return;}_this.setState({activeSuggestion:activeSuggestion-1});}// User pressed the down arrow, increment the index\nelse if(e.keyCode===40){if(activeSuggestion-1===filteredSuggestions.length){return;}_this.setState({activeSuggestion:activeSuggestion+1});}};_this.state={// The active selection's index\nactiveSuggestion:0,// The suggestions that match the user's input\nfilteredSuggestions:[],// Whether or not the suggestionuggestions, you're on your own! list is shown\nshowSuggestions:false,// What the user has entered\nuserInput:\"\",clickable:false,windowSize:10,emask_data:[]};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function(response){return response.json();}).then(function(data){return _this2.setState({emask_data:data});});}// Event fired when the input value is changed\n},{key:\"render\",value:function render(){var _this3=this;var suggestionsListComponent;if(this.state.showSuggestions==true&&this.state.userInput!=\"\"){if(this.state.filteredSuggestions.length){suggestionsListComponent=//   <ul class=\"suggestions\">\nReact.createElement(\"div\",null,this.state.filteredSuggestions.map(function(suggestion,index){var className;// Flag the active suggestion with a class\nif(index===_this3.state.activeSuggestion){className=\"suggestion-active\";}return React.createElement(\"div\",{className:className,key:suggestion.name,onClick:_this3.onClick},React.createElement(Icon,{type:\"search\"}),\" \"+suggestion.name+\"-\"+suggestion.type);}));}else{suggestionsListComponent=React.createElement(\"div\",{className:\"no-suggestions\"},React.createElement(\"em\",null,\"Not Found\"));}}return React.createElement(Fragment,null,React.createElement(Input,{type:\"text\",onChange:this.onChange,onKeyDown:this.onKeyDown,value:this.state.userInput,placeholder:\"Search person\"}),suggestionsListComponent,React.createElement(MapContainer,{googleMapURL:\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0&v=3.exp&libraries=geometry,drawing,places\",loadingElement:React.createElement(\"div\",{style:{height:\"100%\"}}),containerElement:React.createElement(\"div\",{style:{height:\"400px\"}}),mapElement:React.createElement(\"div\",{style:{height:\"100%\"}}),clickedInput:this.state.clickedInput,clickable:this.state.clickable,windowSize:this.state.windowSize}));}}]);return Home;}(Component);export default withRouter(Home);","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/home/Home.js"],"names":["React","Component","Fragment","Layout","Breadcrumb","Icon","Input","withRouter","MapContainer","Home","props","onChange","e","suggestions","state","emask_data","userInput","currentTarget","value","console","log","filteredSuggestions","filter","suggestion","name","toLowerCase","indexOf","suggestedValue","split","setState","activeSuggestion","showSuggestions","clickedInput","onClick","innerText","clickable","windowSize","onKeyDown","keyCode","length","fetch","then","response","json","data","suggestionsListComponent","map","index","className","type","height"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport { Layout, Breadcrumb, Icon, Input} from \"antd\"\nimport {withRouter} from \"react-router-dom\"\nimport MapContainer from './components/MapContainer'\n// import data from \"../../data/Data\"\nclass Home extends Component{\n    \n     \n      constructor(props) {\n        super(props);\n    \n        this.state = {\n          // The active selection's index\n          activeSuggestion: 0,\n          // The suggestions that match the user's input\n          filteredSuggestions: [],\n          // Whether or not the suggestionuggestions, you're on your own! list is shown\n          showSuggestions: false,\n          // What the user has entered\n          userInput: \"\",\n          clickable: false,\n          windowSize: 10, \n          emask_data: []\n         \n        };\n      }\n      componentDidMount(){\n        fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => this.setState({emask_data:data}))\n    }\n      // Event fired when the input value is changed\n      onChange = e => {\n        const  suggestions  = this.state.emask_data;\n        const userInput = e.currentTarget.value;\n        console.log(suggestions)\n        // Filter our suggestions that don't contain the user's input\n        const filteredSuggestions = suggestions.filter(\n          suggestion =>\n            suggestion.name.toLowerCase().indexOf(userInput.toLowerCase()) > -1\n        );\n    \n        // Update the user input and filtered suggestions, reset the active\n        // suggestion and make sure the suggestions are shown\n        const suggestedValue=e.currentTarget.value.split('-')[0];\n        // console.log(\"hello  \" + suggestedValue)\n        // if (this.state.clickable ==true){\n        //   localStorage.setItem('userInput', suggestedValue);\n        //   console.log(\"hello\")\n        //   console.log(suggestedValue)\n       \n        // }\n        // console.log(e.currentTarget.value)\n        this.setState({\n          activeSuggestion: 0,\n          filteredSuggestions,\n          showSuggestions: true,\n          userInput: suggestedValue,\n          clickedInput:\"\"\n        });\n        \n       \n      };\n    \n      // Event fired when the user clicks on a suggestion\n      onClick = e => {\n        // Update the user input and reset the rest of the state\n        \n        this.setState({\n          activeSuggestion: 0,\n          filteredSuggestions: [],\n          showSuggestions: false,\n          userInput: e.currentTarget.innerText.split(\"-\")[0],\n          clickedInput: e.currentTarget.innerText.split(\"-\")[0],\n          clickable: true,\n          windowSize:15\n        });\n        console.log(\"Onclick\")\n       \n        // // console.log(\"hello\")\n        // console.log(e.currentTarget.innerText.split(\"-\")[0])\n       \n    \n      };\n    \n      // Event fired when the user presses a key down\n      onKeyDown = e => {\n        // console.log(\"dsaf\")\n        const { activeSuggestion, filteredSuggestions } = this.state;\n        // User pressed the enter key, update the input and close the\n        // suggestions\n        if (e.keyCode === 13) {\n          this.setState({\n            activeSuggestion: 0,\n            showSuggestions: false,\n            userInput: filteredSuggestions[activeSuggestion]\n          });\n        }\n        \n        // User pressed the up arrow, decrement the index\n        else if (e.keyCode === 38) {\n          if (activeSuggestion === 0) {\n            return;\n          }\n    \n          this.setState({ activeSuggestion: activeSuggestion - 1 });\n        }\n        // User pressed the down arrow, increment the index\n        else if (e.keyCode === 40) {\n          if (activeSuggestion - 1 === filteredSuggestions.length) {\n            return;\n          }\n    \n          this.setState({ activeSuggestion: activeSuggestion + 1 });\n        }\n        \n        \n      };\n    render(){\n        let suggestionsListComponent;\n\n        if (this.state.showSuggestions== true && this.state.userInput != \"\") {\n          if (this.state.filteredSuggestions.length) {\n            suggestionsListComponent = (\n            //   <ul class=\"suggestions\">\n            <div>\n                {this.state.filteredSuggestions.map((suggestion, index) => {\n                  let className;\n    \n                  // Flag the active suggestion with a class\n                  if (index === this.state.activeSuggestion) {\n                    className = \"suggestion-active\";\n                  }\n    \n                  return (\n                    \n                    <div className={className}\n                    key = {suggestion.name}\n               \n                    onClick={this.onClick}>\n                    <Icon type = \"search\"/>\n                    \n                    {\" \"+ suggestion.name +\"-\" +suggestion.type}\n                    </div>\n                    \n                      \n                    \n                  );\n                })}\n            </div>\n            );\n          } else {\n            suggestionsListComponent = (\n              <div className=\"no-suggestions\">\n                <em>Not Found</em>\n              </div>\n            );\n          }\n        }\n\n        return(\n            <Fragment>\n                <Input\n          type=\"text\"\n          onChange={this.onChange}\n          onKeyDown={this.onKeyDown}\n          value={this.state.userInput}\n          placeholder= \"Search person\"\n        />\n        \n       \n       \n        {suggestionsListComponent}\n               \n                <MapContainer\n    googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0&v=3.exp&libraries=geometry,drawing,places\"\n    loadingElement={<div style={{ height: `100%` }} />}\n    containerElement={<div style={{ height: `400px` }} />}\n    mapElement={<div style={{ height: `100%` }} />}\n    clickedInput= {this.state.clickedInput}\n    clickable= {this.state.clickable}\n    windowSize= {this.state.windowSize}\n  />\n            </Fragment>\n           \n            \n          \n      \n        )\n    }\n}\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}