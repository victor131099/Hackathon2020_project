{"ast":null,"code":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { backend, util, tidy, onesLike, scalar, tensor1d, where, zerosLike, serialization, train, cast, dispose, memory, add, mul, div, keep, nextFrame, Tensor, Optimizer, concat, mean, io, transpose, expandDims, reverse, unstack, stack, zeros, sum, split, neg, variable, ones, eye, randomUniform, truncatedNormal, randomNormal, sub, sqrt, mulStrict, clipByValue, relu, linalg, leakyRelu, prelu, elu, conv1d, fused, conv3d, conv2dTranspose, separableConv2d, depthwiseConv2d, any, notEqual, logicalAnd, maximum, minimum, all, greaterEqual, batchNorm2d, batchNorm3d, batchNorm4d, moments, pad, maxPool, avgPool, maxPool3d, avgPool3d, squeeze, max, fill, abs, log, softplus, softmax, floor, oneHot, greater, equal, argMax, slice1d, slice2d, slice3d, slice4d, concat1d, concat2d, concat3d, concat4d, tile, gather, dropout, min, selu, sigmoid, tanh, logSoftmax } from \"@tensorflow/tfjs-core\";\n\nvar extendStatics = function (e, t) {\n  return (extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (e, t) {\n    e.__proto__ = t;\n  } || function (e, t) {\n    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);\n  })(e, t);\n};\n\nfunction __extends(e, t) {\n  function n() {\n    this.constructor = e;\n  }\n\n  extendStatics(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n}\n\nvar _epsilon,\n    __assign = function () {\n  return (__assign = Object.assign || function (e) {\n    for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction __awaiter(e, t, n, r) {\n  return new (n || (n = Promise))(function (i, a) {\n    function o(e) {\n      try {\n        l(r.next(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        l(r.throw(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function l(e) {\n      e.done ? i(e.value) : new n(function (t) {\n        t(e.value);\n      }).then(o, s);\n    }\n\n    l((r = r.apply(e, t || [])).next());\n  });\n}\n\nfunction __generator(e, t) {\n  var n,\n      r,\n      i,\n      a,\n      o = {\n    label: 0,\n    sent: function () {\n      if (1 & i[0]) throw i[1];\n      return i[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return a = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n    return this;\n  }), a;\n\n  function s(a) {\n    return function (s) {\n      return function (a) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; o;) try {\n          if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;\n\n          switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n            case 0:\n            case 1:\n              i = a;\n              break;\n\n            case 4:\n              return o.label++, {\n                value: a[1],\n                done: !1\n              };\n\n            case 5:\n              o.label++, r = a[1], a = [0];\n              continue;\n\n            case 7:\n              a = o.ops.pop(), o.trys.pop();\n              continue;\n\n            default:\n              if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                o = 0;\n                continue;\n              }\n\n              if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                o.label = a[1];\n                break;\n              }\n\n              if (6 === a[0] && o.label < i[1]) {\n                o.label = i[1], i = a;\n                break;\n              }\n\n              if (i && o.label < i[2]) {\n                o.label = i[2], o.ops.push(a);\n                break;\n              }\n\n              i[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n\n          a = t.call(e, o);\n        } catch (e) {\n          a = [6, e], r = 0;\n        } finally {\n          n = i = 0;\n        }\n\n        if (5 & a[0]) throw a[1];\n        return {\n          value: a[0] ? a[1] : void 0,\n          done: !0\n        };\n      }([a, s]);\n    };\n  }\n}\n\nfunction epsilon() {\n  return null == _epsilon && (_epsilon = backend().epsilon()), _epsilon;\n}\n\nfunction imageDataFormat() {\n  return \"channelsLast\";\n}\n\nvar AttributeError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    RuntimeError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    ValueError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    NotImplementedError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    AssertionError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    IndexError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error);\n\nfunction pyListRepeat(e, t) {\n  if (Array.isArray(e)) {\n    for (var n = [], r = 0; r < t; r++) n = n.concat(e);\n\n    return n;\n  }\n\n  return (n = new Array(t)).fill(e), n;\n}\n\nfunction assert(e, t) {\n  if (!e) throw new AssertionError(t);\n}\n\nfunction count(e, t) {\n  for (var n = 0, r = 0, i = e; r < i.length; r++) {\n    i[r] === t && n++;\n  }\n\n  return n;\n}\n\nfunction singletonOrArray(e) {\n  return 1 === e.length ? e[0] : e;\n}\n\nfunction toList(e) {\n  return Array.isArray(e) ? e : [e];\n}\n\nfunction toSnakeCase(e) {\n  var t = e.replace(/(.)([A-Z][a-z0-9]+)/g, \"$1_$2\").replace(/([a-z])([A-Z])/g, \"$1_$2\").toLowerCase();\n  return \"_\" !== t[0] ? t : \"private\" + t;\n}\n\nfunction toCamelCase(e) {\n  return e.length <= 1 ? e : -1 === e.indexOf(\"_\") ? e : e.replace(/[_]+(\\w|$)/g, function (e, t) {\n    return t.toUpperCase();\n  });\n}\n\nvar _GLOBAL_CUSTOM_OBJECTS = {};\n\nfunction serializeKerasObject(e) {\n  if (null === e || void 0 === e) return null;\n  var t = {};\n  return t.className = e.getClassName(), t.config = e.getConfig(), t;\n}\n\nfunction convertNDArrayScalarsInConfig(e) {\n  if (null != e && \"object\" == typeof e) if (Array.isArray(e)) e.forEach(function (e) {\n    return convertNDArrayScalarsInConfig(e);\n  });else for (var t = 0, n = Object.keys(e); t < n.length; t++) {\n    var r = n[t],\n        i = e[r];\n    null != i && \"object\" == typeof i && (Array.isArray(i) || \"ndarray\" !== i.type || \"number\" != typeof i.value ? convertNDArrayScalarsInConfig(i) : e[r] = i.value);\n  }\n}\n\nfunction deserializeKerasObject(e, t, n, r, i) {\n  var a, o, s;\n\n  if (void 0 === t && (t = {}), void 0 === n && (n = {}), void 0 === r && (r = \"object\"), void 0 === i && (i = !1), \"string\" == typeof e) {\n    var l = e,\n        u = void 0;\n    if (l in n) u = n[l];else if (l in _GLOBAL_CUSTOM_OBJECTS) u = _GLOBAL_CUSTOM_OBJECTS[l];else if (null == (u = t[l])) throw new ValueError(\"Unknown \" + r + \": \" + e + \". This may be due to one of the following reasons:\\n1. The \" + r + \" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \" + r + \" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");\n    return u;\n  }\n\n  var c = e;\n  if (null == c.className || null == c.config) throw new ValueError(r + \": Improper config format: \" + JSON.stringify(c) + \".\\n'className' and 'config' must set.\");\n  var p = c.className,\n      h = void 0,\n      d = void 0;\n  if (p in n ? (h = (a = n[p])[0], d = a[1]) : p in _GLOBAL_CUSTOM_OBJECTS ? (h = (o = _GLOBAL_CUSTOM_OBJECTS.className)[0], d = o[1]) : p in t && (h = (s = t[p])[0], d = s[1]), null == h) throw new ValueError(\"Unknown \" + r + \": \" + p + \". This may be due to one of the following reasons:\\n1. The \" + r + \" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \" + r + \" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");\n\n  if (null != d) {\n    for (var f = {}, g = 0, m = Object.keys(_GLOBAL_CUSTOM_OBJECTS); g < m.length; g++) {\n      f[S = m[g]] = _GLOBAL_CUSTOM_OBJECTS[S];\n    }\n\n    for (var y = 0, v = Object.keys(n); y < v.length; y++) {\n      f[S = v[y]] = n[S];\n    }\n\n    c.config.customObjects = f;\n\n    for (var b = __assign({}, _GLOBAL_CUSTOM_OBJECTS), w = 0, z = Object.keys(n); w < z.length; w++) {\n      var S = z[w];\n      _GLOBAL_CUSTOM_OBJECTS[S] = n[S];\n    }\n\n    convertNDArrayScalarsInConfig(c.config);\n    var A = d(h, c.config, n, i);\n    return _GLOBAL_CUSTOM_OBJECTS = __assign({}, b), A;\n  }\n\n  b = __assign({}, _GLOBAL_CUSTOM_OBJECTS);\n\n  for (var _ = 0, I = Object.keys(n); _ < I.length; _++) {\n    S = I[_];\n    _GLOBAL_CUSTOM_OBJECTS[S] = n[S];\n  }\n\n  A = new h(c.config);\n  return _GLOBAL_CUSTOM_OBJECTS = __assign({}, b), A;\n}\n\nfunction numberCompare(e, t) {\n  return e < t ? -1 : e > t ? 1 : 0;\n}\n\nfunction reverseNumberCompare(e, t) {\n  return -1 * numberCompare(e, t);\n}\n\nfunction unique(e) {\n  if (null == e) return e;\n\n  for (var t = [], n = 0, r = e; n < r.length; n++) {\n    var i = r[n];\n    -1 === t.indexOf(i) && t.push(i);\n  }\n\n  return t;\n}\n\nfunction isObjectEmpty(e) {\n  if (null == e) throw new ValueError(\"Invalid value in obj: \" + JSON.stringify(e));\n\n  for (var t in e) if (e.hasOwnProperty(t)) return !1;\n\n  return !0;\n}\n\nfunction checkStringTypeUnionValue(e, t, n) {\n  if (null != n && e.indexOf(n) < 0) throw new ValueError(n + \" is not a valid \" + t + \".  Valid values are \" + e + \" or null/undefined.\");\n}\n\nfunction checkArrayTypeAndLength(e, t, n, r) {\n  return void 0 === n && (n = 0), void 0 === r && (r = 1 / 0), assert(n >= 0), assert(r >= n), Array.isArray(e) && e.length >= n && e.length <= r && e.every(function (e) {\n    return typeof e === t;\n  });\n}\n\nfunction assertPositiveInteger(e, t) {\n  Array.isArray(e) ? (util.assert(e.length > 0, function () {\n    return t + \" is unexpectedly an empty array.\";\n  }), e.forEach(function (e, n) {\n    return assertPositiveInteger(e, \"element \" + (n + 1) + \" of \" + t);\n  })) : util.assert(Number.isInteger(e) && e > 0, function () {\n    return \"Expected \" + t + \" to be a positive integer, but got \" + formatAsFriendlyString(e) + \".\";\n  });\n}\n\nfunction formatAsFriendlyString(e) {\n  return null === e ? \"null\" : Array.isArray(e) ? \"[\" + e.map(function (e) {\n    return formatAsFriendlyString(e);\n  }).join(\",\") + \"]\" : \"string\" == typeof e ? '\"' + e + '\"' : \"\" + e;\n}\n\nfunction debounce(e, t) {\n  var n,\n      r = util.now();\n  return function () {\n    for (var i = [], a = 0; a < arguments.length; a++) i[a] = arguments[a];\n\n    var o = util.now();\n    return o - r < t ? n : (r = o, n = e.apply(void 0, i));\n  };\n}\n\nfunction mapActivationToFusedKernel(e) {\n  return \"relu\" === e ? \"relu\" : \"linear\" === e ? \"linear\" : \"elu\" === e ? \"elu\" : null;\n}\n\nfunction calcL2Norms(e, t) {\n  return tidy(function () {\n    return sqrt(sum(mulStrict(e, e), t, !0));\n  });\n}\n\nvar Constraint = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    MaxNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultMaxValue = 2, n.defaultAxis = 0, n.maxValue = null != t.maxValue ? t.maxValue : n.defaultMaxValue, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = calcL2Norms(e, t.axis),\n          r = clipByValue(n, 0, t.maxValue);\n      return mul(e, div(r, add(epsilon(), n)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      maxValue: this.maxValue,\n      axis: this.axis\n    };\n  }, t.className = \"MaxNorm\", t;\n}(Constraint);\n\nserialization.registerClass(MaxNorm);\n\nvar UnitNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultAxis = 0, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      return div(e, add(epsilon(), calcL2Norms(e, t.axis)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      axis: this.axis\n    };\n  }, t.className = \"UnitNorm\", t;\n}(Constraint);\n\nserialization.registerClass(UnitNorm);\n\nvar NonNeg = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return relu(e);\n  }, t.className = \"NonNeg\", t;\n}(Constraint);\n\nserialization.registerClass(NonNeg);\n\nvar MinMaxNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultMinValue = 0, n.defaultMaxValue = 1, n.defaultRate = 1, n.defaultAxis = 0, n.minValue = null != t.minValue ? t.minValue : n.defaultMinValue, n.maxValue = null != t.maxValue ? t.maxValue : n.defaultMaxValue, n.rate = null != t.rate ? t.rate : n.defaultRate, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = calcL2Norms(e, t.axis),\n          r = add(mul(t.rate, clipByValue(n, t.minValue, t.maxValue)), mul(1 - t.rate, n));\n      return mul(e, div(r, add(epsilon(), n)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      minValue: this.minValue,\n      maxValue: this.maxValue,\n      rate: this.rate,\n      axis: this.axis\n    };\n  }, t.className = \"MinMaxNorm\", t;\n}(Constraint);\n\nserialization.registerClass(MinMaxNorm);\nvar CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  maxNorm: \"MaxNorm\",\n  minMaxNorm: \"MinMaxNorm\",\n  nonNeg: \"NonNeg\",\n  unitNorm: \"UnitNorm\"\n};\n\nfunction serializeConstraint(e) {\n  return serializeKerasObject(e);\n}\n\nfunction deserializeConstraint(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"constraint\");\n}\n\nfunction getConstraint(e) {\n  return null == e ? null : \"string\" == typeof e ? deserializeConstraint({\n    className: e in CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP ? CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e,\n    config: {}\n  }) : e instanceof Constraint ? e : deserializeConstraint(e);\n}\n\nfunction maxNorm(e) {\n  return new MaxNorm(e);\n}\n\nfunction unitNorm(e) {\n  return new UnitNorm(e);\n}\n\nfunction nonNeg() {\n  return new NonNeg();\n}\n\nfunction minMaxNorm(e) {\n  return new MinMaxNorm(e);\n}\n\nvar exports_constraints = Object.freeze({\n  maxNorm: maxNorm,\n  unitNorm: unitNorm,\n  nonNeg: nonNeg,\n  minMaxNorm: minMaxNorm\n}),\n    VALID_DATA_FORMAT_VALUES = [\"channelsFirst\", \"channelsLast\"],\n    VALID_PADDING_MODE_VALUES = [\"valid\", \"same\", \"causal\"],\n    VALID_POOL_MODE_VALUES = [\"max\", \"avg\"],\n    VALID_BIDIRECTIONAL_MERGE_MODES = [\"sum\", \"mul\", \"concat\", \"ave\"],\n    nameMap = new Map();\n\nfunction checkDataFormat(e) {\n  checkStringTypeUnionValue(VALID_DATA_FORMAT_VALUES, \"DataFormat\", e);\n}\n\nfunction checkPaddingMode(e) {\n  checkStringTypeUnionValue(VALID_PADDING_MODE_VALUES, \"PaddingMode\", e);\n}\n\nfunction checkPoolMode(e) {\n  checkStringTypeUnionValue(VALID_POOL_MODE_VALUES, \"PoolMode\", e);\n}\n\nvar _nameScopeStack = [],\n    _nameScopeDivider = \"/\";\n\nfunction nameScope(e, t) {\n  _nameScopeStack.push(e);\n\n  try {\n    var n = t();\n    return _nameScopeStack.pop(), n;\n  } catch (e) {\n    throw _nameScopeStack.pop(), e;\n  }\n}\n\nfunction currentNameScopePrefix() {\n  return 0 === _nameScopeStack.length ? \"\" : _nameScopeStack.join(_nameScopeDivider) + _nameScopeDivider;\n}\n\nfunction getScopedTensorName(e) {\n  if (!isValidTensorName(e)) throw new Error(\"Not a valid tensor name: '\" + e + \"'\");\n  return currentNameScopePrefix() + e;\n}\n\nfunction getUniqueTensorName(e) {\n  if (!isValidTensorName(e)) throw new Error(\"Not a valid tensor name: '\" + e + \"'\");\n  nameMap.has(e) || nameMap.set(e, 0);\n  var t = nameMap.get(e);\n\n  if (nameMap.set(e, nameMap.get(e) + 1), t > 0) {\n    var n = e + \"_\" + t;\n    return nameMap.set(n, 1), n;\n  }\n\n  return e;\n}\n\nvar tensorNameRegex = new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\\._\\/]*$/);\n\nfunction isValidTensorName(e) {\n  return !!e.match(tensorNameRegex);\n}\n\nfunction isInteger(e) {\n  return e === parseInt(e.toString(), 10);\n}\n\nfunction arrayProd(e, t, n) {\n  null == t && (t = 0), null == n && (n = e.length);\n\n  for (var r = 1, i = t; i < n; ++i) r *= e[i];\n\n  return r;\n}\n\nfunction toArray1D(e) {\n  return e = Array.isArray(e) ? new Float32Array(e) : e, tensor1d(e);\n}\n\nfunction min$1(e) {\n  return min(toArray1D(e)).dataSync()[0];\n}\n\nfunction max$1(e) {\n  return max(toArray1D(e)).dataSync()[0];\n}\n\nfunction range(e, t) {\n  if (t < e) throw new ValueError(\"end (\" + t + \") < begin (\" + e + \") is forbidden.\");\n\n  for (var n = [], r = e; r < t; ++r) n.push(r);\n\n  return n;\n}\n\nfunction cast$1(e, t) {\n  return e.asType(t);\n}\n\nfunction expandDims$1(e, t) {\n  void 0 === t && (t = -1);\n  var n = e.shape.slice();\n  return t < 0 && (t = n.length + t + 1), n.splice(t, 0, 1), e.reshape(n);\n}\n\nfunction repeat(e, t) {\n  return tidy(function () {\n    if (2 !== e.shape.length) throw new ValueError(\"repeat() expects a rank-2 tensor, but received a rank-\" + e.shape.length + \" tensor.\");\n    return tile$1(expandDims$1(e, 1), [1, t, 1]);\n  });\n}\n\nfunction flatten(e) {\n  var t = [arrayProd(e.shape)];\n  return e.reshape(t);\n}\n\nfunction batchFlatten(e) {\n  if (e.rank <= 1) throw new ValueError(\"batchFlatten requires a minimum rank of 2. Got rank: \" + e.rank + \".\");\n  var t = [e.shape[0], arrayProd(e.shape, 1)];\n  return e.reshape(t);\n}\n\nfunction sliceAlongFirstAxis(e, t, n) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        return slice2d(e, [t, 0], [n, e.shape[1]]);\n\n      case 3:\n        return slice3d(e, [t, 0, 0], [n, e.shape[1], e.shape[2]]);\n\n      case 4:\n        return slice4d(e, [t, 0, 0, 0], [n, e.shape[1], e.shape[2], e.shape[3]]);\n\n      default:\n        throw new ValueError(\"sliceAlongFirstAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction sliceAlongLastAxis(e, t, n) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        return slice2d(e, [0, t], [e.shape[0], n]);\n\n      case 3:\n        return slice3d(e, [0, 0, t], [e.shape[0], e.shape[1], n]);\n\n      case 4:\n        return slice4d(e, [0, 0, 0, t], [e.shape[0], e.shape[1], e.shape[2], n]);\n\n      default:\n        throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction sliceAlongAxis(e, t, n, r) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      case 3:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return slice3d(e, [0, t, 0], [e.shape[0], n, e.shape[2]]);\n\n          case 3:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      case 4:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return slice4d(e, [0, t, 0, 0], [e.shape[0], n, e.shape[2], e.shape[3]]);\n\n          case 3:\n            return slice4d(e, [0, 0, t, 0], [e.shape[0], e.shape[1], n, e.shape[3]]);\n\n          case 4:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      default:\n        throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction concatenate(e, t) {\n  var n;\n  return void 0 === t && (t = -1), t < 0 && (t = 0 !== (n = e[0].rank) ? n : 0), t === e[0].rank && (t = -1), concat(e, t);\n}\n\nfunction concatAlongFirstAxis(e, t) {\n  switch (e.rank) {\n    case 1:\n      return concat1d([e, t]);\n\n    case 2:\n      return concat2d([e, t], 0);\n\n    case 3:\n      return concat3d([e, t], 0);\n\n    case 4:\n      return concat4d([e, t], 0);\n\n    default:\n      throw new ValueError(\"concatAlongFirstAxis() received an unsupported tensor rank: \" + e.rank);\n  }\n}\n\nfunction tile$1(e, t) {\n  if (Array.isArray(t) || (t = [t]), e.rank !== t.length) throw new ValueError(\"The length of input n (\" + t.length + \") does not match the number of dimensions in input x (\" + e.rank + \")\");\n  return tile(e, t);\n}\n\nfunction randomNormal$1(e, t, n, r, i) {\n  return void 0 === t && (t = 0), void 0 === n && (n = 1), randomNormal(e, t, n, r, i);\n}\n\nfunction dot(e, t, n, r) {\n  if (e.rank < 2 || t.rank < 2) throw new NotImplementedError(\"dot requires both inputs to be rank >= 2 but got x shape = \" + e.shape + \" and y shape = \" + t.shape);\n  if (t.rank >= 3 && e.shape.slice(-1)[0] !== (c = t.shape.slice(-2)[0])) throw new NotImplementedError(\"If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = \" + e.shape + \" and  y shape = \" + t.shape);\n\n  if (2 === e.rank && 2 === t.rank) {\n    var i = !1,\n        a = !1;\n    return fused.matMul({\n      a: e,\n      b: t,\n      transposeA: i,\n      transposeB: a,\n      bias: r ? reshapeBias(e.rank, r, imageDataFormat()) : null,\n      activation: n\n    });\n  }\n\n  var o = e.shape.slice(),\n      s = o.pop();\n  e = e.reshape([-1, s]);\n  var l = t.shape.slice(),\n      u = l.pop(),\n      c = l.pop(),\n      p = l.concat([u]),\n      h = Array.from({\n    length: t.rank\n  }, function (e, n) {\n    return 0 === n ? t.rank - 2 : n <= t.rank - 2 ? n - 1 : n;\n  });\n  t = t.transpose(h).reshape([c, -1]);\n  var d = o.concat(p);\n  i = !1, a = !1;\n  return fused.matMul({\n    a: e,\n    b: t,\n    transposeA: i,\n    transposeB: a,\n    bias: r ? reshapeBias(e.rank, r, imageDataFormat()) : null,\n    activation: n\n  }).reshape(d);\n}\n\nfunction gather$1(e, t, n) {\n  return tidy(function () {\n    return t = Array.isArray(t) ? tensor1d(t, \"int32\") : t.toInt(), gather(e, t, n);\n  });\n}\n\nfunction square(e) {\n  return mulStrict(e, e);\n}\n\nfunction reshapeBias(e, t, n) {\n  var r = t.shape;\n  if (1 !== t.rank && t.rank !== e) throw new ValueError(\"Unexpected bias dimensions: \" + t.rank + \"; expected it to be 1 or \" + e);\n\n  if (5 === e) {\n    if (\"channelsFirst\" === n) return 1 === r.length ? t.reshape([1, r[0], 1, 1, 1]) : t.reshape([1, r[3], r[0], r[1], r[2]]);\n    if (\"channelsLast\" === n) return 1 === r.length ? t.reshape([1, 1, 1, 1, r[0]]) : t.reshape([1].concat(r));\n  } else if (4 === e) {\n    if (\"channelsFirst\" === n) return 1 === r.length ? t.reshape([1, r[0], 1, 1]) : t.reshape([1, r[2], r[0], r[1]]);\n    if (\"channelsLast\" === n) return 1 === r.length ? t.reshape([1, 1, 1, r[0]]) : t.reshape([1].concat(r));\n  } else if (3 === e) {\n    if (\"channelsFirst\" === n) return 1 === r.length ? t.reshape([1, r[0], 1]) : t.reshape([1, r[1], r[0]]);\n    if (\"channelsLast\" === n) return 1 === r.length ? t.reshape([1, 1, r[0]]) : t.reshape([1].concat(r));\n  } else if (e < 3) return t;\n\n  throw new ValueError(\"Unsupported input rank by biasAdd: \" + t.rank);\n}\n\nfunction biasAdd(e, t, n) {\n  return tidy(function () {\n    return null == n && (n = imageDataFormat()), checkDataFormat(n), e.add(reshapeBias(e.rank, t, n));\n  });\n}\n\nfunction elu$1(e, t) {\n  if (void 0 === t && (t = 1), 1 !== t) throw new NotImplementedError(\"Support for alpha values other than 1 (\" + t + \") is not implemented yet.\");\n  return elu(e);\n}\n\nfunction softsign(e) {\n  return tidy(function () {\n    return div(e, abs(e).add(1));\n  });\n}\n\nfunction dropout$1(e, t, n, r) {\n  return tidy(function () {\n    return dropout(e, t, n, r);\n  });\n}\n\nfunction hardSigmoid(e) {\n  return tidy(function () {\n    var t = add(.5, mul(.2, e));\n    return clipByValue(t, 0, 1);\n  });\n}\n\nfunction inTrainPhase(e, t, n) {\n  return void 0 === n && (n = !1), n ? e() : t();\n}\n\nvar VALID_FAN_MODE_VALUES = [\"fanIn\", \"fanOut\", \"fanAvg\"],\n    VALID_DISTRIBUTION_VALUES = [\"normal\", \"uniform\", \"truncatedNormal\"];\n\nfunction checkFanMode(e) {\n  checkStringTypeUnionValue(VALID_FAN_MODE_VALUES, \"FanMode\", e);\n}\n\nfunction checkDistribution(e) {\n  checkStringTypeUnionValue(VALID_DISTRIBUTION_VALUES, \"Distribution\", e);\n}\n\nvar Initializer = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.fromConfigUsesCustomObjects = function () {\n    return !1;\n  }, t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    Zeros = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return zeros(e, t);\n  }, t.className = \"Zeros\", t;\n}(Initializer);\n\nserialization.registerClass(Zeros);\n\nvar Ones = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return ones(e, t);\n  }, t.className = \"Ones\", t;\n}(Initializer);\n\nserialization.registerClass(Ones);\n\nvar Constant = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (\"object\" != typeof t) throw new ValueError(\"Expected argument of type ConstantConfig but got \" + t);\n    if (void 0 === t.value) throw new ValueError(\"config must have value set but got \" + t);\n    return n.value = t.value, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return mul(scalar(n.value), ones(e, t));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      value: this.value\n    };\n  }, t.className = \"Constant\", t;\n}(Initializer);\n\nserialization.registerClass(Constant);\n\nvar RandomUniform = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MINVAL = -.05, n.DEFAULT_MAXVAL = .05, n.minval = t.minval || n.DEFAULT_MINVAL, n.maxval = t.maxval || n.DEFAULT_MAXVAL, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return randomUniform(e, this.minval, this.maxval, t);\n  }, t.prototype.getConfig = function () {\n    return {\n      minval: this.minval,\n      maxval: this.maxval,\n      seed: this.seed\n    };\n  }, t.className = \"RandomUniform\", t;\n}(Initializer);\n\nserialization.registerClass(RandomUniform);\n\nvar RandomNormal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MEAN = 0, n.DEFAULT_STDDEV = .05, n.mean = t.mean || n.DEFAULT_MEAN, n.stddev = t.stddev || n.DEFAULT_STDDEV, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(\"randomNormal does not support dType \" + t + \".\");\n    return randomNormal$1(e, this.mean, this.stddev, t, this.seed);\n  }, t.prototype.getConfig = function () {\n    return {\n      mean: this.mean,\n      stddev: this.stddev,\n      seed: this.seed\n    };\n  }, t.className = \"RandomNormal\", t;\n}(Initializer);\n\nserialization.registerClass(RandomNormal);\n\nvar TruncatedNormal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MEAN = 0, n.DEFAULT_STDDEV = .05, n.mean = t.mean || n.DEFAULT_MEAN, n.stddev = t.stddev || n.DEFAULT_STDDEV, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(\"truncatedNormal does not support dType \" + t + \".\");\n    return truncatedNormal(e, this.mean, this.stddev, t, this.seed);\n  }, t.prototype.getConfig = function () {\n    return {\n      mean: this.mean,\n      stddev: this.stddev,\n      seed: this.seed\n    };\n  }, t.className = \"TruncatedNormal\", t;\n}(Initializer);\n\nserialization.registerClass(TruncatedNormal);\n\nvar Identity = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.gain = null != t.gain ? t.gain : 1, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== e.length || e[0] !== e[1]) throw new ValueError(\"Identity matrix initializer can only be used for 2D square matrices.\");\n      return mul(n.gain, eye(e[0]));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      gain: this.gain\n    };\n  }, t.className = \"Identity\", t;\n}(Initializer);\n\nfunction computeFans(e, t) {\n  var n, r;\n  if (void 0 === t && (t = \"channelsLast\"), checkDataFormat(t), 2 === e.length) n = e[0], r = e[1];else if (-1 !== [3, 4, 5].indexOf(e.length)) {\n    if (\"channelsFirst\" === t) {\n      var i = arrayProd(e, 2);\n      n = e[1] * i, r = e[0] * i;\n    } else if (\"channelsLast\" === t) {\n      i = arrayProd(e, 0, e.length - 2);\n      n = e[e.length - 2] * i, r = e[e.length - 1] * i;\n    }\n  } else {\n    var a = arrayProd(e);\n    n = Math.sqrt(a), r = Math.sqrt(a);\n  }\n  return [n, r];\n}\n\nserialization.registerClass(Identity);\n\nvar VarianceScaling = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (t.scale < 0) throw new ValueError(\"scale must be a positive float. Got: \" + t.scale);\n    return n.scale = null == t.scale ? 1 : t.scale, n.mode = null == t.mode ? \"fanIn\" : t.mode, checkFanMode(n.mode), n.distribution = null == t.distribution ? \"normal\" : t.distribution, checkDistribution(n.distribution), n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = computeFans(e),\n        r = n[0],\n        i = n[1],\n        a = this.scale;\n\n    if (\"fanIn\" === this.mode ? a /= Math.max(1, r) : \"fanOut\" === this.mode ? a /= Math.max(1, i) : a /= Math.max(1, (r + i) / 2), \"normal\" === this.distribution) {\n      var o = Math.sqrt(a);\n      if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(this.getClassName() + \" does not support dType \" + t + \".\");\n      return truncatedNormal(e, 0, o, t, this.seed);\n    }\n\n    var s = Math.sqrt(3 * a);\n    return randomUniform(e, -s, s, t);\n  }, t.prototype.getConfig = function () {\n    return {\n      scale: this.scale,\n      mode: this.mode,\n      distribution: this.distribution,\n      seed: this.seed\n    };\n  }, t.className = \"VarianceScaling\", t;\n}(Initializer);\n\nserialization.registerClass(VarianceScaling);\n\nvar GlorotUniform = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanAvg\",\n      distribution: \"uniform\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"GlorotUniform\", t;\n}(VarianceScaling);\n\nserialization.registerClass(GlorotUniform);\n\nvar GlorotNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanAvg\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"GlorotNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(GlorotNormal);\n\nvar HeNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 2,\n      mode: \"fanIn\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"HeNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(HeNormal);\n\nvar HeUniform = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 2,\n      mode: \"fanIn\",\n      distribution: \"uniform\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"HeUniform\", t;\n}(VarianceScaling);\n\nserialization.registerClass(HeUniform);\n\nvar LeCunNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanIn\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"LeCunNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(LeCunNormal);\n\nvar LeCunUniform = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanIn\",\n      distribution: \"uniform\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"LeCunNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(LeCunUniform);\n\nvar Orthogonal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (n.DEFAULT_GAIN = 1, n.gain = null == t.gain ? n.DEFAULT_GAIN : t.gain, n.seed = t.seed, null != n.seed) throw new NotImplementedError(\"Random seed is not implemented for Orthogonal Initializer yet.\");\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== e.length) throw new NotImplementedError(\"The Orthogonal Initializer does not support non-2D shapes yet.\");\n      e[0] * e[1] > 2e3 && console.warn(\"Orthogonal initializer is being called on a matrix with more than 2000 (\" + e[0] * e[1] + \") elements: Slowness may result.\");\n      var t = randomNormal$1(e[0] > e[1] ? [e[1], e[0]] : e, 0, 1, \"float32\"),\n          r = linalg.gramSchmidt(t);\n      return e[0] > e[1] && (r = r.transpose()), mul(n.gain, r);\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      gain: this.gain,\n      seed: this.seed\n    };\n  }, t.className = \"Orthogonal\", t;\n}(Initializer);\n\nserialization.registerClass(Orthogonal);\nvar INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  constant: \"Constant\",\n  glorotNormal: \"GlorotNormal\",\n  glorotUniform: \"GlorotUniform\",\n  heNormal: \"HeNormal\",\n  heUniform: \"HeUniform\",\n  identity: \"Identity\",\n  leCunNormal: \"LeCunNormal\",\n  leCunUniform: \"LeCunUniform\",\n  ones: \"Ones\",\n  orthogonal: \"Orthogonal\",\n  randomNormal: \"RandomNormal\",\n  randomUniform: \"RandomUniform\",\n  truncatedNormal: \"TruncatedNormal\",\n  varianceScaling: \"VarianceScaling\",\n  zeros: \"Zeros\"\n};\n\nfunction deserializeInitializer(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"initializer\");\n}\n\nfunction serializeInitializer(e) {\n  return serializeKerasObject(e);\n}\n\nfunction getInitializer(e) {\n  if (\"string\" == typeof e) {\n    var t = e in INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP ? INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e;\n    if (\"GlorotNormal\" === t) return new GlorotNormal();\n    if (\"GlorotUniform\" === t) return new GlorotUniform();\n    if (\"HeNormal\" === t) return new HeNormal();\n    if (\"HeUniform\" === t) return new HeUniform();\n    if (\"LeCunNormal\" === t) return new LeCunNormal();\n    if (\"LeCunUniform\" === t) return new LeCunUniform();\n    var n = {};\n    return n.className = t, n.config = {}, deserializeInitializer(n);\n  }\n\n  return e instanceof Initializer ? e : deserializeInitializer(e);\n}\n\nfunction zeros$1() {\n  return new Zeros();\n}\n\nfunction ones$1() {\n  return new Ones();\n}\n\nfunction constant(e) {\n  return new Constant(e);\n}\n\nfunction randomUniform$1(e) {\n  return new RandomUniform(e);\n}\n\nfunction randomNormal$2(e) {\n  return new RandomNormal(e);\n}\n\nfunction truncatedNormal$1(e) {\n  return new TruncatedNormal(e);\n}\n\nfunction identity(e) {\n  return new Identity(e);\n}\n\nfunction varianceScaling(e) {\n  return new VarianceScaling(e);\n}\n\nfunction glorotUniform(e) {\n  return new GlorotUniform(e);\n}\n\nfunction glorotNormal(e) {\n  return new GlorotNormal(e);\n}\n\nfunction heNormal(e) {\n  return new HeNormal(e);\n}\n\nfunction heUniform(e) {\n  return new HeUniform(e);\n}\n\nfunction leCunNormal(e) {\n  return new LeCunNormal(e);\n}\n\nfunction leCunUniform(e) {\n  return new LeCunUniform(e);\n}\n\nfunction orthogonal(e) {\n  return new Orthogonal(e);\n}\n\nvar exports_initializers = Object.freeze({\n  zeros: zeros$1,\n  ones: ones$1,\n  constant: constant,\n  randomUniform: randomUniform$1,\n  randomNormal: randomNormal$2,\n  truncatedNormal: truncatedNormal$1,\n  identity: identity,\n  varianceScaling: varianceScaling,\n  glorotUniform: glorotUniform,\n  glorotNormal: glorotNormal,\n  heNormal: heNormal,\n  heUniform: heUniform,\n  leCunNormal: leCunNormal,\n  leCunUniform: leCunUniform,\n  orthogonal: orthogonal\n}),\n    _nextUniqueTensorId = 0;\n\nfunction getNextUniqueTensorId() {\n  return _nextUniqueTensorId++;\n}\n\nvar _uidPrefixes = {};\n\nfunction getUid(e) {\n  return void 0 === e && (e = \"\"), e in _uidPrefixes || (_uidPrefixes[e] = 0), _uidPrefixes[e] += 1, e + _uidPrefixes[e].toString();\n}\n\nfunction isArrayOfShapes(e) {\n  return Array.isArray(e) && Array.isArray(e[0]);\n}\n\nfunction normalizeShapeList(e) {\n  return 0 === e.length ? [] : Array.isArray(e[0]) ? e : [e];\n}\n\nfunction getExactlyOneTensor(e) {\n  var t;\n\n  if (Array.isArray(e)) {\n    if (1 !== e.length) throw new ValueError(\"Expected Tensor length to be 1; got \" + e.length);\n    t = e[0];\n  } else t = e;\n\n  return t;\n}\n\nfunction getExactlyOneShape(e) {\n  if (Array.isArray(e) && Array.isArray(e[0])) {\n    if (1 === e.length) return (e = e)[0];\n    throw new ValueError(\"Expected exactly 1 Shape; got \" + e.length);\n  }\n\n  return e;\n}\n\nfunction countParamsInWeights(e) {\n  for (var t = 0, n = 0, r = e; n < r.length; n++) {\n    var i = r[n];\n    0 === i.shape.length ? t += 1 : t += i.shape.reduce(function (e, t) {\n      return e * t;\n    });\n  }\n\n  return t;\n}\n\nvar DEFAULT_VARIABLE_NAME_PREFIX = \"Variable\",\n    LayerVariable = function () {\n  function e(e, t, n, r, i) {\n    void 0 === t && (t = \"float32\"), void 0 === n && (n = DEFAULT_VARIABLE_NAME_PREFIX), void 0 === r && (r = !0), void 0 === i && (i = null), this.dtype = null == t ? \"float32\" : t, this.shape = e.shape, this.id = getNextUniqueTensorId(), n = null == n ? DEFAULT_VARIABLE_NAME_PREFIX : n, this.originalName = getScopedTensorName(n), this.name = getUniqueTensorName(this.originalName), this.trainable_ = r, this.constraint = i, this.val = variable(e, this.trainable_, this.name, this.dtype);\n  }\n\n  return e.prototype.read = function () {\n    return this.assertNotDisposed(), this.val;\n  }, e.prototype.write = function (e) {\n    return this.assertNotDisposed(), checkShapesMatch(this.val, e), this.val.id !== e.id && (this.val.assign(e), null != this.constraint && this.val.assign(this.constraint.apply(this.val))), this;\n  }, e.prototype.dispose = function () {\n    this.assertNotDisposed(), this.val.dispose();\n  }, e.prototype.assertNotDisposed = function () {\n    if (this.val.isDisposed) throw new Error(\"LayersVariable \" + this.name + \" is already disposed.\");\n  }, Object.defineProperty(e.prototype, \"trainable\", {\n    get: function () {\n      return this.trainable_;\n    },\n    set: function (e) {\n      this.trainable_ = e, this.val.trainable = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}();\n\nfunction checkShapesMatch(e, t) {\n  if (e.shape.toString() !== t.shape.toString()) throw new Error(\"Shape mismatch: \" + JSON.stringify(e.shape) + \" vs. \" + JSON.stringify(t.shape));\n}\n\nfunction batchGetValue(e) {\n  return e.map(function (e) {\n    return e.read();\n  });\n}\n\nfunction batchSetValue(e) {\n  e.forEach(function (e) {\n    e[0].write(e[1]);\n  });\n}\n\nvar InputSpec = function () {\n  return function (e) {\n    this.dtype = e.dtype, this.shape = e.shape, null != e.shape ? this.ndim = e.shape.length : this.ndim = e.ndim, this.maxNDim = e.maxNDim, this.minNDim = e.minNDim, this.axes = e.axes || {};\n  };\n}(),\n    SymbolicTensor = function () {\n  return function (e, t, n, r, i, a, o) {\n    this.dtype = e, this.shape = t, this.sourceLayer = n, this.inputs = r, this.callArgs = i, this.outputTensorIndex = o, this.id = getNextUniqueTensorId(), null != a && (this.originalName = getScopedTensorName(a), this.name = getUniqueTensorName(this.originalName)), this.rank = t.length;\n  };\n}(),\n    _nextNodeID = 0,\n    Node = function () {\n  function e(e, t) {\n    this.callArgs = t, this.id = _nextNodeID++, this.outboundLayer = e.outboundLayer, this.inboundLayers = e.inboundLayers, this.nodeIndices = e.nodeIndices, this.tensorIndices = e.tensorIndices, this.inputTensors = e.inputTensors, this.outputTensors = e.outputTensors, this.inputMasks = e.inputMasks, this.outputMasks = e.outputMasks, this.inputShapes = e.inputShapes, this.outputShapes = e.outputShapes;\n\n    for (var n = 0, r = e.inboundLayers; n < r.length; n++) {\n      var i = r[n];\n      null != i && i.outboundNodes.push(this);\n    }\n\n    e.outboundLayer.inboundNodes.push(this);\n  }\n\n  return e.prototype.getConfig = function () {\n    for (var e = [], t = 0, n = this.inboundLayers; t < n.length; t++) {\n      var r = n[t];\n      null != r ? e.push(r.name) : e.push(null);\n    }\n\n    return {\n      outboundLayer: this.outboundLayer ? this.outboundLayer.name : null,\n      inboundLayers: e,\n      nodeIndices: this.nodeIndices,\n      tensorIndices: this.tensorIndices\n    };\n  }, e;\n}(),\n    _nextLayerID = 0,\n    Layer = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    n._callHook = null, n._addedWeightNames = [], n._stateful = !1, n.id = _nextLayerID++, n.activityRegularizer = null, n.inputSpec = null, n.supportsMasking = !1, n._trainableWeights = [], n._nonTrainableWeights = [], n._losses = [], n._updates = [], n._built = !1, n.inboundNodes = [], n.outboundNodes = [];\n    var r = t.name;\n\n    if (!r) {\n      var i = n.getClassName();\n      r = toSnakeCase(i) + \"_\" + getUid(i);\n    }\n\n    if (n.name = r, n.trainable_ = null == t.trainable || t.trainable, null != t.inputShape || null != t.batchInputShape) {\n      var a = void 0;\n      if (null != t.batchInputShape) a = t.batchInputShape;else if (null != t.inputShape) {\n        var o = null;\n        null != t.batchSize && (o = t.batchSize), a = [o].concat(t.inputShape);\n      }\n      n.batchInputShape = a;\n      var s = t.dtype;\n      null == s && (s = t.inputDType), null == s && (s = \"float32\"), n.dtype = s;\n    }\n\n    return null != t.weights ? n.initialWeights = t.weights : n.initialWeights = null, n._refCount = null, n.fastWeightInitDuringBuild = !1, n;\n  }\n\n  return __extends(t, e), t.nodeKey = function (e, t) {\n    return e.name + \"_ib-\" + t.toString();\n  }, t.prototype.getNodeAtIndex = function (e, t) {\n    if (0 === this.inboundNodes.length) throw new RuntimeError(\"The layer has never been called and thus has no defined \" + t + \".\");\n    if (this.inboundNodes.length <= e) throw new ValueError(\"Asked to get \" + t + \" at node \" + e + \", but the layer has only \" + this.inboundNodes.length + \" inbound nodes.\");\n    return this.inboundNodes[e];\n  }, t.prototype.getInputAt = function (e) {\n    return singletonOrArray(this.getNodeAtIndex(e, \"input\").inputTensors);\n  }, t.prototype.getOutputAt = function (e) {\n    return singletonOrArray(this.getNodeAtIndex(e, \"output\").outputTensors);\n  }, Object.defineProperty(t.prototype, \"input\", {\n    get: function () {\n      if (this.inboundNodes.length > 1) throw new AttributeError(\"Layer \" + this.name + ' has multiple inbound nodes, hence the notion of \"layer input\" is ill-defined. Use `getInputAt(nodeIndex)` instead.');\n      if (0 === this.inboundNodes.length) throw new AttributeError(\"Layer \" + this.name + \" is not connected, no input to return.\");\n      return singletonOrArray(this.getNodeAtIndex(0, \"input\").inputTensors);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"output\", {\n    get: function () {\n      if (0 === this.inboundNodes.length) throw new AttributeError(\"Layer \" + this.name + \" has no inbound nodes.\");\n      if (this.inboundNodes.length > 1) throw new AttributeError(\"Layer \" + this.name + ' has multiple inbound nodes, hence the notion of \"layer output\" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');\n      return singletonOrArray(this.getNodeAtIndex(0, \"output\").outputTensors);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"losses\", {\n    get: function () {\n      return this._losses;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.calculateLosses = function () {\n    return this.losses.map(function (e) {\n      return e();\n    });\n  }, Object.defineProperty(t.prototype, \"updates\", {\n    get: function () {\n      return this._updates;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"built\", {\n    get: function () {\n      return this._built;\n    },\n    set: function (e) {\n      this._built = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return this.trainable_;\n    },\n    set: function (e) {\n      this._trainableWeights.forEach(function (t) {\n        return t.trainable = e;\n      }), this.trainable_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.trainable_ ? this._trainableWeights.filter(function (e) {\n        return e.trainable;\n      }) : [];\n    },\n    set: function (e) {\n      this._trainableWeights = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.trainable ? this._trainableWeights.filter(function (e) {\n        return !e.trainable;\n      }).concat(this._nonTrainableWeights) : this._trainableWeights.concat(this._nonTrainableWeights);\n    },\n    set: function (e) {\n      this._nonTrainableWeights = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"weights\", {\n    get: function () {\n      return this.trainableWeights.concat(this.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"stateful\", {\n    get: function () {\n      return this._stateful;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.resetStates = function () {\n    if (!this.stateful) throw new Error(\"Cannot call the resetStates() method of a non-stateful Layer object.\");\n  }, t.prototype.assertInputCompatibility = function (e) {\n    if (e = toList(e), null != this.inputSpec && 0 !== this.inputSpec.length) {\n      var t = toList(this.inputSpec);\n      if (e.length !== t.length) throw new ValueError(\"Layer \" + this.name + \" expects \" + t.length + \" inputs, but it received \" + e.length + \" input tensors. Input received: \" + e);\n\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n],\n            i = t[n];\n\n        if (null != i) {\n          var a = r.rank;\n          if (null != i.ndim && a !== i.ndim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected ndim=\" + i.ndim + \", found ndim=\" + a);\n          if (null != i.maxNDim && a > i.maxNDim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected max_ndim=\" + i.maxNDim + \", found ndim=\" + a);\n          if (null != i.minNDim && a < i.minNDim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected min_ndim=\" + i.minNDim + \", found ndim=\" + a + \".\");\n          if (null != i.dtype && r.dtype !== i.dtype) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \" : expected dtype=\" + i.dtype + \", found dtype=\" + r.dtype + \".\");\n\n          if (i.axes) {\n            var o = r.shape;\n\n            for (var s in i.axes) {\n              var l = Number(s),\n                  u = i.axes[s],\n                  c = l >= 0 ? o[l] : o[o.length + l];\n              if (null != u && -1 === [u, null].indexOf(c)) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected axis \" + l + \" of input shape to have value \" + u + \" but got shape \" + o + \".\");\n            }\n          }\n\n          if (null != i.shape) for (var p = 0; p < i.shape.length; ++p) {\n            var h = i.shape[p],\n                d = r.shape[p];\n            if (null != h && null != d && h !== d) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected shape=\" + i.shape + \", found shape=\" + r.shape + \".\");\n          }\n        }\n      }\n    }\n  }, t.prototype.call = function (e, t) {\n    return e;\n  }, t.prototype.invokeCallHook = function (e, t) {\n    null != this._callHook && this._callHook(e, t);\n  }, t.prototype.setCallHook = function (e) {\n    this._callHook = e;\n  }, t.prototype.clearCallHook = function () {\n    this._callHook = null;\n  }, t.prototype.apply = function (e, t) {\n    var n = this;\n    t = t || {}, this.assertNotDisposed();\n\n    for (var r = toList(e), i = !0, a = 0, o = r; a < o.length; a++) {\n      if (!(o[a] instanceof SymbolicTensor)) {\n        i = !1;\n        break;\n      }\n    }\n\n    for (var s = !0, l = 0, u = r; l < u.length; l++) {\n      if (u[l] instanceof SymbolicTensor) {\n        s = !1;\n        break;\n      }\n    }\n\n    if (i === s) throw new ValueError(\"Arguments to apply() must be all SymbolicTensors or all Tensors\");\n    return nameScope(this.name, function () {\n      if (!n.built) {\n        n.assertInputCompatibility(e);\n\n        for (var i = [], a = 0, o = toList(e); a < o.length; a++) {\n          var l = o[a];\n          i.push(l.shape);\n        }\n\n        n.build(singletonOrArray(i)), n.built = !0, n.initialWeights && n.setWeights(n.initialWeights), null === n._refCount && s && (n._refCount = 1);\n      }\n\n      if (n.assertInputCompatibility(e), s) {\n        for (var u = [], c = 0, p = toList(g = n.call(e, t)); c < p.length; c++) {\n          var h = p[c];\n          -1 !== r.indexOf(h) && (h = h.clone()), u.push(h);\n        }\n\n        if (g = singletonOrArray(u), null != n.activityRegularizer) throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");\n        return g;\n      }\n\n      var d = collectInputShape(e),\n          f = n.computeOutputShape(d),\n          g = void 0,\n          m = guessOutputDType(e);\n      if (n.warnOnIncompatibleInputShape(Array.isArray(e) ? d[0] : d), g = null != f && f.length > 0 && Array.isArray(f[0]) ? f.map(function (r, i) {\n        return new SymbolicTensor(m, r, n, toList(e), t, n.name, i);\n      }) : new SymbolicTensor(m, f, n, toList(e), t, n.name), n.addInboundNode(e, g, null, null, d, f, t), n._refCount++, null != n.activityRegularizer) throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");\n      return g;\n    });\n  }, t.prototype.warnOnIncompatibleInputShape = function (e) {\n    if (null != this.batchInputShape) if (e.length !== this.batchInputShape.length) console.warn(\"The rank of the input tensor provided (shape: \" + JSON.stringify(e) + \") does not match that of the batchInputShape (\" + JSON.stringify(this.batchInputShape) + \") of the layer \" + this.name);else {\n      var t = !1;\n      this.batchInputShape.forEach(function (n, r) {\n        null != n && null != e[r] && e[r] !== n && (t = !0);\n      }), t && console.warn(\"The shape of the input tensor (\" + JSON.stringify(e) + \") does not match the expectation of layer \" + this.name + \": \" + JSON.stringify(this.batchInputShape));\n    }\n  }, Object.defineProperty(t.prototype, \"outputShape\", {\n    get: function () {\n      if (null == this.inboundNodes || 0 === this.inboundNodes.length) throw new AttributeError(\"The layer \" + this.name + \" has never been called and thus has no defined output shape.\");\n\n      for (var e = [], t = 0, n = this.inboundNodes; t < n.length; t++) {\n        var r = n[t],\n            i = JSON.stringify(r.outputShapes);\n        -1 === e.indexOf(i) && e.push(i);\n      }\n\n      if (1 === e.length) {\n        var a = this.inboundNodes[0].outputShapes;\n        return Array.isArray(a) && Array.isArray(a[0]) && 1 === a.length ? a[0] : a;\n      }\n\n      throw new AttributeError(\"The layer \" + this.name + ' has multiple inbound nodes with different output shapes. Hence the notion of \"outut shape\" is ill-defined for the layer.');\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.countParams = function () {\n    if (!this.built) throw new RuntimeError(\"You tried to call countParams() on \" + this.name + \", but the layer is not built yet. Build it first by calling build(batchInputShape).\");\n    return countParamsInWeights(this.weights);\n  }, t.prototype.build = function (e) {\n    this.built = !0;\n  }, t.prototype.getWeights = function (e) {\n    return void 0 === e && (e = !1), batchGetValue(e ? this.trainableWeights : this.weights);\n  }, t.prototype.setWeights = function (e) {\n    var t = this;\n    tidy(function () {\n      var n = t.weights;\n      if (n.length !== e.length) throw new ValueError('You called setWeights(weights) on layer \"' + t.name + '\" with a weight list of length ' + e.length + \", but the layer was expecting \" + n.length + \" weights. Provided weights: \" + e + \"...\");\n\n      if (0 !== n.length) {\n        for (var r = [], i = batchGetValue(n), a = 0; a < i.length; ++a) {\n          var o = i[a],\n              s = n[a],\n              l = e[a];\n          if (!util.arraysEqual(o.shape, l.shape)) throw new ValueError(\"Layer weight shape \" + o.shape + \" not compatible with provided weight shape \" + l.shape);\n          r.push([s, l]);\n        }\n\n        batchSetValue(r);\n      }\n    });\n  }, t.prototype.addWeight = function (e, t, n, r, i, a, o) {\n    if (-1 !== this._addedWeightNames.indexOf(e)) throw new ValueError(\"Duplicate weight name \" + e + \" for layer \" + this.name);\n    this._addedWeightNames.push(e), null == n && (n = \"float32\"), this.fastWeightInitDuringBuild && (r = getInitializer(\"zeros\"));\n    var s = r.apply(t, n),\n        l = new LayerVariable(s, n, e, a, o);\n    return s.dispose(), null != i && this.addLoss(function () {\n      return i.apply(l.read());\n    }), null == a && (a = !0), a ? this._trainableWeights.push(l) : this._nonTrainableWeights.push(l), l;\n  }, t.prototype.setFastWeightInitDuringBuild = function (e) {\n    this.fastWeightInitDuringBuild = e;\n  }, t.prototype.addLoss = function (e) {\n    var t;\n    null == e || Array.isArray(e) && 0 === e.length || (e = toList(e), void 0 !== this._losses && null !== this._losses && (t = this.losses).push.apply(t, e));\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n\n    if (!this.supportsMasking) {\n      if (null != t) {\n        if (!Array.isArray(t)) throw new TypeError(\"Layer \" + this.name + \" does not support masking, but was passed an inputMask.\");\n        t.forEach(function (e) {\n          if (null != e) throw new TypeError(\"Layer \" + n.name + \" does not support masking, but was passed an inputMask.\");\n        });\n      }\n\n      return null;\n    }\n\n    return t;\n  }, t.prototype.addInboundNode = function (e, t, n, r, i, a, o) {\n    void 0 === o && (o = null);\n    var s = toList(e);\n    t = toList(t), n = toList(n), r = toList(r), i = normalizeShapeList(i), a = normalizeShapeList(a);\n\n    for (var l = [], u = [], c = [], p = 0, h = s; p < h.length; p++) {\n      var d = h[p];\n      l.push(d.sourceLayer), u.push(d.nodeIndex), c.push(d.tensorIndex);\n    }\n\n    new Node({\n      outboundLayer: this,\n      inboundLayers: l,\n      nodeIndices: u,\n      tensorIndices: c,\n      inputTensors: s,\n      outputTensors: t,\n      inputMasks: n,\n      outputMasks: r,\n      inputShapes: i,\n      outputShapes: a\n    }, o);\n\n    for (var f = 0; f < t.length; f++) t[f].sourceLayer = this, t[f].nodeIndex = this.inboundNodes.length - 1, t[f].tensorIndex = f;\n  }, t.prototype.getConfig = function () {\n    var e = {\n      name: this.name,\n      trainable: this.trainable\n    };\n    return null != this.batchInputShape && (e.batchInputShape = this.batchInputShape), null != this.dtype && (e.dtype = this.dtype), e;\n  }, t.prototype.disposeWeights = function () {\n    return this.weights.forEach(function (e) {\n      return e.dispose();\n    }), this.weights.length;\n  }, t.prototype.assertNotDisposed = function () {\n    if (0 === this._refCount) throw new Error(\"Layer '\" + this.name + \"' is already disposed.\");\n  }, t.prototype.dispose = function () {\n    if (!this.built) throw new Error(\"Cannot dispose Layer \" + this.name + \" because it has not been built yet.\");\n    if (null === this._refCount) throw new Error(\"Cannot dispose Layer \" + this.name + \" because it has not been used yet.\");\n    this.assertNotDisposed();\n    var e = 0;\n    return 0 == --this._refCount && (e = this.disposeWeights()), {\n      refCountAfterDispose: this._refCount,\n      numDisposedVariables: e\n    };\n  }, t;\n}(serialization.Serializable);\n\nfunction collectInputShape(e) {\n  for (var t = [], n = 0, r = e = toList(e); n < r.length; n++) {\n    var i = r[n];\n    t.push(i.shape);\n  }\n\n  return singletonOrArray(t);\n}\n\nfunction guessOutputDType(e) {\n  return \"float32\";\n}\n\nfunction getSourceInputs(e, t, n) {\n  if ((null == t || null != n && n > 0) && (t = e.sourceLayer, n = e.nodeIndex), 0 === t.inboundNodes.length) return [e];\n  var r = t.inboundNodes[n];\n  if (0 === r.inboundLayers.length) return r.inputTensors;\n\n  for (var i = [], a = 0; a < r.inboundLayers.length; a++) for (var o = 0, s = getSourceInputs(r.inputTensors[a], r.inboundLayers[a], r.nodeIndices[a]); o < s.length; o++) {\n    var l = s[o];\n    -1 === i.indexOf(l) && i.push(l);\n  }\n\n  return i;\n}\n\nvar ModelLoggingVerbosity,\n    InputLayer = function (e) {\n  function t(t) {\n    var n = e.call(this, {\n      dtype: t.dtype,\n      name: null != t.name ? t.name : getUid(\"input\").toString()\n    }) || this;\n    if (null == t.batchSize && (t.batchSize = null), null == t.sparse && (t.sparse = !1), n.trainable = !1, n.built = !0, n.sparse = t.sparse, null != t.inputShape && null != t.batchInputShape) throw new ValueError(\"Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.\");\n    var r = t.batchInputShape;\n\n    if (null == r) {\n      if (null == t.inputShape) throw new ValueError(\"An InputLayer should be passed either a `batchInputShape` or an `inputShape`.\");\n      r = [t.batchSize].concat(t.inputShape);\n    } else if (null != t.batchSize) throw new ValueError(\"Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.\");\n\n    var i = t.dtype || \"float32\";\n    n.batchInputShape = r, n.dtype = i, n.inputSpec = [{\n      shape: r\n    }];\n    var a = new SymbolicTensor(n.dtype, n.batchInputShape, n, [], {}, n.name);\n    return a.nodeIndex = 0, a.tensorIndex = 0, new Node({\n      outboundLayer: n,\n      inboundLayers: [],\n      nodeIndices: [],\n      tensorIndices: [],\n      inputTensors: [a],\n      outputTensors: [a],\n      inputMasks: [null],\n      outputMasks: [null],\n      inputShapes: [r],\n      outputShapes: [r]\n    }), n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    throw new ValueError(\"Cannot pass any input to an InputLayer's apply() method. InputLayer name: \" + this.name);\n  }, t.prototype.dispose = function () {\n    return {\n      refCountAfterDispose: this._refCount,\n      numDisposedVariables: 0\n    };\n  }, t.prototype.getConfig = function () {\n    return {\n      batchInputShape: this.batchInputShape,\n      dtype: this.dtype,\n      sparse: this.sparse,\n      name: this.name\n    };\n  }, t.className = \"InputLayer\", t;\n}(Layer);\n\nfunction Input(e) {\n  if (null == e.batchShape && null == e.shape) throw new Error(\"Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.\");\n  if (null != e.batchShape && null != e.shape) throw new ValueError(\"Please provide either a `shape` or `batchShape` argument to Input, but not both.\");\n  var t = e.batchShape;\n  null != e.shape && null == t && (t = [null].concat(e.shape));\n  var n = e.dtype;\n  return null == n && (n = \"float32\"), new InputLayer({\n    batchInputShape: t,\n    name: e.name,\n    dtype: n,\n    sparse: e.sparse\n  }).inboundNodes[0].outputTensors[0];\n}\n\nfunction resolveScalarsInLogs(e) {\n  return __awaiter(this, void 0, void 0, function () {\n    var t, n, r, i, a, o, s, l;\n    return __generator(this, function (u) {\n      switch (u.label) {\n        case 0:\n          if (null == e) return [2];\n\n          for (i in t = [], n = [], r = [], e) \"number\" != typeof (a = e[i]) && (o = a, t.push(o.data()), n.push(i), r.push(o));\n\n          return t.length > 0 ? [4, Promise.all(t)] : [3, 2];\n\n        case 1:\n          for (s = u.sent(), l = 0; l < s.length; ++l) e[n[l]] = s[l][0];\n\n          dispose(r), u.label = 2;\n\n        case 2:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction disposeTensorsInLogs(e) {\n  if (null != e) for (var t in e) {\n    var n = e[t];\n    \"number\" != typeof n && n.dispose();\n  }\n}\n\nserialization.registerClass(InputLayer), function (e) {\n  e[e.SILENT = 0] = \"SILENT\", e[e.VERBOSE = 1] = \"VERBOSE\";\n}(ModelLoggingVerbosity || (ModelLoggingVerbosity = {}));\n\nvar DEFAULT_YIELD_EVERY_MS = 125,\n    BaseCallback = function () {\n  function e() {\n    this.validationData = null;\n  }\n\n  return e.prototype.setParams = function (e) {\n    this.params = e;\n  }, e.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.setModel = function (e) {}, e;\n}(),\n    CallbackList = function () {\n  function e(e, t) {\n    void 0 === t && (t = 10), null == e && (e = []), this.callbacks = e, this.queueLength = t;\n  }\n\n  return e.prototype.append = function (e) {\n    this.callbacks.push(e);\n  }, e.prototype.setParams = function (e) {\n    for (var t = 0, n = this.callbacks; t < n.length; t++) {\n      n[t].setParams(e);\n    }\n  }, e.prototype.setModel = function (e) {\n    for (var t = 0, n = this.callbacks; t < n.length; t++) {\n      n[t].setModel(e);\n    }\n  }, e.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onEpochBegin(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onEpochEnd(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onBatchBegin(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onBatchEnd(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            null == e && (e = {}), t = 0, n = this.callbacks, r.label = 1;\n\n          case 1:\n            return t < n.length ? [4, n[t].onTrainBegin(e)] : [3, 4];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return t++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            null == e && (e = {}), t = 0, n = this.callbacks, r.label = 1;\n\n          case 1:\n            return t < n.length ? [4, n[t].onTrainEnd(e)] : [3, 4];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return t++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e;\n}(),\n    BaseLogger = function (e) {\n  function t() {\n    return e.call(this) || this;\n  }\n\n  return __extends(t, e), t.prototype.onEpochBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.seen = 0, this.totals = {}, [2];\n      });\n    });\n  }, t.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i,\n          a = this;\n      return __generator(this, function (o) {\n        for (i in null == t && (t = {}), e = null == t.size ? 0 : t.size, this.seen += e, n = function (n) {\n          var i = t[n];\n          if (\"number\" == typeof i) r.totals.hasOwnProperty(n) || (r.totals[n] = 0), r.totals[n] = r.totals[n] + i * e;else {\n            var o = void 0;\n            n in r.totals ? o = r.totals[n] : r.totals[n] = 0;\n            var s = tidy(function () {\n              return add(a.totals[n], mul(i, e));\n            });\n            r.totals[n] = s, null != o && o.dispose();\n          }\n        }, r = this, t) n(i);\n\n        return [2];\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i,\n          a,\n          o = this;\n      return __generator(this, function (s) {\n        if (null != t) for (e = function (e) {\n          if (null == n.totals[e]) return \"continue\";\n          \"number\" == typeof n.totals[e] ? t[e] = n.totals[e] / n.seen : tidy(function () {\n            var n = mul(div(1, o.seen), o.totals[e]);\n            t[e] = n, o.totals[e].dispose(), keep(t[e]);\n          });\n        }, n = this, r = 0, i = this.params.metrics; r < i.length; r++) a = i[r], e(a);\n        return [2];\n      });\n    });\n  }, t;\n}(BaseCallback),\n    History = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.epoch = [], this.history = {}, [2];\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n;\n      return __generator(this, function (r) {\n        for (n in null == t && (t = {}), this.epoch.push(e), t) null == this.history[n] && (this.history[n] = []), this.history[n].push(t[n]);\n\n        return [2];\n      });\n    });\n  }, t.prototype.syncData = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e, t, n, r, i, a, o, s, l;\n      return __generator(this, function (u) {\n        switch (u.label) {\n          case 0:\n            for (r in e = [], t = [], n = [], this.history) for (i = this.history[r], a = 0; a < i.length; ++a) \"number\" != typeof i[a] && (o = i[a], e.push(o.data()), t.push(r), n.push(a));\n\n            return [4, Promise.all(e)];\n\n          case 1:\n            for (s = u.sent(), l = 0; l < s.length; ++l) this.history[t[l]][n[l]].dispose(), this.history[t[l]][n[l]] = s[l][0];\n\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(BaseCallback),\n    CustomCallback = function (e) {\n  function t(t, n) {\n    var r = e.call(this) || this;\n    if (r.currentEpoch = 0, r.yieldEvery = n || \"auto\", \"auto\" === r.yieldEvery && (r.yieldEvery = DEFAULT_YIELD_EVERY_MS), \"never\" === r.yieldEvery && null != t.onYield) throw new Error(\"yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback\");\n    return util.isNumber(r.yieldEvery) && (r.maybeWait = debounce(r.maybeWait.bind(r), r.yieldEvery)), r.trainBegin = t.onTrainBegin, r.trainEnd = t.onTrainEnd, r.epochBegin = t.onEpochBegin, r.epochEnd = t.onEpochEnd, r.batchBegin = t.onBatchBegin, r.batchEnd = t.onBatchEnd, r.yield = t.onYield, r;\n  }\n\n  return __extends(t, e), t.prototype.maybeWait = function (e, t, n) {\n    return __awaiter(this, void 0, void 0, function () {\n      var r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return r = [], null == this.yield ? [3, 2] : [4, resolveScalarsInLogs(n)];\n\n          case 1:\n            i.sent(), r.push(this.yield(e, t, n)), i.label = 2;\n\n          case 2:\n            return r.push(nextFrame()), [4, Promise.all(r)];\n\n          case 3:\n            return i.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return this.currentEpoch = e, null == this.epochBegin ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.epochBegin(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return n = [], null == this.epochEnd ? [3, 2] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            r.sent(), n.push(this.epochEnd(e, t)), r.label = 2;\n\n          case 2:\n            return \"epoch\" === this.yieldEvery && n.push(nextFrame()), [4, Promise.all(n)];\n\n          case 3:\n            return r.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return null == this.batchBegin ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.batchBegin(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return n = [], null == this.batchEnd ? [3, 2] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            r.sent(), n.push(this.batchEnd(e, t)), r.label = 2;\n\n          case 2:\n            return \"batch\" === this.yieldEvery ? n.push(nextFrame()) : util.isNumber(this.yieldEvery) && n.push(this.maybeWait(this.currentEpoch, e, t)), [4, Promise.all(n)];\n\n          case 3:\n            return r.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return null == this.trainBegin ? [3, 3] : [4, resolveScalarsInLogs(e)];\n\n          case 1:\n            return t.sent(), [4, this.trainBegin(e)];\n\n          case 2:\n            t.sent(), t.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return null == this.trainEnd ? [3, 3] : [4, resolveScalarsInLogs(e)];\n\n          case 1:\n            return t.sent(), [4, this.trainEnd(e)];\n\n          case 2:\n            t.sent(), t.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(BaseCallback);\n\nfunction standardizeCallbacks(e, t) {\n  return null == e && (e = {}), e instanceof BaseCallback ? [e] : Array.isArray(e) && e[0] instanceof BaseCallback ? e : toList(e).map(function (e) {\n    return new CustomCallback(e, t);\n  });\n}\n\nvar CallbackConstructorRegistry = function () {\n  function e() {}\n\n  return e.registerCallbackConstructor = function (t, n) {\n    util.assert(t >= 0 && Number.isInteger(t), function () {\n      return \"Verbosity level is expected to be an integer >= 0, but got \" + t;\n    }), e.checkForDuplicate(n), null == e.constructors[t] && (e.constructors[t] = []), e.constructors[t].push(n);\n  }, e.checkForDuplicate = function (t) {\n    for (var n in e.constructors) {\n      e.constructors[+n].forEach(function (e) {\n        if (e === t) throw new ValueError(\"Duplicate callback constructor.\");\n      });\n    }\n  }, e.clear = function () {\n    e.constructors = {};\n  }, e.createCallbacks = function (t) {\n    var n = [];\n\n    for (var r in e.constructors) {\n      var i = +r;\n      t >= i && n.push.apply(n, e.constructors[i]);\n    }\n\n    return n.map(function (e) {\n      return new e();\n    });\n  }, e.constructors = {}, e;\n}();\n\nfunction configureCallbacks(e, t, n, r, i, a, o, s, l) {\n  var u = new History(),\n      c = [new BaseLogger()].concat(CallbackConstructorRegistry.createCallbacks(t));\n  null != e && c.push.apply(c, e), c.push(u);\n  var p = new CallbackList(c);\n  return p.setParams({\n    epochs: n,\n    initialEpoch: r,\n    samples: i,\n    steps: a,\n    batchSize: o,\n    verbose: t,\n    doValidation: s,\n    metrics: l\n  }), {\n    callbackList: p,\n    history: u\n  };\n}\n\nfunction deserialize(e, t, n) {\n  return void 0 === t && (t = {}), void 0 === n && (n = !1), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"layer\", n);\n}\n\nfunction l2Normalize(e, t) {\n  return tidy(function () {\n    \"float32\" !== e.dtype && (e = e.asType(\"float32\"));\n    var n = sum(square(e), t, !0),\n        r = fill(n.shape, epsilon()),\n        i = sqrt(maximum(n, r));\n    return div(e, i);\n  });\n}\n\nfunction meanSquaredError(e, t) {\n  return tidy(function () {\n    return mean(square(sub(t, e)), -1);\n  });\n}\n\nfunction meanAbsoluteError(e, t) {\n  return tidy(function () {\n    return mean(abs(sub(t, e)), -1);\n  });\n}\n\nfunction meanAbsolutePercentageError(e, t) {\n  return tidy(function () {\n    var n = sub(e, t),\n        r = clipByValue(abs(e), epsilon(), Number.MAX_VALUE),\n        i = abs(div(n, r));\n    return mul(100, mean(i, -1));\n  });\n}\n\nfunction meanSquaredLogarithmicError(e, t) {\n  return tidy(function () {\n    var n = clipByValue(t, epsilon(), Number.MAX_VALUE),\n        r = log(add(1, n)),\n        i = clipByValue(e, epsilon(), Number.MAX_VALUE),\n        a = log(add(1, i));\n    return mean(square(sub(r, a)), -1);\n  });\n}\n\nfunction squaredHinge(e, t) {\n  return tidy(function () {\n    var n = maximum(0, sub(1, mul(e, t)));\n    return mean(square(n), -1);\n  });\n}\n\nfunction hinge(e, t) {\n  return tidy(function () {\n    var n = maximum(0, sub(1, mul(e, t)));\n    return mean(n, -1);\n  });\n}\n\nfunction categoricalHinge(e, t) {\n  return tidy(function () {\n    var n = sum(mul(e, t), -1),\n        r = max(mul(sub(1, e), t), -1);\n    return maximum(0, add(1, sub(r, n)));\n  });\n}\n\nfunction logcosh(e, t) {\n  return tidy(function () {\n    var n = Math.log(2),\n        r = sub(t, e),\n        i = sub(add(r, softplus(mul(-2, r))), n);\n    return mean(i, -1);\n  });\n}\n\nfunction categoricalCrossentropy(e, t, n) {\n  return void 0 === n && (n = !1), tidy(function () {\n    if (n) t = softmax(t);else {\n      var r = sum(t, t.shape.length - 1, !0);\n      t = div(t, r);\n    }\n    return t = clipByValue(t, epsilon(), 1 - epsilon()), neg(sum(mul(e.toFloat(), log(t)), t.shape.length - 1));\n  });\n}\n\nfunction sparseCategoricalCrossentropy(e, t) {\n  return tidy(function () {\n    var n = floor(flatten(e)).toInt(),\n        r = (t = clipByValue(t, epsilon(), 1 - epsilon())).shape;\n    return categoricalCrossentropy(oneHot(n, r[r.length - 1]).reshape(r), t, !1);\n  });\n}\n\nfunction sigmoidCrossEntropyWithLogits(e, t) {\n  if (!util.arraysEqual(e.shape, t.shape)) throw new ValueError(\"logits and labels must have the same shape, but got shapes \" + JSON.stringify(e.shape) + \" and \" + JSON.stringify(t.shape));\n  return tidy(function () {\n    var n = t.relu(),\n        r = t.abs().neg();\n    return n.sub(t.mul(e)).add(r.exp().log1p());\n  });\n}\n\nfunction binaryCrossentropy(e, t) {\n  return tidy(function () {\n    var n;\n    return n = clipByValue(t, epsilon(), 1 - epsilon()), n = log(div(n, sub(1, n))), mean(sigmoidCrossEntropyWithLogits(e, n), -1);\n  });\n}\n\nfunction kullbackLeiblerDivergence(e, t) {\n  return tidy(function () {\n    var n = clipByValue(e, epsilon(), 1),\n        r = clipByValue(t, epsilon(), 1);\n    return sum(mul(e, log(div(n, r))), -1);\n  });\n}\n\nfunction poisson(e, t) {\n  return tidy(function () {\n    var n = log(add(epsilon(), t));\n    return mean(sub(t, mul(e, n)), -1);\n  });\n}\n\nfunction cosineProximity(e, t) {\n  return tidy(function () {\n    var n = l2Normalize(e, -1),\n        r = l2Normalize(t, -1),\n        i = mul(n, r);\n    return neg(sum(i, -1));\n  });\n}\n\nvar lossesMap = {\n  meanSquaredError: meanSquaredError,\n  meanAbsoluteError: meanAbsoluteError,\n  meanAbsolutePercentageError: meanAbsolutePercentageError,\n  meanSquaredLogarithmicError: meanSquaredLogarithmicError,\n  squaredHinge: squaredHinge,\n  hinge: hinge,\n  categoricalHinge: categoricalHinge,\n  logcosh: logcosh,\n  categoricalCrossentropy: categoricalCrossentropy,\n  sparseCategoricalCrossentropy: sparseCategoricalCrossentropy,\n  binaryCrossentropy: binaryCrossentropy,\n  kullbackLeiblerDivergence: kullbackLeiblerDivergence,\n  poisson: poisson,\n  cosineProximity: cosineProximity\n};\n\nfunction get(e) {\n  if (\"string\" == typeof e) {\n    if (e in lossesMap) return lossesMap[e];\n    var t = \"Unknown loss \" + e;\n    throw e.toLowerCase().includes(\"softmaxcrossentropy\") && (t = \"Unknown loss \" + e + '. Use \"categoricalCrossentropy\" as the string name for tf.losses.softmaxCrossEntropy'), new ValueError(t);\n  }\n\n  return e;\n}\n\nfunction binaryAccuracy(e, t) {\n  return tidy(function () {\n    var n = mul(.5, onesLike(t)),\n        r = cast$1(greater(t, n), e.dtype);\n    return mean(equal(e, r), -1);\n  });\n}\n\nfunction categoricalAccuracy(e, t) {\n  return tidy(function () {\n    return cast$1(equal(argMax(e, -1), argMax(t, -1)), \"float32\");\n  });\n}\n\nfunction truePositives(e, t) {\n  return tidy(function () {\n    return logicalAnd(e.equal(1), t.equal(1)).sum().cast(\"float32\");\n  });\n}\n\nfunction falseNegatives(e, t) {\n  return tidy(function () {\n    return logicalAnd(e.equal(1), t.equal(0)).sum().cast(\"float32\");\n  });\n}\n\nfunction falsePositives(e, t) {\n  return tidy(function () {\n    return logicalAnd(e.equal(0), t.equal(1)).sum().cast(\"float32\");\n  });\n}\n\nfunction precision(e, t) {\n  return tidy(function () {\n    var n = truePositives(e, t),\n        r = falsePositives(e, t),\n        i = n.add(r);\n    return where(greater(i, 0), n.div(i), 0).cast(\"float32\");\n  });\n}\n\nfunction recall(e, t) {\n  return tidy(function () {\n    var n = truePositives(e, t),\n        r = falseNegatives(e, t),\n        i = n.add(r);\n    return where(greater(i, 0), n.div(i), 0).cast(\"float32\");\n  });\n}\n\nfunction binaryCrossentropy$1(e, t) {\n  return binaryCrossentropy(e, t);\n}\n\nfunction sparseCategoricalAccuracy(e, t) {\n  return e.rank === t.rank && (e = e.squeeze([e.rank - 1])), (t = t.argMax(-1)).dtype !== e.dtype && (t = t.asType(e.dtype)), equal(e, t).asType(\"float32\");\n}\n\nvar mse$1 = meanSquaredError,\n    MSE$1 = meanSquaredError,\n    mae$1 = meanAbsoluteError,\n    MAE$1 = meanAbsoluteError,\n    mape$1 = meanAbsolutePercentageError,\n    MAPE$1 = meanAbsolutePercentageError,\n    categoricalCrossentropy$1 = categoricalCrossentropy,\n    cosine$1 = cosineProximity,\n    sparseCategoricalCrossentropy$1 = sparseCategoricalCrossentropy,\n    metricsMap = {\n  binaryAccuracy: binaryAccuracy,\n  categoricalAccuracy: categoricalAccuracy,\n  precision: precision,\n  categoricalCrossentropy: categoricalCrossentropy$1,\n  sparseCategoricalCrossentropy: sparseCategoricalCrossentropy$1,\n  mse: mse$1,\n  MSE: MSE$1,\n  mae: mae$1,\n  MAE: MAE$1,\n  mape: mape$1,\n  MAPE: MAPE$1,\n  cosine: cosine$1\n};\n\nfunction get$1(e) {\n  if (\"string\" == typeof e && e in metricsMap) return metricsMap[e];\n  if (\"string\" != typeof e && null != e) return e;\n  throw new ValueError(\"Unknown metric \" + e);\n}\n\nfunction getLossOrMetricName(e) {\n  if (assert(null !== e, \"Unknown LossOrMetricFn \" + e), \"string\" == typeof e) return e;\n\n  for (var t = void 0, n = 0, r = Object.keys(lossesMap); n < r.length; n++) {\n    var i = r[n];\n\n    if (lossesMap[i] === e) {\n      t = i;\n      break;\n    }\n  }\n\n  if (void 0 !== t) return t;\n\n  for (var a = 0, o = Object.keys(metricsMap); a < o.length; a++) {\n    i = o[a];\n\n    if (metricsMap[i] === e) {\n      t = i;\n      break;\n    }\n  }\n\n  return void 0 !== t ? t : e.name;\n}\n\nfunction getOptimizer(e) {\n  var t = {\n    Adagrad: function () {\n      return train.adagrad(.01);\n    },\n    Adadelta: function () {\n      return train.adadelta(1, .95, epsilon());\n    },\n    Adam: function () {\n      return train.adam(.001, .9, .999, epsilon());\n    },\n    Adamax: function () {\n      return train.adamax(.002, .9, .999, epsilon(), 0);\n    },\n    RMSProp: function () {\n      return train.rmsprop(.001, .9, 0, epsilon());\n    },\n    SGD: function () {\n      return train.sgd(.01);\n    }\n  };\n  if (t.adagrad = t.Adagrad, t.adadelta = t.Adadelta, t.adam = t.Adam, t.adamax = t.Adamax, t.rmsprop = t.RMSProp, t.sgd = t.SGD, e in t) return t[e]();\n  throw new ValueError(\"Unknown Optimizer \" + e);\n}\n\nvar MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH = 1048576;\n\nfunction checkUserDefinedMetadata(e, t, n) {\n  if (void 0 === n && (n = !1), null == e || \"object\" != typeof e || Object.getPrototypeOf(e) !== Object.prototype || !plainObjectCheck(e)) throw new Error(\"User-defined metadata is expected to be a JSON object, but is not.\");\n\n  if (n) {\n    var r = JSON.stringify(e);\n    r.length > MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH && console.warn('User-defined metadata of model \"' + t + '\" is too large in size (length=' + r.length + \" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= \" + MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH + \".\");\n  }\n}\n\nfunction plainObjectCheck(e) {\n  if (null === e) return !0;\n\n  if (\"object\" == typeof e) {\n    if (Object.getPrototypeOf(e) === Object.prototype) {\n      for (var t = 0, n = Object.keys(e); t < n.length; t++) {\n        var r = n[t];\n        if (\"string\" != typeof r) return !1;\n        if (!plainObjectCheck(e[r])) return !1;\n      }\n\n      return !0;\n    }\n\n    if (Array.isArray(e)) {\n      for (var i = 0, a = e; i < a.length; i++) {\n        if (!plainObjectCheck(a[i])) return !1;\n      }\n\n      return !0;\n    }\n\n    return !1;\n  }\n\n  var o = typeof e;\n  return \"string\" === o || \"number\" === o || \"boolean\" === o;\n}\n\nfunction printSummary(e, t, n, r) {\n  void 0 === r && (r = console.log);\n  var i,\n      a = isModelSequentialLike(e),\n      o = [\"Layer (type)\", \"Output shape\", \"Param #\"];\n  if (a ? (t = t || 65, n = n || [.45, .85, 1]) : (t = t || 98, n = n || [.33, .55, .67, 1]), n[n.length - 1] <= 1 && (n = n.map(function (e) {\n    return Math.floor(t * e);\n  })), !a) for (var s in o.push(\"Receives inputs\"), i = [], e.nodesByDepth) i.push.apply(i, e.nodesByDepth[s]);\n  r(\"_\".repeat(t)), printRow(o, n, r), r(\"=\".repeat(t));\n\n  for (var l = e.layers, u = 0; u < l.length; ++u) a ? printLayerSummary(l[u], n, r) : printLayerSummaryWithConnections(l[u], n, i, r), r((u === l.length - 1 ? \"=\" : \"_\").repeat(t));\n\n  e.checkTrainableWeightsConsistency();\n  var c = countTrainableParams(e),\n      p = countParamsInWeights(e.nonTrainableWeights);\n  r(\"Total params: \" + (c + p)), r(\"Trainable params: \" + c), r(\"Non-trainable params: \" + p), r(\"_\".repeat(t));\n}\n\nfunction countTrainableParams(e) {\n  return null != e.collectedTrainableWeights ? countParamsInWeights(e.collectedTrainableWeights) : countParamsInWeights(e.trainableWeights);\n}\n\nfunction isModelSequentialLike(e) {\n  var t = !0,\n      n = [],\n      r = [];\n\n  for (var i in e.nodesByDepth) n.push(e.nodesByDepth[i]);\n\n  for (var a = 0, o = n; a < o.length; a++) {\n    var s = o[a];\n\n    if (s.length > 1 || 1 === s.length && s[0].inboundLayers.length > 1) {\n      t = !1;\n      break;\n    }\n\n    r.push.apply(r, s);\n  }\n\n  if (t) for (var l = 0, u = e.layers; l < u.length; l++) {\n    for (var c = !1, p = 0, h = u[l].inboundNodes; p < h.length; p++) {\n      var d = h[p];\n\n      if (-1 !== r.indexOf(d)) {\n        if (c) {\n          t = !1;\n          break;\n        }\n\n        c = !0;\n      }\n    }\n\n    if (!t) break;\n  }\n  return t;\n}\n\nfunction printRow(e, t, n) {\n  void 0 === n && (n = console.log);\n\n  for (var r = \"\", i = 0; i < e.length; ++i) i > 0 && (r = r.slice(0, r.length - 1) + \" \"), r = (r += e[i]).slice(0, t[i]), r += \" \".repeat(t[i] - r.length);\n\n  n(r);\n}\n\nfunction printLayerSummary(e, t, n) {\n  var r;\n\n  try {\n    r = JSON.stringify(e.outputShape);\n  } catch (e) {\n    r = \"multiple\";\n  }\n\n  printRow([e.name + \" (\" + e.getClassName() + \")\", r, e.countParams().toString()], t, n);\n}\n\nfunction printLayerSummaryWithConnections(e, t, n, r) {\n  var i;\n\n  try {\n    i = JSON.stringify(e.outputShape);\n  } catch (e) {\n    i = \"multiple\";\n  }\n\n  for (var a = [], o = 0, s = e.inboundNodes; o < s.length; o++) {\n    var l = s[o];\n    if (!(null != n && n.length > 0 && -1 === n.indexOf(l))) for (var u = 0; u < l.inboundLayers.length; ++u) {\n      var c = l.inboundLayers[u].name,\n          p = l.nodeIndices[u],\n          h = l.tensorIndices[u];\n      a.push(c + \"[\" + p + \"][\" + h + \"]\");\n    }\n  }\n\n  var d = e.name,\n      f = e.getClassName(),\n      g = 0 === a.length ? \"\" : a[0];\n  printRow([d + \" (\" + f + \")\", i, e.countParams().toString(), g], t, r);\n\n  for (u = 1; u < a.length; ++u) printRow([\"\", \"\", \"\", a[u]], t, r);\n}\n\nfunction isArrayItemInputOrOutputName(e, t, n) {\n  return (\"inboundNodes\" === e || \"outputLayers\" === e || \"inputLayers\" === e) && 0 === t && \"string\" == typeof n;\n}\n\nfunction convertPythonicToTs(e, t) {\n  if (null === e) return null;\n  if (\"string\" == typeof e) return toCamelCase(e);\n  if (\"number\" == typeof e || \"boolean\" == typeof e) return e;\n\n  if (e instanceof Array) {\n    for (var n = [], r = e.length, i = 0; i < r; ++i) {\n      var a = e[i];\n      isArrayItemInputOrOutputName(t, i, a) ? n.push(a) : n.push(convertPythonicToTs(a, t));\n    }\n\n    return n;\n  }\n\n  for (var o = {}, s = 0, l = Object.keys(e); s < l.length; s++) {\n    var u = l[s],\n        c = e[u];\n    if (\"name\" === u && \"string\" == typeof c) o[u] = c;else {\n      var p = toCamelCase(u);\n      o[p] = convertPythonicToTs(c, p);\n    }\n  }\n\n  return o;\n}\n\nfunction convertTsToPythonic(e, t) {\n  if (null === e || void 0 === e) return null;\n  if (\"string\" == typeof e) return toSnakeCase(e);\n  if (\"number\" == typeof e || \"boolean\" == typeof e) return e;\n\n  if (e instanceof Array) {\n    for (var n = [], r = e.length, i = 0; i < r; ++i) {\n      var a = e[i];\n      isArrayItemInputOrOutputName(t, i, a) ? n.push(a) : n.push(convertTsToPythonic(a, t));\n    }\n\n    return n;\n  }\n\n  for (var o = {}, s = 0, l = Object.keys(e); s < l.length; s++) {\n    var u = l[s],\n        c = e[u],\n        p = toSnakeCase(u);\n    o[p] = \"name\" !== u && \"className\" !== u || \"string\" != typeof c ? convertTsToPythonic(c, u) : c;\n  }\n\n  return o;\n}\n\nvar version = \"1.2.11\";\n\nfunction assertFeedCompatibility(e, t) {\n  if (null == e.dtype || e.dtype === t.dtype) return t;\n\n  try {\n    return cast(t, e.dtype);\n  } catch (n) {\n    throw new ValueError(\"The dtype of the feed (\" + t.dtype + \") can not be cast to the dtype of the key '\" + e.name + \"' (\" + e.dtype + \").\");\n  }\n}\n\nvar FeedDict = function () {\n  function e(t) {\n    if (this.id2Value = {}, this.id2Mask = {}, this.name2Id = {}, t instanceof e) for (var n in t.id2Value) this.id2Value[n] = t.id2Value[n], n in t.id2Mask && (this.id2Mask[n] = t.id2Mask[n]);else {\n      if (null == t) return;\n\n      for (var r = 0, i = t; r < i.length; r++) {\n        var a = i[r];\n        this.add(a.key, a.value);\n      }\n    }\n  }\n\n  return e.prototype.add = function (e, t, n) {\n    if (null != this.id2Value[e.id]) throw new ValueError(\"Duplicate key: name=\" + e.name + \", id=\" + e.id);\n    return this.id2Value[e.id] = assertFeedCompatibility(e, t), this.name2Id[e.name] = e.id, null != n && (this.id2Mask[e.id] = n), this;\n  }, e.prototype.addFeed = function (e) {\n    this.add(e.key, e.value);\n  }, e.prototype.hasKey = function (e) {\n    return null != this.id2Value[e.id];\n  }, e.prototype.names = function () {\n    return Object.keys(this.name2Id);\n  }, e.prototype.getValue = function (e) {\n    if (e instanceof SymbolicTensor) {\n      if (null == this.id2Value[e.id]) throw new ValueError(\"Nonexistent key: \" + e.name);\n      return this.id2Value[e.id];\n    }\n\n    var t = this.name2Id[e];\n    if (null == t) throw new ValueError(\"Feed dict has no SymbolicTensor name: \" + e);\n    return this.id2Value[t];\n  }, e.prototype.getMask = function (e) {\n    if (e instanceof SymbolicTensor) {\n      if (null == this.id2Value[e.id]) throw new ValueError(\"Nonexistent key: \" + e.name);\n      return this.id2Mask[e.id];\n    }\n\n    var t = this.name2Id[e];\n    if (null == t) throw new ValueError(\"Feed dict has no SymbolicTensor name: \" + e);\n    return this.id2Mask[t];\n  }, e.prototype.disposeMasks = function () {\n    null != this.id2Mask && dispose(this.id2Mask);\n  }, e;\n}(),\n    cachedSorted = {},\n    cachedRecipientCounts = {};\n\nfunction execute(e, t, n, r) {\n  for (var i = null != n && n.training, a = Array.isArray(e), o = a ? e : [e], s = o.map(function (e) {\n    return e.name;\n  }), l = [], u = t.names(), c = 0, p = s; c < p.length; c++) {\n    var h = p[c];\n    -1 !== u.indexOf(h) ? l.push(t.getValue(h)) : l.push(null);\n  }\n\n  null != r && (r.maxNumTensors = -1 / 0, r.minNumTensors = 1 / 0);\n  var d,\n      f,\n      g = s.join(\",\") + \"|\" + t.names().join(\",\");\n\n  if (null == cachedSorted[g]) {\n    var m = getTopologicalSortAndRecipientCounts(o, t);\n    d = m.sorted, f = m.recipientCounts, cachedSorted[g] = d, cachedRecipientCounts[g] = f;\n  }\n\n  d = cachedSorted[g], f = {}, i || Object.assign(f, cachedRecipientCounts[g]);\n\n  for (var y = new FeedDict(t), v = 0; v < d.length; ++v) {\n    if (null != r) {\n      var b = memory().numTensors;\n      b > r.maxNumTensors && (r.maxNumTensors = b), b < r.minNumTensors && (r.minNumTensors = b);\n    }\n\n    var w = d[v],\n        z = w.sourceLayer;\n\n    if (!(z instanceof InputLayer)) {\n      for (var S = [], A = [], _ = [], I = !1, C = 0, E = w.inputs; C < E.length; C++) {\n        var N = E[C],\n            k = y.getValue(N),\n            x = y.getMask(N);\n        S.push(k), A.push(x), null != x && (I = !0), i || (f[N.name]--, 0 !== f[N.name] || t.hasKey(N) || -1 !== s.indexOf(N.name) || k.isDisposed || !0 === N.sourceLayer.stateful || _.push(k));\n      }\n\n      I && ((n = n || {}).mask = A[0]);\n      var L = toList(z.apply(S, n)),\n          T = null;\n      z.supportsMasking && (T = z.computeMask(S, A));\n\n      for (var D = getNodeOutputs(w), O = Array.isArray(D) ? D : [D], R = 0; R < O.length; ++R) {\n        y.hasKey(O[R]) || y.add(O[R], L[R], Array.isArray(T) ? T[0] : T);\n        var M = s.indexOf(O[R].name);\n        -1 !== M && (l[M] = L[R]);\n      }\n\n      i || dispose(_);\n    }\n  }\n\n  return y.disposeMasks(), a ? l : l[0];\n}\n\nfunction getTopologicalSortAndRecipientCounts(e, t) {\n  util.assert(null != e && e.length > 0, function () {\n    return \"Expected at least one fetch, got none\";\n  });\n  var n = [],\n      r = {};\n\n  if (1 === e.length) {\n    var i = getTopologicalSortAndRecipientCountsForOneFetch(e[0], t);\n    n = i.sorted, r = i.recipientMap;\n  } else for (var a = new Set(), o = 0, s = e; o < s.length; o++) {\n    for (var l = getTopologicalSortAndRecipientCountsForOneFetch(s[o], t), u = l.sorted, c = l.recipientMap, p = 0, h = u; p < h.length; p++) {\n      var d = h[p];\n      a.has(d.name) || (n.push(d), a.add(d.name));\n    }\n\n    var f = function (e) {\n      null == r[e] && (r[e] = new Set()), c[e].forEach(function (t) {\n        return r[e].add(t);\n      });\n    };\n\n    for (var g in c) f(g);\n  }\n\n  return {\n    sorted: n,\n    recipientCounts: recipientMap2Counts(r)\n  };\n}\n\nfunction recipientMap2Counts(e) {\n  var t = {};\n\n  for (var n in e) t[n] = e[n].size;\n\n  return t;\n}\n\nfunction getTopologicalSortAndRecipientCountsForOneFetch(e, t) {\n  for (var n = new Set(), r = [], i = {}, a = 0, o = t.names(); a < o.length; a++) {\n    var s = o[a];\n    n.add(s);\n  }\n\n  var l = [],\n      u = [];\n\n  for (l.push(e); l.length > 0;) {\n    var c = l[l.length - 1];\n    if (n.has(c.name)) l.pop();else {\n      var p = u[u.length - 1] === l.length - 1;\n      if (0 === c.inputs.length || p) l.pop(), r.push(c), n.add(c.name), p && u.pop();else {\n        u.push(l.length - 1);\n\n        for (var h = 0, d = c.inputs; h < d.length; h++) {\n          var f = d[h];\n          null == i[f.name] && (i[f.name] = new Set()), i[f.name].add(c.name), n.has(f.name) || l.push(f);\n        }\n      }\n    }\n  }\n\n  return {\n    sorted: r,\n    recipientMap: i\n  };\n}\n\nfunction getNodeOutputs(e) {\n  var t;\n  if (1 === e.sourceLayer.inboundNodes.length) t = e.sourceLayer.output;else {\n    for (var n = null, r = 0; r < e.sourceLayer.inboundNodes.length; ++r) for (var i = 0, a = e.sourceLayer.inboundNodes[r].outputTensors; i < a.length; i++) {\n      if (a[i].id === e.id) {\n        n = r;\n        break;\n      }\n    }\n\n    t = e.sourceLayer.getOutputAt(n);\n  }\n  return t;\n}\n\nvar Container = function (e) {\n  function t(n) {\n    var r = e.call(this, {}) || this;\n\n    if (r.containerNodes = new Set(), r.name = n.name, null == r.name) {\n      var i = r.getClassName().toLowerCase();\n      r.name = getUid(i);\n    }\n\n    if (r.supportsMasking = !1, r.trainable_ = !0, Array.isArray(n.inputs) ? r.inputs = n.inputs.slice() : r.inputs = [n.inputs], Array.isArray(n.outputs) ? r.outputs = n.outputs.slice() : r.outputs = [n.outputs], unique(r.inputs).length !== r.inputs.length) throw new ValueError(\"The list of inputs passed to the model is redundant. All inputs should only appear once. Found: \" + r.inputs.map(function (e) {\n      return e.name;\n    }));\n    unique(r.outputs).length !== r.outputs.length && console.warn(\"The list of outputs passed to the model is redundant. All outputs should only appear once. Found: \" + r.outputs.map(function (e) {\n      return e.name;\n    })), r.inputLayers = [], r.inputLayersNodeIndices = [], r.inputLayersTensorIndices = [], r.outputLayers = [], r.outputLayersNodeIndices = [], r.outputLayersTensorIndices = [], r.layers = [], r.internalContainerRefs = [];\n\n    for (var a = 0, o = r.outputs; a < o.length; a++) {\n      var s = (C = o[a]).sourceLayer,\n          l = C.nodeIndex,\n          u = C.tensorIndex;\n      r.outputLayers.push(s), r.outputLayersNodeIndices.push(l), r.outputLayersTensorIndices.push(u);\n    }\n\n    for (var c = 0, p = r.inputs; c < p.length; c++) {\n      s = (C = p[c]).sourceLayer, l = C.nodeIndex, u = C.tensorIndex;\n      assert(0 === l, \"input layer has >1 nodes\"), assert(0 === u, \"input layer has >1 tensors\"), r.inputLayers.push(s), r.inputLayersNodeIndices.push(l), r.inputLayersTensorIndices.push(u);\n    }\n\n    r.inputNames = [], r.outputNames = [], r.feedInputShapes = [], r.feedInputNames = [], r.feedOutputNames = [];\n\n    for (var h = 0; h < r.inputLayers.length; h++) {\n      if (!((s = r.inputLayers[h]) instanceof InputLayer)) throw new TypeError(\"Input layers to a LayersModel must be InputLayer objects. Received inputs: \" + n.inputs + \". Input \" + h + \" (0-based) originates from layer type \" + s.getClassName() + \".\");\n      r.inputNames.push(s.name), r.feedInputShapes.push(s.batchInputShape), r.feedInputNames.push(s.name);\n    }\n\n    for (var d = 0, f = r.outputLayers; d < f.length; d++) {\n      s = f[d];\n      r.outputNames.push(s.name);\n    }\n\n    r.internalInputShapes = r.inputs.map(function (e) {\n      return e.shape;\n    }), r.internalOutputShapes = r.outputs.map(function (e) {\n      return e.shape;\n    });\n\n    for (var g = {}, m = {}, y = {}, v = {}, b = {}, w = [], z = function (e, n, i, a, o, s) {\n      null != a && null != o && null != s || (a = e.sourceLayer, o = e.nodeIndex, s = e.tensorIndex);\n      var l = a.inboundNodes[o];\n      if (-1 !== i.indexOf(l)) throw new RuntimeError(\"The tensor \" + e.name + ' at layer \"' + a.name + '\" is part of a cycle.');\n\n      if (-1 === n.indexOf(l)) {\n        r.containerNodes.add(t.nodeKey(a, o)), (a.id in b) || (b[a.id] = Object.keys(b).length), -1 === i.indexOf(l) && i.push(l);\n\n        for (var u = l.inboundLayers.length, c = 0; c < u; c++) {\n          var p = l.inputTensors[c],\n              h = l.inboundLayers[c],\n              d = l.nodeIndices[c],\n              f = l.tensorIndices[c];\n          z(p, n, i, h, d, f);\n        }\n\n        for (n.push(l); i.indexOf(l) >= 0;) i.splice(i.indexOf(l), 1);\n\n        w.push(l);\n      }\n    }, S = [], A = [], _ = 0, I = r.outputs; _ < I.length; _++) {\n      var C = I[_];\n      z(C, S, A);\n    }\n\n    for (var E = 0, N = w.slice().reverse(); E < N.length; E++) {\n      m[(K = N[E]).id] = K, K.id in g || (g[K.id] = 0);\n      var k = g[K.id],\n          x = null == y[K.outboundLayer.id] ? 0 : y[K.outboundLayer.id];\n      k = Math.max(k, x), y[K.outboundLayer.id] = k, v[K.outboundLayer.id] = K.outboundLayer, g[K.id] = k;\n\n      for (h = 0; h < K.inboundLayers.length; h++) {\n        var L = K.inboundLayers[h],\n            T = (l = K.nodeIndices[h], L.inboundNodes[l]),\n            D = null == g[T.id] ? 0 : g[T.id];\n        g[T.id] = Math.max(k + 1, D), m[T.id] = T;\n      }\n    }\n\n    var O = {};\n\n    for (var R in g) {\n      (k = g[R]) in O || (O[k] = []), O[k].push(m[R]);\n    }\n\n    var M = {};\n\n    for (var P in y) {\n      (k = y[P]) in M || (M[k] = []), M[k].push(v[P]);\n    }\n\n    var F = Object.keys(M).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n    r.layers = [];\n\n    for (var V = 0, B = F; V < B.length; V++) {\n      var U = M[k = B[V]];\n      U.sort(function (e, t) {\n        var n = b[e.id],\n            r = b[t.id];\n        return n < r ? -1 : n > r ? 1 : 0;\n      });\n\n      for (var j = 0, W = U; j < W.length; j++) {\n        (s = W[j]) instanceof t && r.internalContainerRefs.push(s), r.layers.push(s);\n      }\n    }\n\n    r.layersByDepth = M, F = Object.keys(O).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n\n    for (var $ = r.inputs.slice(), q = [], G = 0, H = F; G < H.length; G++) for (var J = 0, Z = O[k = H[G]]; J < Z.length; J++) {\n      var K;\n\n      if (null != (s = (K = Z[J]).outboundLayer)) {\n        for (var Y = 0, X = K.inputTensors; Y < X.length; Y++) {\n          C = X[Y];\n          if (-1 === $.indexOf(C)) throw new RuntimeError(\"Graph disconnected: cannot obtain value for tensor \" + C + ' at layer \"' + s.name + '\". The following previous layers were accessed without issue: ' + q);\n        }\n\n        for (var Q = 0, ee = K.outputTensors; Q < ee.length; Q++) {\n          C = ee[Q];\n          $.push(C);\n        }\n\n        q.push(s.name);\n      }\n    }\n\n    r.nodesByDepth = O;\n\n    for (var te = r.layers.map(function (e) {\n      return e.name;\n    }), ne = function (e) {\n      var t = te.filter(function (t) {\n        return t === e;\n      }).length;\n      if (1 !== t) throw new RuntimeError('The name \"' + e + '\" is used ' + t + \" times in the model. All layer names should be unique. Layer names: \" + JSON.stringify(te));\n    }, re = 0, ie = te; re < ie.length; re++) {\n      ne(ie[re]);\n    }\n\n    return r.outboundNodes = [], r.inboundNodes = [], new Node({\n      outboundLayer: r,\n      inboundLayers: [],\n      nodeIndices: [],\n      tensorIndices: [],\n      inputTensors: r.inputs,\n      outputTensors: r.outputs,\n      inputMasks: r.inputs.map(function (e) {\n        return null;\n      }),\n      outputMasks: r.outputs.map(function (e) {\n        return null;\n      }),\n      inputShapes: r.inputs.map(function (e) {\n        return e.shape;\n      }),\n      outputShapes: r.outputs.map(function (e) {\n        return e.shape;\n      })\n    }), r.built = !0, r._refCount = 1, r;\n  }\n\n  return __extends(t, e), t.prototype.assertNotDisposed = function () {\n    if (0 === this._refCount) throw new Error(\"Container '\" + this.name + \"' is already disposed.\");\n  }, t.prototype.dispose = function () {\n    this.assertNotDisposed();\n    var e = {\n      refCountAfterDispose: null,\n      numDisposedVariables: 0\n    };\n\n    if (0 == --this._refCount) {\n      for (var t = 0, n = this.layers; t < n.length; t++) {\n        var r = n[t];\n        e.numDisposedVariables += r.dispose().numDisposedVariables;\n      }\n\n      for (var i = 0, a = this.internalContainerRefs; i < a.length; i++) {\n        var o = a[i];\n        e.numDisposedVariables += o.dispose().numDisposedVariables;\n      }\n    }\n\n    return e.refCountAfterDispose = this._refCount, e;\n  }, Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return this.trainable_;\n    },\n    set: function (e) {\n      this.layers.forEach(function (t) {\n        t._trainableWeights.forEach(function (t) {\n          return t.trainable = e;\n        });\n      }), this.trainable_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      if (this._trainableWeights.length > 0) throw new ValueError(\"Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.\");\n      if (!this.trainable) return [];\n\n      for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n        var r = n[t];\n        e = e.concat(r.trainableWeights);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.nonTrainableWeights);\n      }\n\n      if (!this.trainable) {\n        for (var i = [], a = 0, o = this.layers; a < o.length; a++) {\n          r = o[a];\n          i.push.apply(i, r.trainableWeights);\n        }\n\n        return i.concat(e);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"weights\", {\n    get: function () {\n      return this.trainableWeights.concat(this.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.loadWeights = function (e, t) {\n    void 0 === t && (t = !0);\n\n    for (var n = {}, r = 0, i = 0, a = this.layers; i < a.length; i++) for (var o = 0, s = a[i].weights; o < s.length; o++) {\n      var l = s[o];\n      if (null != n[l.originalName]) throw new ValueError(\"Duplicate weight name: \" + l.originalName);\n      n[l.originalName] = l, r++;\n    }\n\n    var u = [];\n\n    for (var c in e) {\n      if (null != n[c]) u.push([n[c], e[c]]);else if (t) throw new ValueError(\"Provided weight data has no target variable: \" + c);\n      delete n[c];\n    }\n\n    if (t) {\n      var p = [];\n\n      for (var h in n) p.push(h);\n\n      if (p.length > 0) throw new ValueError(p.length + \" of \" + r + \" weights are not set: \" + p);\n    }\n\n    batchSetValue(u);\n  }, t.prototype.updatedConfig = function () {\n    var e = this.getConfig(),\n        t = {};\n    return t.className = this.getClassName(), t.config = e, t.kerasVersion = \"tfjs-layers \" + version, t.backend = \"TensorFlow.js\", t;\n  }, t.prototype.toJSON = function (e, t) {\n    void 0 === t && (t = !0);\n    var n = convertTsToPythonic(this.updatedConfig());\n    return t ? JSON.stringify(n) : n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      e = toList(e);\n\n      for (var r = new FeedDict(), i = 0; i < n.inputs.length; ++i) r.add(n.inputs[i], e[i]);\n\n      return execute(n.outputs, r, t);\n    });\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r;\n      return e = toList(e), r = null == t ? pyListRepeat(null, e.length) : toList(t), n.runInternalGraph(e, r)[1];\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = normalizeShapeList(e);\n    if (t.length !== this.inputLayers.length) throw new ValueError(\"Invalid inputShape argument \" + e + \": model has \" + this.inputLayers.length + \" tensor inputs.\");\n\n    for (var n = {}, r = 0; r < t.length; r++) {\n      var i = this.inputLayers[r],\n          a = t[r];\n      n[A = i.name + \"_0_0\"] = a;\n    }\n\n    var o = Object.keys(this.nodesByDepth).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n    if (o.length > 1) for (var s = 0, l = o; s < l.length; s++) for (var u = l[s], c = 0, p = this.nodesByDepth[u]; c < p.length; c++) {\n      var h = p[c];\n      i = h.outboundLayer;\n\n      if (-1 === this.inputLayers.map(function (e) {\n        return e.id;\n      }).indexOf(i.id)) {\n        for (var d = [], f = 0; f < h.inboundLayers.length; f++) {\n          var g = h.inboundLayers[f],\n              m = h.nodeIndices[f],\n              y = h.tensorIndices[f],\n              v = n[A = g.name + \"_\" + m + \"_\" + y];\n          d.push(v);\n        }\n\n        var b = normalizeShapeList(i.computeOutputShape(singletonOrArray(d))),\n            w = i.inboundNodes.indexOf(h);\n\n        for (f = 0; f < b.length; f++) {\n          n[A = i.name + \"_\" + w + \"_\" + f] = b[f];\n        }\n      }\n    }\n    var z = [],\n        S = [];\n\n    for (r = 0; r < this.outputLayers.length; r++) {\n      i = this.outputLayers[r], w = this.outputLayersNodeIndices[r], y = this.outputLayersTensorIndices[r];\n      var A = i.name + \"_\" + w + \"_\" + y;\n      S.push(A);\n    }\n\n    for (r = 0; r < S.length; r++) {\n      var _ = S[r];\n      assert(_ in n), z.push(n[_]);\n    }\n\n    return singletonOrArray(z);\n  }, t.prototype.runInternalGraph = function (e, t) {\n    null == t && (t = pyListRepeat(null, e.length));\n\n    for (var n = {}, r = 0; r < this.inputs.length; ++r) {\n      var i = this.inputs[r],\n          a = e[r],\n          o = t[r];\n      n[i.id] = [a, o];\n    }\n\n    for (var s = 0, l = Object.keys(this.nodesByDepth).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare); s < l.length; s++) for (var u = l[s], c = 0, p = this.nodesByDepth[u]; c < p.length; c++) {\n      for (var h = p[c], d = h.outboundLayer, f = h.inputTensors, g = h.outputTensors, m = new Array(), y = 0, v = f; y < v.length; y++) {\n        (i = v[y]).id in n && m.push(n[i.id]);\n      }\n\n      if (m.length === f.length) {\n        var b = {},\n            w = void 0,\n            z = void 0,\n            S = void 0,\n            A = void 0;\n\n        if (null != h.callArgs && (b = h.callArgs), 1 === m.length) {\n          var _ = m[0],\n              I = _[0],\n              C = _[1];\n          null == b.mask && (b.mask = C), S = toList(d.call(I, b)), A = toList(d.computeMask(I, C)), w = [I], z = [C];\n        } else w = m.map(function (e) {\n          return e[0];\n        }), z = m.map(function (e) {\n          return e[1];\n        }), null == b.mask && (b.mask = z), S = toList(d.call(w, b)), A = toList(d.computeMask(w, z));\n\n        if (d.activityRegularizer) throw new NotImplementedError(\"LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.\");\n\n        for (r = 0; r < g.length; ++r) {\n          i = g[r], a = S[r], o = A[r];\n          n[i.id] = [a, o];\n        }\n      }\n    }\n\n    for (var E = [], N = [], k = [], x = 0, L = this.outputs; x < L.length; x++) {\n      assert((i = L[x]).id in n, \"Could not compute output \" + i.name + \" : \" + i.id);\n      var T = n[i.id],\n          D = T[0];\n      o = T[1];\n      k.push(D.shape), E.push(D), N.push(o);\n    }\n\n    return [E, N, k];\n  }, t.prototype.buildNodeConversionMap = function (e) {\n    for (var n, r = {}, i = 0, a = this.layers; i < a.length; i++) {\n      var o = a[i];\n      n = o instanceof t ? 1 : 0;\n\n      for (var s = 0; s < o.inboundNodes.length; s++) {\n        var l = t.nodeKey(o, s);\n        this.containerNodes.has(l) && (r[l] = n, n += 1);\n      }\n    }\n\n    return r;\n  }, t.prototype.getLayer = function (e, t) {\n    if (null != t) {\n      if (this.layers.length <= t) throw new ValueError(\"Was asked to retrieve layer at index \" + t + \", but model only has \" + this.layers.length + \" layer(s).\");\n      return this.layers[t];\n    }\n\n    if (null == e) throw new ValueError(\"Provide either a layer name or layer index\");\n\n    for (var n = 0, r = this.layers; n < r.length; n++) {\n      var i = r[n];\n      if (i.name === e) return i;\n    }\n\n    throw new ValueError(\"No such layer: \" + e);\n  }, t.prototype.calculateLosses = function () {\n    var e = this;\n    return tidy(function () {\n      for (var n = [], r = 0, i = e.layers; r < i.length; r++) for (var a = i[r], o = 0; o < a.inboundNodes.length; ++o) {\n        var s = t.nodeKey(a, o);\n        e.containerNodes.has(s) && n.push.apply(n, a.calculateLosses());\n      }\n\n      return n;\n    });\n  }, t.prototype.getConfig = function () {\n    for (var e = {\n      name: this.name\n    }, n = this.buildNodeConversionMap(this.layers), r = [], i = 0, a = this.layers; i < a.length; i++) {\n      for (var o = (w = a[i]).getClassName(), s = w.getConfig(), l = [], u = 0; u < w.inboundNodes.length; u++) {\n        var c = w.inboundNodes[u],\n            p = t.nodeKey(w, u),\n            h = {};\n\n        if (this.containerNodes.has(p)) {\n          if (c.callArgs) try {\n            JSON.stringify(c.callArgs), h = c.callArgs;\n          } catch (e) {\n            console.warn(\"Layer \" + w.name + \" was passed non-serializable keyword arguments: \" + c.callArgs + \". They will not be included in the serialized model (and thus will be missing at deserialization time).\"), h = {};\n          }\n\n          if (c.inboundLayers.length > 0) {\n            for (var d = [], f = 0; f < c.inboundLayers.length; f++) {\n              var g = c.inboundLayers[f],\n                  m = c.nodeIndices[f],\n                  y = c.tensorIndices[f];\n              null == (S = n[t.nodeKey(g, m)]) && (S = 0), d.push([g.name, S, y, h]);\n            }\n\n            l.push(d);\n          }\n        }\n      }\n\n      var v = {};\n      v.name = w.name, v.className = o, v.config = s, v.inboundNodes = l, r.push(v);\n    }\n\n    e.layers = r;\n    var b = [];\n\n    for (f = 0; f < this.inputLayers.length; f++) {\n      var w = this.inputLayers[f];\n      m = this.inputLayersNodeIndices[f], p = t.nodeKey(w, m);\n\n      if (this.containerNodes.has(p)) {\n        null !== (S = n[p]) && void 0 !== S || (S = 0);\n        y = this.inputLayersTensorIndices[f];\n        b.push([w.name, S, y]);\n      }\n    }\n\n    e.inputLayers = b;\n    var z = [];\n\n    for (f = 0; f < this.outputLayers.length; f++) {\n      w = this.outputLayers[f], m = this.outputLayersNodeIndices[f], p = t.nodeKey(w, m);\n\n      if (this.containerNodes.has(p)) {\n        var S;\n        null !== (S = n[p]) && void 0 !== S || (S = 0);\n        y = this.outputLayersTensorIndices[f];\n        z.push([w.name, S, y]);\n      }\n    }\n\n    return e.outputLayers = z, e;\n  }, t.fromConfig = function (e, t, n, r) {\n    void 0 === n && (n = {}), void 0 === r && (r = !1);\n    var i = {},\n        a = {};\n\n    function o(e, t) {\n      e.name in a ? a[e.name].push(t) : a[e.name] = [t];\n    }\n\n    function s(e, t) {\n      for (var n, r = [], a = 0, s = t; a < s.length; a++) {\n        var l = s[a],\n            u = l[0],\n            c = l[1],\n            p = l[2];\n        if (n = null == l[3] ? {} : l[3], !(u in i)) return void o(e, t);\n        var h = i[u];\n        if (h.inboundNodes.length <= c) return void o(e, t);\n        var d = h.inboundNodes[c];\n        r.push(d.outputTensors[p]);\n      }\n\n      r.length > 0 && e.apply(singletonOrArray(r), n);\n    }\n\n    function l(e) {\n      var n = e.name,\n          a = deserialize(e, null != t.customObjects ? t.customObjects : {});\n      a.setFastWeightInitDuringBuild(r), i[n] = a, e.inboundNodes.forEach(function (e) {\n        if (!(e instanceof Array)) throw new ValueError(\"Corrupted configuration, expected array for nodeData: \" + e);\n        o(a, e);\n      });\n    }\n\n    for (var u = t.name, c = t.layers, p = 0, h = c; p < h.length; p++) {\n      l(g = h[p]);\n    }\n\n    for (; !isObjectEmpty(a);) for (var d = 0, f = c; d < f.length; d++) {\n      var g = f[d];\n\n      if ((k = i[g.name]).name in a) {\n        var m = a[k.name];\n        delete a[k.name];\n\n        for (var y = 0, v = m; y < v.length; y++) {\n          s(k, v[y]);\n        }\n      }\n    }\n\n    for (var b = [], w = [], z = 0, S = t.inputLayers; z < S.length; z++) {\n      var A = (g = S[z])[0],\n          _ = g[1],\n          I = g[2];\n      assert(A in i);\n      var C = (k = i[A]).inboundNodes[_].outputTensors;\n      b.push(C[I]);\n    }\n\n    for (var E = 0, N = t.outputLayers; E < N.length; E++) {\n      A = (g = N[E])[0], _ = g[1], I = g[2];\n      assert(A in i);\n      var k;\n      C = (k = i[A]).inboundNodes[_].outputTensors;\n      w.push(C[I]);\n    }\n\n    return new e({\n      inputs: b,\n      outputs: w,\n      name: u\n    });\n  }, Object.defineProperty(t.prototype, \"stateful\", {\n    get: function () {\n      if (this._stateful) throw new ValueError(\"Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.\");\n\n      for (var e = 0, t = this.layers; e < t.length; e++) {\n        if (t[e].stateful) return !0;\n      }\n\n      return !1;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.resetStates = function () {\n    var e = this;\n    tidy(function () {\n      e.layers.forEach(function (e) {\n        e.stateful && e.resetStates();\n      });\n    });\n  }, t;\n}(Layer);\n\nfunction standardizeSampleOrClassWeights(e, t, n) {\n  var r = t.length;\n  if (null == e || Array.isArray(e) && 0 === e.length) return t.map(function (e) {\n    return null;\n  });\n  if (1 === r) return Array.isArray(e) && 1 === e.length ? e : \"object\" == typeof e && t[0] in e ? [e[t[0]]] : [e];\n\n  if (Array.isArray(e)) {\n    if (e.length !== r) throw new Error(\"Provided \" + n + \" is an array of \" + e.length + \" element(s), but the model has \" + r + \" outputs. Make sure a set of weights is provided for each model output.\");\n    return e;\n  }\n\n  if (\"object\" == typeof e && Object.keys(e).length > 0 && \"object\" == typeof e[Object.keys(e)[0]]) {\n    var i = [];\n    return t.forEach(function (t) {\n      t in e ? i.push(e[t]) : i.push(null);\n    }), i;\n  }\n\n  throw new Error(\"The model has multiple (\" + r + \") outputs, so \" + n + \" must be either an array with \" + r + \" elements or an object with \" + t + \" keys. Provided \" + n + \" not understood: \" + JSON.stringify(e));\n}\n\nfunction standardizeClassWeights(e, t) {\n  return standardizeSampleOrClassWeights(e, t, \"classWeight\");\n}\n\nfunction standardizeWeights(e, t, n, r) {\n  return __awaiter(this, void 0, void 0, function () {\n    var i, a, o, s, l;\n    return __generator(this, function (u) {\n      switch (u.label) {\n        case 0:\n          if (null != t || null != r) throw new Error(\"Support sampleWeight is not implemented yet\");\n          return null == n ? [3, 2] : (i = tidy(function () {\n            if (1 === e.shape.length) return e.clone();\n\n            if (2 === e.shape.length) {\n              if (e.shape[1] > 1) {\n                return e.argMax(1);\n              }\n\n              if (1 === e.shape[1]) return e.reshape([e.shape[0]]);\n              throw new Error(\"Encountered unexpected last-dimension size (\" + e.shape[1] + \") during handling of class weights. The size is expected to be >= 1.\");\n            }\n\n            throw new Error(\"Unexpected rank of target (y) tensor (\" + e.rank + \") during handling of class weights. The rank is expected to be 1 or 2.\");\n          }), s = (o = Array).from, [4, i.data()]);\n\n        case 1:\n          return a = s.apply(o, [u.sent()]), dispose(i), l = [], a.forEach(function (e) {\n            if (null == n[e]) throw new Error(\"classWeight must contain all classes in the training data. The class \" + e + \" exists in the data but not in classWeight\");\n            l.push(n[e]);\n          }), [2, tensor1d(l, \"float32\")];\n\n        case 2:\n          return [2, null];\n      }\n    });\n  });\n}\n\nfunction computeWeightedLoss(e, t) {\n  return mul(e, t);\n}\n\nvar DEFAULT_VALIDATION_BATCH_SIZE = 32;\n\nfunction standardizeDataIteratorOutput(e, t) {\n  var n,\n      r,\n      i = t;\n  n = i.xs, r = i.ys, util.assert(null != n && null != r, function () {\n    return \"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates \" + t;\n  });\n  var a = flattenTensorOrArrayOrMap(\"input\", e.inputNames, n),\n      o = flattenTensorOrArrayOrMap(\"output\", e.outputNames, r),\n      s = a[0].shape[0];\n  util.assert(a.length === e.inputs.length, function () {\n    return \"LayersModel has \" + e.inputs.length + \" inputs, but the dataset provides \" + a.length + \" inputs.  (Expected input keys: \" + JSON.stringify(e.inputNames) + \")\";\n  }), util.assert(o.length === e.outputs.length, function () {\n    return \"LayersModel has \" + e.outputs.length + \" outputs, but the dataset provides \" + o.length + \" outputs.  (Expected output keys: \" + JSON.stringify(e.outputNames) + \")\";\n  });\n\n  var l = function (t) {\n    util.assert(a[t].shape[0] === s, function () {\n      return \"Batch size mismatch: input \" + e.inputNames[t] + \" has \" + a[t].shape[0] + \"; expected  \" + s + \" based on input \" + e.inputNames[0] + \".\";\n    });\n  };\n\n  for (var u in a) l(u);\n\n  var c = function (t) {\n    util.assert(o[t].shape[0] === s, function () {\n      return \"Batch size mismatch: output \" + e.outputNames[t] + \" has \" + o[t].shape[0] + \"; expected  \" + s + \" based on input \" + e.inputNames[0] + \".\";\n    });\n  };\n\n  for (var p in o) c(p);\n\n  return {\n    xs: a,\n    ys: o\n  };\n}\n\nfunction flattenTensorOrArrayOrMap(e, t, n) {\n  if (n instanceof Tensor) return [n];\n  if (Array.isArray(n)) return util.assert(n.length === t.length, function () {\n    return \"Received an array of \" + n.length + \" Tensors, but expected \" + t.length + \" to match the \" + e + \" keys \" + t + \".\";\n  }), n;\n\n  for (var r = [], i = 0, a = t; i < a.length; i++) {\n    var o = a[i];\n    if (null == n[o]) throw new ValueError(\"The feature data generated by the dataset lacks the required \" + e + \" key '\" + o + \"'.\");\n    r.push(n[o]);\n  }\n\n  return r;\n}\n\nfunction standardizeTensorValidationData(e) {\n  if (3 === e.length) throw new NotImplementedError(\"Validation with sample weights is not implemented yet.\");\n  return {\n    xs: e[0],\n    ys: e[1]\n  };\n}\n\nfunction fitDataset(e, t, n) {\n  return __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l, u, c, p, h, d, f, g, m, y, v, b, w, z, S, A, _, I, C, E, N, k, x, L, T, D, O, R, M;\n\n    return __generator(this, function (P) {\n      switch (P.label) {\n        case 0:\n          if (r = null != n.batchesPerEpoch, util.assert(null != e.optimizer, function () {\n            return \"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).\";\n          }), util.assert(null != n, function () {\n            return \"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.\";\n          }), util.assert(null != n.epochs && n.epochs > 0 && Number.isInteger(n.epochs), function () {\n            return \"For fitDataset(), config.epochs is expected to be a positive integer, but got \" + n.epochs;\n          }), util.assert(!r || n.batchesPerEpoch > 0 && Number.isInteger(n.batchesPerEpoch), function () {\n            return \"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got \" + n.batchesPerEpoch;\n          }), util.assert(null == n.validationSplit, function () {\n            return \"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.\";\n          }), e.isTraining) throw new Error(\"Cannot start training because another fit() call is ongoing.\");\n          e.isTraining = !0, P.label = 1;\n\n        case 1:\n          return P.trys.push([1,, 26, 27]), i = null != n.validationData, a = void 0, o = void 0, i && (isDatasetObject(n.validationData) ? util.assert(null == n.validationBatches || n.validationBatches > 0 && Number.isInteger(n.validationBatches), function () {\n            return \"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got \" + n.validationBatches;\n          }) : (s = standardizeTensorValidationData(n.validationData), a = s.xs, o = s.ys)), l = e.makeTrainFunction(), u = e.getDedupedMetricsNames(), c = void 0, c = i ? u.slice().concat(u.map(function (e) {\n            return \"val_\" + e;\n          })) : u.slice(), p = standardizeCallbacks(n.callbacks, n.yieldEvery), h = null == n.verbose ? 1 : n.verbose, d = configureCallbacks(p, h, n.epochs, null, null, getStepsPerEpoch(t, n), null, i, c), f = d.callbackList, g = d.history, f.setModel(e), e.history = g, [4, f.onTrainBegin()];\n\n        case 2:\n          return P.sent(), e.stopTraining_ = !1, m = null == n.initialEpoch ? 0 : n.initialEpoch, [4, t.iterator()];\n\n        case 3:\n          y = P.sent(), P.label = 4;\n\n        case 4:\n          return m < n.epochs ? (v = {}, [4, f.onEpochBegin(m)]) : [3, 23];\n\n        case 5:\n          return P.sent(), b = 0, w = 0, r ? [3, 7] : [4, t.iterator()];\n\n        case 6:\n          y = P.sent(), P.label = 7;\n\n        case 7:\n          return !r || b < n.batchesPerEpoch ? [4, y.next()] : [3, 21];\n\n        case 8:\n          return z = P.sent(), r && z.done ? (console.warn(\"You provided `batchesPerEpoch` as \" + n.batchesPerEpoch + \", but your dataset iterator ran out of data after \" + b + \" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, \" + n.batchesPerEpoch * n.epochs + \" batches). You may need to use the repeat() function when building your dataset.\"), [3, 21]) : null == z.value ? [3, 15] : (S = standardizeDataIteratorOutput(e, z.value), A = S.xs, _ = S.ys, (I = {}).batch = w, I.size = A[0].shape[0], [4, f.onBatchBegin(w, I)]);\n\n        case 9:\n          if (P.sent(), C = [], null == n.classWeight) return [3, 13];\n          E = standardizeClassWeights(n.classWeight, e.outputNames), M = 0, P.label = 10;\n\n        case 10:\n          return M < E.length ? (k = (N = C).push, [4, standardizeWeights(_[M], null, E[M])]) : [3, 13];\n\n        case 11:\n          k.apply(N, [P.sent()]), P.label = 12;\n\n        case 12:\n          return ++M, [3, 10];\n\n        case 13:\n          for (x = A.concat(_).concat(C), L = l(x), dispose(x), M = 0; M < u.length; ++M) T = u[M], D = L[M], I[T] = D, keep(D);\n\n          return [4, f.onBatchEnd(w, I)];\n\n        case 14:\n          P.sent(), disposeTensorsInLogs(I), w++, b++, P.label = 15;\n\n        case 15:\n          return (r ? b >= n.batchesPerEpoch : z.done) ? i ? (O = void 0, isDatasetObject(n.validationData) ? (R = toList, [4, e.evaluateDataset(n.validationData, {\n            batches: n.validationBatches\n          })]) : [3, 17]) : [3, 19] : [3, 20];\n\n        case 16:\n          return O = R.apply(void 0, [P.sent()]), [3, 18];\n\n        case 17:\n          O = toList(e.evaluate(a, o, {\n            batchSize: null == n.validationBatchSize ? DEFAULT_VALIDATION_BATCH_SIZE : n.validationBatchSize,\n            verbose: 0\n          })), P.label = 18;\n\n        case 18:\n          for (M = 0; M < e.metricsNames.length; ++M) v[\"val_\" + e.metricsNames[M]] = O[M];\n\n          P.label = 19;\n\n        case 19:\n          return [3, 21];\n\n        case 20:\n          return e.stopTraining_ ? [3, 21] : [3, 7];\n\n        case 21:\n          return [4, f.onEpochEnd(m, v)];\n\n        case 22:\n          return P.sent(), m++, e.stopTraining_ ? [3, 23] : [3, 4];\n\n        case 23:\n          return [4, f.onTrainEnd()];\n\n        case 24:\n          return P.sent(), [4, e.history.syncData()];\n\n        case 25:\n          return P.sent(), [2, e.history];\n\n        case 26:\n          return e.isTraining = !1, [7];\n\n        case 27:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction getStepsPerEpoch(e, t) {\n  var n = null;\n  return null != t.batchesPerEpoch ? n = t.batchesPerEpoch : Number.isFinite(e.size) && (n = e.size), n;\n}\n\nfunction isDatasetObject(e) {\n  return \"function\" == typeof e.iterator;\n}\n\nfunction isLazyIteratorObject(e) {\n  return \"function\" == typeof e.next;\n}\n\nfunction evaluateDataset(e, t, n) {\n  return __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l, u, c, p, h;\n    return __generator(this, function (d) {\n      switch (d.label) {\n        case 0:\n          if (r = null != (n = n || {}).batches, i = e.testFunction, a = [], n.verbose > 0) throw new NotImplementedError(\"Verbose mode is not implemented yet.\");\n          return util.assert(!r || n.batches > 0 && Number.isInteger(n.batches), function () {\n            return \"Test loop expects `batches` to be a positive integer, but received \" + JSON.stringify(n.batches);\n          }), isLazyIteratorObject(t) ? (s = t, [3, 3]) : [3, 1];\n\n        case 1:\n          return [4, t.iterator()];\n\n        case 2:\n          s = d.sent(), d.label = 3;\n\n        case 3:\n          o = s, l = 0, u = 0, c = function () {\n            var t;\n            return __generator(this, function (s) {\n              switch (s.label) {\n                case 0:\n                  return [4, o.next()];\n\n                case 1:\n                  return t = s.sent(), a = tidy(function () {\n                    if (t.value) {\n                      var n = standardizeDataIteratorOutput(e, t.value),\n                          r = n.xs,\n                          o = n.ys,\n                          s = r.concat(o),\n                          c = tidy(function () {\n                        return i(s);\n                      });\n                      if (dispose(s), 0 === u) for (var p = 0; p < c.length; ++p) a.push(scalar(0));\n\n                      var h = s[0].shape[0],\n                          d = function (e) {\n                        var t = c[e],\n                            n = a[e];\n                        a[e] = tidy(function () {\n                          return add(a[e], mul(h, t));\n                        }), u > 0 && dispose(n);\n                      };\n\n                      for (p = 0; p < c.length; ++p) d(p);\n\n                      dispose(c), l += h, ++u;\n                    }\n\n                    return a;\n                  }), t.done ? (r && console.warn(\"Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, \" + n.batches + \" batches). You may need to use the repeat() function when building your dataset.\"), [2, \"break\"]) : [2];\n              }\n            });\n          }, d.label = 4;\n\n        case 4:\n          return !r || u < n.batches ? [5, c()] : [3, 6];\n\n        case 5:\n          return \"break\" === d.sent() ? [3, 6] : [3, 4];\n\n        case 6:\n          for (p = 0; p < a.length; ++p) h = a[p], a[p] = div(a[p], l), dispose(h);\n\n          return [2, singletonOrArray(a)];\n      }\n    });\n  });\n}\n\nfunction checkBatchSize(e) {\n  util.assert(e > 0 && Number.isInteger(e), function () {\n    return \"batchSize is required to be a positive integer, but got \" + e;\n  });\n}\n\nfunction sliceArrays(e, t, n) {\n  return null == e ? [null] : Array.isArray(e) ? e.map(function (e) {\n    return sliceAlongFirstAxis(e, t, n - t);\n  }) : sliceAlongFirstAxis(e, t, n - t);\n}\n\nfunction sliceArraysByIndices(e, t) {\n  return tidy(function () {\n    return null == e ? null : Array.isArray(e) ? e.map(function (e) {\n      return sliceArraysByIndices(e, t);\n    }) : gather$1(e, \"int32\" === t.dtype ? t : t.toInt());\n  });\n}\n\nfunction makeBatches(e, t) {\n  for (var n = [], r = 0, i = null; r < e;) (i = r + t) >= e && (i = e), n.push([r, i]), r = i;\n\n  return n;\n}\n\nfunction fitLoop(e, t, n, r, i, a, o, s, l, u, c, p, h, d, f) {\n  return __awaiter(this, void 0, void 0, function () {\n    var g, m, y, v, b, w, z, S;\n    return __generator(this, function (A) {\n      switch (A.label) {\n        case 0:\n          if (null == i && (i = 32), null == a && (a = 1), null == c && (c = !0), null == h && (h = 0), g = !1, null != l && null != u && (g = !0), null != f && (g = !0, null == d)) throw new ValueError(\"Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.\");\n          return null != (m = e.checkNumSamples(n, i, d, \"steps_per_epoch\")) && (y = range(0, m)), null == o && (o = 1), v = configureCallbacks(s, o, a, h, m, d, i, g, p), b = v.callbackList, w = v.history, b.setModel(e), e.history = w, [4, b.onTrainBegin()];\n\n        case 1:\n          A.sent(), e.stopTraining_ = !1, z = function (a) {\n            var o, s, p, h, f;\n            return __generator(this, function (v) {\n              switch (v.label) {\n                case 0:\n                  return [4, b.onEpochBegin(a)];\n\n                case 1:\n                  if (v.sent(), o = {}, null == d) return [3, 2];\n                  throw new NotImplementedError(\"stepsPerEpoch mode is not implemented yet.\");\n\n                case 2:\n                  if (\"batch\" === c) throw new NotImplementedError(\"batch shuffling is not implemneted yet\");\n                  c && util.shuffle(y), s = tensor1d(y), p = makeBatches(m, i), h = function (a) {\n                    var c;\n                    return __generator(this, function (h) {\n                      switch (h.label) {\n                        case 0:\n                          return c = {}, [4, b.onBatchBegin(a, c)];\n\n                        case 1:\n                          return h.sent(), tidy(function () {\n                            var h = p[a][0],\n                                d = p[a][1],\n                                f = sliceAlongFirstAxis(s, h, d - h);\n                            c.batch = a, c.size = d - h;\n\n                            for (var m = sliceArraysByIndices(n, f), y = t(m), v = 0; v < r.length; ++v) {\n                              var b = r[v],\n                                  w = y[v];\n                              c[b] = w, keep(w);\n                            }\n\n                            if (a === p.length - 1 && g) {\n                              var z = e.testLoop(l, u, i);\n\n                              for (v = 0; v < r.length; ++v) {\n                                b = r[v], w = z[v];\n                                keep(w), o[\"val_\" + b] = w;\n                              }\n                            }\n                          }), [4, b.onBatchEnd(a, c)];\n\n                        case 2:\n                          return h.sent(), disposeTensorsInLogs(c), e.stopTraining_ ? [2, \"break\"] : [2];\n                      }\n                    });\n                  }, f = 0, v.label = 3;\n\n                case 3:\n                  return f < p.length ? [5, h(f)] : [3, 6];\n\n                case 4:\n                  if (\"break\" === v.sent()) return [3, 6];\n                  v.label = 5;\n\n                case 5:\n                  return ++f, [3, 3];\n\n                case 6:\n                  s.dispose(), v.label = 7;\n\n                case 7:\n                  return [4, b.onEpochEnd(a, o)];\n\n                case 8:\n                  return v.sent(), e.stopTraining_ ? [2, \"break\"] : [2];\n              }\n            });\n          }, S = h, A.label = 2;\n\n        case 2:\n          return S < a ? [5, z(S)] : [3, 5];\n\n        case 3:\n          if (\"break\" === A.sent()) return [3, 5];\n          A.label = 4;\n\n        case 4:\n          return ++S, [3, 2];\n\n        case 5:\n          return [4, b.onTrainEnd()];\n\n        case 6:\n          return A.sent(), [4, e.history.syncData()];\n\n        case 7:\n          return A.sent(), [2, e.history];\n      }\n    });\n  });\n}\n\nfunction fitTensors(e, t, n, r) {\n  return void 0 === r && (r = {}), __awaiter(this, void 0, void 0, function () {\n    var i, a, o, s, l, u, c, p, h, d, f, g, m, y, v, b, w, z, S, A, _, I;\n\n    return __generator(this, function (C) {\n      switch (C.label) {\n        case 0:\n          if (e.isTraining) throw new Error(\"Cannot start training because another fit() call is ongoing.\");\n          e.isTraining = !0, C.label = 1;\n\n        case 1:\n          return C.trys.push([1,, 7, 8]), checkBatchSize(p = null == r.batchSize ? 32 : r.batchSize), h = !1, [4, e.standardizeUserData(t, n, r.sampleWeight, r.classWeight, h, p)];\n\n        case 2:\n          if (d = C.sent(), i = d[0], a = d[1], c = d[2], f = !1, g = void 0, !(null != r.validationData && r.validationData.length > 0)) return [3, 4];\n          if (f = !0, 2 !== r.validationData.length) throw 3 === r.validationData.length ? new NotImplementedError(\"validationData including sample weights is not supported yet.\") : new ValueError(\"When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; \" + r.validationData + \" is invalid.\");\n          return o = r.validationData[0], s = r.validationData[1], m = !0, [4, e.standardizeUserData(o, s, null, null, m, p)];\n\n        case 3:\n          return y = C.sent(), l = y[0], u = y[1], g = l.concat(u), [3, 5];\n\n        case 4:\n          null != r.validationSplit && r.validationSplit > 0 && r.validationSplit < 1 ? (f = !0, v = Math.floor(i[0].shape[0] * (1 - r.validationSplit)), b = i[0].shape[0], l = sliceArrays(i, v, b), i = sliceArrays(i, 0, v), u = sliceArrays(a, v, b), a = sliceArrays(a, 0, v), g = l.concat(u)) : null != r.validationSteps && (f = !0), C.label = 5;\n\n        case 5:\n          return w = i.concat(a).concat(c), e.checkTrainableWeightsConsistency(), z = e.makeTrainFunction(), S = e.getDedupedMetricsNames(), A = void 0, _ = void 0, f ? (e.makeTestFunction(), A = e.testFunction, _ = S.slice().concat(S.map(function (e) {\n            return \"val_\" + e;\n          }))) : (A = null, g = [], _ = S.slice()), I = standardizeCallbacks(r.callbacks, r.yieldEvery), [4, fitLoop(e, z, w, S, p, r.epochs, r.verbose, I, A, g, r.shuffle, _, r.initialEpoch, null, null)];\n\n        case 6:\n          return [2, C.sent()];\n\n        case 7:\n          return e.isTraining = !1, disposeNewTensors(i, t), disposeNewTensors(a, n), disposeNewTensors(l, o), disposeNewTensors(u, s), null != c && dispose(c), [7];\n\n        case 8:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction ensureTensorsRank2OrHigher(e) {\n  var t = [];\n  e instanceof Tensor && (e = [e]);\n\n  for (var n = 0; n < e.length; ++n) {\n    var r = e[n];\n    if (1 === r.rank) t.push(expandDims$1(r, 1));else {\n      if (0 === r.rank) throw new Error(\"Expected tensor to be at least 1D, but received a 0D tensor (scalar).\");\n      t.push(r);\n    }\n  }\n\n  return t;\n}\n\nfunction disposeNewTensors(e, t) {\n  if (null != e) {\n    var n = [];\n    if (t instanceof Tensor) n.push(t.id);else if (Array.isArray(t)) t.forEach(function (e) {\n      return n.push(e.id);\n    });else if (null != t) for (var r in t) {\n      var i = t[r];\n      n.push(i.id);\n    }\n    var a = [];\n    if (e instanceof Tensor) -1 === n.indexOf(e.id) && a.push(e);else if (Array.isArray(e)) e.forEach(function (e) {\n      -1 === n.indexOf(e.id) && a.push(e);\n    });else if (null != e) for (var o in e) {\n      var s = e[o];\n      -1 === n.indexOf(s.id) && a.push(s);\n    }\n    a.forEach(function (e) {\n      e.isDisposed || e.dispose();\n    });\n  }\n}\n\nfunction isDataTensor(e) {\n  return e instanceof Tensor;\n}\n\nfunction isDataArray(e) {\n  return Array.isArray(e);\n}\n\nfunction isDataDict(e) {\n  return !isDataTensor(e) && !isDataArray(e);\n}\n\nfunction standardizeInputData(e, t, n, r, i) {\n  if (void 0 === r && (r = !0), void 0 === i && (i = \"\"), null == t || 0 === t.length) {\n    if (null != e) {\n      var a = !1;\n      if (isDataArray(e) && e.length > 0) a = !0;else if (isDataDict(e)) {\n        for (var o in e) if (e.hasOwnProperty(o)) {\n          a = !0;\n          break;\n        }\n      } else a = !0;\n      if (a) throw new ValueError(\"Error when checking model \" + i + \" expected no data, but got \" + e);\n    }\n\n    return [];\n  }\n\n  if (null == e) return t.map(function (e) {\n    return null;\n  });\n  var s;\n\n  if (isDataDict(e)) {\n    e = e, s = [];\n\n    for (var l = 0, u = t; l < u.length; l++) {\n      var c = u[l];\n      if (null == e[c]) throw new ValueError('No data provided for \"' + c + '\". Need data for each key in: ' + t);\n      s.push(e[c]);\n    }\n  } else if (isDataArray(e)) {\n    if ((e = e).length !== t.length) throw new ValueError(\"Error when checking model \" + i + \": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see \" + t.length + \" Tensor(s), but instead got the following list of Tensor(s): \" + e);\n    s = e;\n  } else {\n    if (e = e, t.length > 1) throw new ValueError(\"The model \" + i + \" expects \" + t.length + \" Tensor(s), but only received one Tensor. Found: Tensor with shape \" + e.shape);\n    s = [e];\n  }\n\n  if (s = ensureTensorsRank2OrHigher(s), null != n) for (var p = 0; p < t.length; ++p) if (null != n[p]) {\n    var h = s[p];\n    if (h.shape.length !== n[p].length) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[p] + \" to have \" + n[p].length + \" dimension(s). but got array with shape \" + h.shape);\n\n    for (var d = 0; d < n[p].length; ++d) if (0 !== d || r) {\n      var f = h.shape[d],\n          g = n[p][d];\n      if (null != g && g >= 0 && f !== g) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[p] + \" to have shape [\" + n[p] + \"], but got array with shape [\" + h.shape + \"].\");\n    }\n  }\n  return s;\n}\n\nfunction checkArrayLengths(e, t, n) {\n  var r = unique(e.map(function (e) {\n    return e.shape[0];\n  }));\n  r.sort();\n  var i = unique(t.map(function (e) {\n    return e.shape[0];\n  }));\n  if (i.sort(), r.length > 1) throw new ValueError(\"All input Tensors (x) should have the same number of samples. Got array shapes: \" + JSON.stringify(e.map(function (e) {\n    return e.shape;\n  })));\n  if (i.length > 1) throw new ValueError(\"All target Tensors (y) should have the same number of samples. Got array shapes: \" + JSON.stringify(t.map(function (e) {\n    return e.shape;\n  })));\n  if (r.length > 0 && i.length > 0 && !util.arraysEqual(r, i)) throw new ValueError(\"Input Tensors should have the same number of samples as target Tensors. Found \" + r[0] + \" input sample(s) and \" + i[0] + \" target sample(s).\");\n}\n\nfunction checkLossAndTargetCompatibility(e, t, n) {\n  for (var r = [meanSquaredError, binaryCrossentropy, categoricalCrossentropy], i = 0; i < e.length; ++i) {\n    var a = e[i],\n        o = t[i],\n        s = n[i];\n\n    if (null != o) {\n      if (o === categoricalCrossentropy && 1 === a.shape[a.shape.length - 1]) throw new ValueError(\"You are passing a target array of shape \" + a.shape + \" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].\");\n      if (-1 !== r.indexOf(o)) for (var l = a.shape.slice(1), u = s.slice(1), c = 0; c < l.length; ++c) {\n        var p = l[c],\n            h = u[c];\n        if (null != h && p !== h) throw new ValueError(\"A target Tensor with shape \" + a.shape + \" was passed for an output of shape \" + s + \", while using a loss function that expects targets to have the same shape as the output.\");\n      }\n    }\n  }\n}\n\nfunction checkInputData(e, t, n, r, i) {\n  var a;\n\n  if (void 0 === r && (r = !0), void 0 === i && (i = \"\"), Array.isArray(e)) {\n    if (e.length !== t.length) throw new ValueError(\"Error when checking model \" + i + \": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see \" + t.length + \" Tensor(s), but instead got \" + e.length + \" Tensors(s).\");\n    a = e;\n  } else {\n    if (t.length > 1) throw new ValueError(\"The model expects \" + t.length + \" \" + i + \" Tensors, but only received one Tensor. Found: array with shape \" + JSON.stringify(e.shape) + \".\");\n    a = [e];\n  }\n\n  if (null != n) for (var o = 0; o < t.length; ++o) if (null != n[o]) {\n    var s = a[o];\n    if (s.shape.length !== n[o].length) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[o] + \" to have \" + n[o].length + \" dimension(s), but got array with shape \" + JSON.stringify(s.shape));\n\n    for (var l = 0; l < n[o].length; ++l) if (0 !== l || r) {\n      var u = s.shape[l],\n          c = n[o][l];\n      if (null != c && c !== u) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[o] + \" to have shape \" + JSON.stringify(n[o]) + \" but got array with shape \" + JSON.stringify(s.shape) + \".\");\n    }\n  }\n}\n\nfunction collectMetrics(e, t) {\n  if (null == e || Array.isArray(e) && 0 === e.length) return t.map(function (e) {\n    return [];\n  });\n  var n;\n  if (\"string\" == typeof e || \"function\" == typeof e) n = [e];else {\n    if (!Array.isArray(e) && \"object\" != typeof e) throw new TypeError(\"Type of metrics argument not understood. Expected an string,function, Array, or Object, found: \" + e);\n    n = e;\n  }\n  if (Array.isArray(n)) return t.map(function (e) {\n    return n;\n  });\n\n  for (var r = [], i = 0, a = t; i < a.length; i++) {\n    var o = a[i],\n        s = n.hasOwnProperty(o) ? n[o] : [];\n    Array.isArray(s) || (s = [s]), r.push(s);\n  }\n\n  return r;\n}\n\nvar LAYERS_MODEL_FORMAT_NAME = \"layers-model\",\n    LayersModel = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.isTraining = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.summary = function (e, t, n) {\n    if (void 0 === n && (n = console.log), !this.built) throw new ValueError(\"This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).\");\n    printSummary(this, e, t, n);\n  }, t.prototype.compile = function (e) {\n    var t = this;\n    if (null == e.loss && (e.loss = []), this.loss = e.loss, \"string\" == typeof e.optimizer) this.optimizer_ = getOptimizer(e.optimizer), this.isOptimizerOwned = !0;else {\n      if (!(e.optimizer instanceof Optimizer)) throw new ValueError(\"User-defined optimizer must be an instance of tf.Optimizer.\");\n      this.optimizer_ = e.optimizer, this.isOptimizerOwned = !1;\n    }\n    var n = [];\n    if (Array.isArray(e.loss) || \"string\" == typeof e.loss || \"function\" == typeof e.loss) {\n      if (Array.isArray(e.loss)) {\n        if (e.loss.length !== this.outputs.length) throw new ValueError(\"When passing an Array as loss, it should have one entry per model output. The model has \" + this.outputs.length + \" output(s), but you passed loss=\" + e.loss + \".\");\n        var r = e.loss;\n        n = r.map(function (e) {\n          return get(e);\n        });\n      } else {\n        var i = get(e.loss);\n        this.outputs.forEach(function (e) {\n          n.push(i);\n        });\n      }\n    } else {\n      for (var a in e.loss = e.loss, e.loss) if (-1 === this.outputNames.indexOf(a)) throw new ValueError('Unknown entry in loss dictionary: \"' + a + '\". Only expected the following keys: ' + this.outputNames);\n\n      for (var o = 0, s = this.outputNames; o < s.length; o++) {\n        var l = s[o];\n        null == e.loss[l] && console.warn('Output \"' + l + '\" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ' + l + \" during training\"), n.push(get(e.loss[l]));\n      }\n    }\n    this.lossFunctions = n, this.feedOutputNames = [], this.feedOutputShapes = [], this.feedLossFns = [];\n\n    for (var u = 0; u < this.outputs.length; ++u) {\n      var c = this.internalOutputShapes[u],\n          p = this.outputNames[u];\n      this.feedOutputNames.push(p), this.feedOutputShapes.push(c), this.feedLossFns.push(this.lossFunctions[u]);\n    }\n\n    var h = [];\n    this.metrics = e.metrics, this.metricsNames = [\"loss\"], this.metricsTensors = [], nameScope(\"loss\", function () {\n      for (var e = 0; e < t.outputs.length; ++e) if (-1 === h.indexOf(e)) {\n        var n = t.lossFunctions[e];\n        t.outputs.length > 1 && (t.metricsTensors.push([n, e]), t.metricsNames.push(t.outputNames[e] + \"_loss\"));\n      }\n    });\n    var d = collectMetrics(e.metrics, this.outputNames);\n    nameScope(\"metric\", function () {\n      for (var e = function (e) {\n        if (-1 !== h.indexOf(e)) return \"continue\";\n        !function (n) {\n          for (var r, i, a, o = function (n) {\n            if (\"string\" == typeof n && -1 !== [\"accuracy\", \"acc\", \"crossentropy\", \"ce\"].indexOf(n)) {\n              var o = t.internalOutputShapes[e];\n              1 === o[o.length - 1] || t.lossFunctions[e] === binaryCrossentropy ? -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = binaryAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = binaryCrossentropy$1) : t.lossFunctions[e] === sparseCategoricalCrossentropy ? -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = sparseCategoricalAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = sparseCategoricalCrossentropy$1) : -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = categoricalAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = categoricalCrossentropy$1);\n              var s = void 0;\n              -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? s = \"acc\" : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (s = \"ce\"), a = i, r = \"\" + s;\n            } else {\n              var l = get$1(n);\n              a = l, r = \"\" + getLossOrMetricName(n);\n            }\n\n            var u;\n            nameScope(r, function () {\n              u = a;\n            }), function (e, n, r) {\n              t.outputNames.length > 1 && (n = t.outputNames[e] + \"_\" + n), t.metricsNames.push(n), t.metricsTensors.push([r, e]);\n            }(e, r, u);\n          }, s = 0, l = n; s < l.length; s++) o(l[s]);\n        }(d[e]);\n      }, n = 0; n < t.outputs.length; ++n) e(n);\n    }), this.collectedTrainableWeights = this.trainableWeights;\n  }, t.prototype.checkTrainableWeightsConsistency = function () {\n    null != this.collectedTrainableWeights && this.trainableWeights.length !== this.collectedTrainableWeights.length && console.warn(\"Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?\");\n  }, t.prototype.evaluate = function (e, t, n) {\n    void 0 === n && (n = {});\n    var r = null == n.batchSize ? 32 : n.batchSize;\n    checkBatchSize(r);\n    var i = this.standardizeUserDataXY(e, t, !0, r);\n\n    try {\n      var a = i[0].concat(i[1]);\n      this.makeTestFunction();\n      var o = this.testFunction;\n      return singletonOrArray(this.testLoop(o, a, r, n.verbose, n.steps));\n    } finally {\n      disposeNewTensors(i[0], e), disposeNewTensors(i[1], t);\n    }\n  }, t.prototype.evaluateDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return this.makeTestFunction(), [2, evaluateDataset(this, e, t)];\n      });\n    });\n  }, t.prototype.checkNumSamples = function (e, t, n, r) {\n    var i;\n\n    if (void 0 === r && (r = \"steps\"), null != n) {\n      if (i = null, null != t) throw new ValueError(\"If \" + r + \" is set, batchSize must be null or undefined.Got batchSize = \" + t);\n    } else {\n      if (null == e) throw new ValueError(\"Either the input data should have a defined shape, or \" + r + \" shoud be specified.\");\n      i = Array.isArray(e) ? e[0].shape[0] : e.shape[0];\n    }\n\n    return i;\n  }, t.prototype.execute = function (e, t) {\n    if (Array.isArray(t) && 0 === t.length) throw new ValueError(\"`outputs` is an empty Array, which is not allowed.\");\n    var n = Array.isArray(t),\n        r = n ? t : [t],\n        i = this.retrieveSymbolicTensors(r),\n        a = new FeedDict();\n\n    if (e instanceof Tensor && (e = [e]), Array.isArray(e)) {\n      if (e.length !== this.inputs.length) throw new ValueError(\"The number of inputs provided (\" + e.length + \") does not match the number of inputs of this model (\" + this.inputs.length + \").\");\n\n      for (var o = 0; o < this.inputs.length; ++o) a.add(this.inputs[o], e[o]);\n    } else for (var s = 0, l = this.inputs; s < l.length; s++) {\n      var u = l[s],\n          c = e[u.name];\n      if (null == c) throw new ValueError(\"No value is provided for the model's input \" + u.name);\n      a.add(u, c);\n    }\n\n    var p = execute(i, a);\n    return n ? p : p[0];\n  }, t.prototype.retrieveSymbolicTensors = function (e) {\n    for (var t = pyListRepeat(null, e.length), n = e.length, r = 0, i = this.layers; r < i.length; r++) {\n      for (var a = i[r], o = Array.isArray(a.output) ? a.output : [a.output], s = o.map(function (e) {\n        return e.name;\n      }), l = 0; l < e.length; ++l) {\n        var u = s.indexOf(e[l]);\n        if (-1 !== u && (t[l] = o[u], n--), 0 === n) break;\n      }\n\n      if (0 === n) break;\n    }\n\n    if (n > 0) {\n      var c = [];\n      throw t.forEach(function (t, n) {\n        null == t && c.push(e[n]);\n      }), new ValueError(\"Cannot find SymbolicTensors for output name(s): \" + JSON.stringify(c));\n    }\n\n    return t;\n  }, t.prototype.predictLoop = function (e, t, n) {\n    var r = this;\n    return void 0 === t && (t = 32), void 0 === n && (n = !1), tidy(function () {\n      var i = r.checkNumSamples(e);\n      if (n) throw new NotImplementedError(\"Verbose predictLoop() is not implemented yet.\");\n\n      for (var a = makeBatches(i, t), o = r.outputs.map(function (e) {\n        return [];\n      }), s = function (t) {\n        tidy(function () {\n          var n = a[t][0],\n              i = a[t][1],\n              o = sliceArrays(e, n, i),\n              s = [];\n          if (Array.isArray(o)) for (var l = 0; l < o.length; ++l) s.push({\n            key: r.inputs[l],\n            value: o[l]\n          });else s.push({\n            key: r.inputs[0],\n            value: o\n          });\n          var u = new FeedDict(s);\n          return execute(r.outputs, u);\n        }).forEach(function (e, t) {\n          return o[t].push(e);\n        });\n      }, l = 0; l < a.length; ++l) s(l);\n\n      return singletonOrArray(o.map(function (e) {\n        return concat(e, 0);\n      }));\n    });\n  }, t.prototype.predict = function (e, t) {\n    void 0 === t && (t = {});\n    var n = ensureTensorsRank2OrHigher(e);\n    checkInputData(n, this.inputNames, this.feedInputShapes, !1);\n\n    try {\n      var r = null == t.batchSize ? 32 : t.batchSize;\n      return checkBatchSize(r), this.predictLoop(n, r);\n    } finally {\n      disposeNewTensors(n, e);\n    }\n  }, t.prototype.predictOnBatch = function (e) {\n    checkInputData(e, this.inputNames, this.feedInputShapes, !0);\n    var t = (Array.isArray(e) ? e[0] : e).shape[0];\n    return this.predictLoop(e, t);\n  }, t.prototype.standardizeUserDataXY = function (e, t, n, r) {\n    if (void 0 === n && (n = !0), null == this.optimizer_) throw new RuntimeError(\"You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).\");\n\n    for (var i = [], a = 0; a < this.feedOutputShapes.length; ++a) {\n      var o = this.feedOutputShapes[a];\n      this.feedLossFns[a] === sparseCategoricalCrossentropy ? i.push(o.slice(0, o.length - 1).concat([1])) : i.push(o);\n    }\n\n    if (checkArrayLengths(e = standardizeInputData(e, this.feedInputNames, this.feedInputShapes, !1, \"input\"), t = standardizeInputData(t, this.feedOutputNames, i, !1, \"target\"), null), checkLossAndTargetCompatibility(t, this.feedLossFns, this.feedOutputShapes), this.stateful && null != r && r > 0 && e[0].shape[0] % r != 0) throw new ValueError(\"In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size \" + r + \". Found: \" + e[0].shape[0] + \" sample(s).\");\n    return [e, t];\n  }, t.prototype.standardizeUserData = function (e, t, n, r, i, a) {\n    return void 0 === i && (i = !0), __awaiter(this, void 0, void 0, function () {\n      var o, s, l, u, c, p, h, d;\n      return __generator(this, function (f) {\n        switch (f.label) {\n          case 0:\n            if (o = this.standardizeUserDataXY(e, t, i, a), s = o[0], l = o[1], null != n) throw new Error(\"sample weight is not supported yet.\");\n            if (u = null, null == r) return [3, 4];\n            c = standardizeClassWeights(r, this.outputNames), u = [], p = 0, f.label = 1;\n\n          case 1:\n            return p < c.length ? (d = (h = u).push, [4, standardizeWeights(l[p], null, c[p])]) : [3, 4];\n\n          case 2:\n            d.apply(h, [f.sent()]), f.label = 3;\n\n          case 3:\n            return ++p, [3, 1];\n\n          case 4:\n            return [2, [s, l, u]];\n        }\n      });\n    });\n  }, t.prototype.testLoop = function (e, t, n, r, i) {\n    var a = this;\n    return void 0 === r && (r = 0), tidy(function () {\n      var o = a.checkNumSamples(t, n, i, \"steps\"),\n          s = [];\n      if (r > 0) throw new NotImplementedError(\"Verbose mode is not implemented yet.\");\n      if (null != i) throw new NotImplementedError(\"steps mode in testLoop() is not implemented yet\");\n\n      for (var l = makeBatches(o, n), u = tensor1d(range(0, o)), c = 0; c < l.length; ++c) {\n        var p = l[c][0],\n            h = l[c][1],\n            d = sliceAlongFirstAxis(u, p, h - p),\n            f = sliceArraysByIndices(t, d),\n            g = e(f);\n        if (0 === c) for (var m = 0; m < g.length; ++m) s.push(scalar(0));\n\n        for (m = 0; m < g.length; ++m) {\n          var y = g[m];\n          s[m] = add(s[m], mul(h - p, y));\n        }\n      }\n\n      for (m = 0; m < s.length; ++m) s[m] = div(s[m], o);\n\n      return s;\n    });\n  }, t.prototype.getDedupedMetricsNames = function () {\n    for (var e = this.metricsNames, t = [], n = 0; n < e.length; ++n) {\n      var r = e[n],\n          i = r;\n      if (count(e, r) > 1) i += \"_\" + count(e.slice(0, n), r);\n      t.push(i);\n    }\n\n    return t;\n  }, t.prototype.makeTrainFunction = function () {\n    var e = this;\n    return function (t) {\n      var n = [],\n          r = t.slice(0, e.inputs.length),\n          i = t.slice(e.inputs.length, e.inputs.length + e.outputs.length),\n          a = t.slice(e.inputs.length + e.outputs.length, e.inputs.length + 2 * e.outputs.length),\n          o = [],\n          s = e.collectedTrainableWeights.map(function (e) {\n        return e.read();\n      });\n      return [e.optimizer_.minimize(function () {\n        for (var t = [], s = 0; s < e.inputs.length; ++s) t.push({\n          key: e.inputs[s],\n          value: r[s]\n        });\n\n        var l,\n            u = new FeedDict(t),\n            c = execute(e.outputs, u, {\n          training: !0\n        });\n\n        for (s = 0; s < e.lossFunctions.length; ++s) {\n          var p = (0, e.lossFunctions[s])(i[s], c[s]);\n          null != a[s] && (p = computeWeightedLoss(p, a[s]));\n          var h = mean(p);\n          n.push(h), l = 0 === s ? p : add(l, p);\n        }\n\n        for (s = 0; s < e.metricsTensors.length; ++s) {\n          var d = void 0;\n          if (e.outputs.length > 1 && s < e.outputs.length) d = n[s];else {\n            var f = e.metricsTensors[s][0],\n                g = e.metricsTensors[s][1];\n            d = mean(f(i[g], c[g]));\n          }\n          keep(d), o.push(d);\n        }\n\n        return l = mean(l), e.calculateLosses().forEach(function (e) {\n          l = add(l, e);\n        }), l;\n      }, !0, s)].concat(o);\n    };\n  }, t.prototype.makeTestFunction = function () {\n    var e = this;\n\n    this.testFunction = function (t) {\n      return tidy(function () {\n        for (var n, r = [], i = t.slice(0, e.inputs.length), a = t.slice(e.inputs.length, e.inputs.length + e.outputs.length), o = [], s = 0; s < e.inputs.length; ++s) o.push({\n          key: e.inputs[s],\n          value: i[s]\n        });\n\n        var l = new FeedDict(o),\n            u = execute(e.outputs, l);\n\n        for (s = 0; s < e.lossFunctions.length; ++s) {\n          var c = e.lossFunctions[s],\n              p = mean(c(a[s], u[s]));\n          n = 0 === s ? p : add(n, p), r.push(n);\n        }\n\n        for (s = 0; s < e.metricsTensors.length; ++s) {\n          var h = e.metricsTensors[s][0],\n              d = e.metricsTensors[s][1],\n              f = mean(h(a[d], u[d]));\n          r.push(f);\n        }\n\n        return r;\n      });\n    };\n  }, t.prototype.fit = function (e, t, n) {\n    return void 0 === n && (n = {}), __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (r) {\n        return [2, fitTensors(this, e, t, n)];\n      });\n    });\n  }, t.prototype.fitDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return [2, fitDataset(this, e, t)];\n      });\n    });\n  }, t.prototype.trainOnBatch = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r, i, a, o, s, l, u, c;\n      return __generator(this, function (p) {\n        switch (p.label) {\n          case 0:\n            return [4, this.standardizeUserData(e, t)];\n\n          case 1:\n            n = p.sent(), r = n[0], i = n[1], a = this.makeTrainFunction(), o = a(r.concat(i)), s = [], l = 0, u = o, p.label = 2;\n\n          case 2:\n            return l < u.length ? [4, u[l].data()] : [3, 5];\n\n          case 3:\n            c = p.sent(), s.push(c[0]), p.label = 4;\n\n          case 4:\n            return l++, [3, 2];\n\n          case 5:\n            return dispose(o), [2, singletonOrArray(s)];\n        }\n      });\n    });\n  }, t.prototype.getNamedWeights = function (e) {\n    for (var t = [], n = null != e && e.trainableOnly, r = n ? this.trainableWeights : this.weights, i = this.getWeights(n), a = 0; a < r.length; ++a) n && !r[a].trainable || t.push({\n      name: r[a].originalName,\n      tensor: i[a]\n    });\n\n    return t;\n  }, Object.defineProperty(t.prototype, \"stopTraining\", {\n    get: function () {\n      return this.stopTraining_;\n    },\n    set: function (e) {\n      this.stopTraining_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"optimizer\", {\n    get: function () {\n      return this.optimizer_;\n    },\n    set: function (e) {\n      this.optimizer_ !== e && (this.optimizer_ = e, this.isOptimizerOwned = !1);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.dispose = function () {\n    var t = e.prototype.dispose.call(this);\n\n    if (0 === t.refCountAfterDispose && null != this.optimizer && this.isOptimizerOwned) {\n      var n = memory().numTensors;\n      this.optimizer_.dispose(), t.numDisposedVariables += n - memory().numTensors;\n    }\n\n    return t;\n  }, t.prototype.getLossIdentifiers = function () {\n    var e;\n    if (\"string\" == typeof this.loss) e = toSnakeCase(this.loss);else if (Array.isArray(this.loss)) {\n      for (var t = 0, n = this.loss; t < n.length; t++) {\n        if (\"string\" != typeof n[t]) throw new Error(\"Serialization of non-string loss is not supported.\");\n      }\n\n      e = this.loss.map(function (e) {\n        return toSnakeCase(e);\n      });\n    } else {\n      var r = Object.keys(this.loss);\n      e = {};\n\n      for (var i = this.loss, a = 0, o = r; a < o.length; a++) {\n        var s = o[a];\n        if (\"string\" != typeof i[s]) throw new Error(\"Serialization of non-string loss is not supported.\");\n        e[s] = toSnakeCase(i[s]);\n      }\n    }\n    return e;\n  }, t.prototype.getMetricIdentifiers = function () {\n    if (\"string\" == typeof this.metrics || \"function\" == typeof this.metrics) return [toSnakeCase(getLossOrMetricName(this.metrics))];\n    if (Array.isArray(this.metrics)) return this.metrics.map(function (e) {\n      return toSnakeCase(getLossOrMetricName(e));\n    });\n    var e = {};\n\n    for (var t in this.metrics) e[t] = toSnakeCase(getLossOrMetricName(this.metrics[t]));\n\n    return e;\n  }, t.prototype.getTrainingConfig = function () {\n    return {\n      loss: this.getLossIdentifiers(),\n      metrics: this.getMetricIdentifiers(),\n      optimizer_config: {\n        class_name: this.optimizer.getClassName(),\n        config: this.optimizer.getConfig()\n      }\n    };\n  }, t.prototype.loadTrainingConfig = function (e) {\n    if (null != e.weighted_metrics) throw new Error(\"Loading weight_metrics is not supported yet.\");\n    if (null != e.loss_weights) throw new Error(\"Loading loss_weights is not supported yet.\");\n    if (null != e.sample_weight_mode) throw new Error(\"Loading sample_weight_mode is not supported yet.\");\n    var t,\n        n,\n        r = deserialize(convertPythonicToTs(e.optimizer_config));\n    if (\"string\" == typeof e.loss) t = toCamelCase(e.loss);else if (Array.isArray(e.loss)) t = e.loss.map(function (e) {\n      return toCamelCase(e);\n    });else if (null != e.loss) for (var i in t = {}, e.loss) t[i] = toCamelCase(e.loss[i]);\n    if (Array.isArray(e.metrics)) n = e.metrics.map(function (e) {\n      return toCamelCase(e);\n    });else if (null != e.metrics) for (var i in n = {}, e.metrics) n[i] = toCamelCase(e.metrics[i]);\n    this.compile({\n      loss: t,\n      metrics: n,\n      optimizer: r\n    });\n  }, t.prototype.save = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r, i, a, o, s, l, u, c, p, h, d, f, g;\n      return __generator(this, function (m) {\n        switch (m.label) {\n          case 0:\n            if (\"string\" == typeof e) {\n              if (0 === (n = io.getSaveHandlers(e)).length) throw new ValueError(\"Cannot find any save handlers for URL '\" + e + \"'\");\n              if (n.length > 1) throw new ValueError(\"Found more than one (\" + n.length + \") save handlers for URL '\" + e + \"'\");\n              e = n[0];\n            }\n\n            if (null == e.save) throw new ValueError(\"LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.\");\n            return [4, io.encodeWeights(this.getNamedWeights(t))];\n\n          case 1:\n            return r = m.sent(), i = !1, a = null, o = this.toJSON(a, i), s = {\n              modelTopology: o,\n              format: LAYERS_MODEL_FORMAT_NAME,\n              generatedBy: \"TensorFlow.js tfjs-layers v\" + version,\n              convertedBy: null\n            }, null != t && t.includeOptimizer && null != this.optimizer ? (s.trainingConfig = this.getTrainingConfig(), l = \"optimizer\", d = (h = io).encodeWeights, [4, this.optimizer.getWeights()]) : [3, 4];\n\n          case 2:\n            return [4, d.apply(h, [m.sent(), l])];\n\n          case 3:\n            u = m.sent(), c = u.data, p = u.specs, (g = r.specs).push.apply(g, p), r.data = io.concatenateArrayBuffers([r.data, c]), m.label = 4;\n\n          case 4:\n            return null != this.userDefinedMetadata && (f = !0, checkUserDefinedMetadata(this.userDefinedMetadata, this.name, f), s.userDefinedMetadata = this.userDefinedMetadata), s.weightData = r.data, s.weightSpecs = r.specs, [2, e.save(s)];\n        }\n      });\n    });\n  }, t.prototype.setUserDefinedMetadata = function (e) {\n    checkUserDefinedMetadata(e, this.name), this.userDefinedMetadata = e;\n  }, t.prototype.getUserDefinedMetadata = function () {\n    return this.userDefinedMetadata;\n  }, t.className = \"Model\", t;\n}(Container);\n\nfunction modelFromJSON(e, t) {\n  return __awaiter(this, void 0, void 0, function () {\n    var n, r, i, a, o, s, l, u;\n    return __generator(this, function (c) {\n      switch (c.label) {\n        case 0:\n          return \"modelTopology\" in e || (e = {\n            modelTopology: e\n          }), null != (n = (e = e).modelTopology).model_config && (n = n.model_config), r = convertPythonicToTs(n), i = deserialize(r, t), null == e.weightsManifest ? [3, 2] : [4, io.loadWeights(e.weightsManifest, e.pathPrefix, i.weights.map(function (e) {\n            return e.originalName;\n          }))];\n\n        case 1:\n          for (a = c.sent(), o = {}, s = 0, l = i.weights; s < l.length; s++) u = l[s], o[u.originalName] = a[u.originalName];\n\n          i.loadWeights(o), dispose(a), c.label = 2;\n\n        case 2:\n          return [2, i];\n      }\n    });\n  });\n}\n\nfunction loadLayersModelInternal(e, t) {\n  return __awaiter(this, void 0, void 0, function () {\n    var n;\n    return __generator(this, function (r) {\n      if (null == t && (t = {}), \"string\" == typeof e) {\n        if (0 === (n = io.getLoadHandlers(e, t.onProgress)).length) n.push(io.browserHTTPRequest(e, t));else if (n.length > 1) throw new ValueError(\"Found more than one (\" + n.length + \") load handlers for URL '\" + e + \"'\");\n        e = n[0];\n      }\n\n      return [2, loadLayersModelFromIOHandler(e, void 0, t)];\n    });\n  });\n}\n\nfunction loadLayersModelFromIOHandler(e, t, n) {\n  return __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l, u, c, p;\n    return __generator(this, function (h) {\n      switch (h.label) {\n        case 0:\n          if (null == n && (n = {}), null == e.load) throw new ValueError(\"Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.\");\n          return [4, e.load()];\n\n        case 1:\n          if (r = h.sent(), null != (i = r.modelTopology).model_config && (i = i.model_config), a = null == n.strict || n.strict, o = null != r.weightData && null != r.weightSpecs && a, s = deserialize(convertPythonicToTs(i), t, o), null != (l = r.trainingConfig) && s.loadTrainingConfig(l), null != r.userDefinedMetadata && s.setUserDefinedMetadata(r.userDefinedMetadata), null == r.weightData) return [3, 4];\n          if (null == r.weightSpecs) throw new ValueError(\"LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.\");\n          return u = decodeModelAndOptimizerWeights(r.weightData, r.weightSpecs), c = u.modelWeights, p = u.optimizerWeights, s.loadWeights(c, a), null != s.optimizer && p.length > 0 ? [4, s.optimizer.setWeights(p)] : [3, 3];\n\n        case 2:\n          h.sent(), h.label = 3;\n\n        case 3:\n          dispose(c), dispose(p.map(function (e) {\n            return e.tensor;\n          })), h.label = 4;\n\n        case 4:\n          return [2, s];\n      }\n    });\n  });\n}\n\nfunction decodeModelAndOptimizerWeights(e, t) {\n  var n = io.decodeWeights(e, t),\n      r = {},\n      i = [];\n  return t.forEach(function (e) {\n    \"optimizer\" === e.group ? i.push({\n      name: e.name,\n      tensor: n[e.name]\n    }) : r[e.name] = n[e.name];\n  }), {\n    modelWeights: r,\n    optimizerWeights: i\n  };\n}\n\nserialization.registerClass(LayersModel);\n\nvar Sequential = function (e) {\n  function t(t) {\n    var n = e.call(this, {\n      inputs: [],\n      outputs: []\n    }) || this;\n    if (t = t || {}, n.trainable = !0, n.built = !1, n.name = null != t.name ? t.name : getUid(\"sequential_\"), null != t.layers) for (var r = 0, i = t.layers; r < i.length; r++) {\n      var a = i[r];\n      n.add(a);\n    }\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.checkShape = function (e) {\n    if (e.inboundNodes[0].outputTensors[0].shape.some(function (e) {\n      return e < 0;\n    })) throw new ValueError(\"Negative dimension size caused by adding layer \" + e.name + \" with input shape [\" + e.inboundNodes[0].inputTensors[0].shape + \"]\");\n  }, t.prototype.add = function (e) {\n    var n,\n        r = e instanceof t || e instanceof LayersModel;\n\n    if (r) {\n      if (1 !== (n = e).outputs.length) throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n      if (1 !== n.inputs.length) throw new ValueError(\"All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.\");\n    }\n\n    if (0 === this.outputs.length) {\n      if (0 === e.inboundNodes.length) {\n        if (null == e.batchInputShape) throw new ValueError(\"The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.\");\n        var i = Input({\n          batchShape: e.batchInputShape,\n          dtype: e.dtype,\n          name: e.name + \"_input\"\n        });\n        e.apply(i);\n      }\n\n      if (r) this.outputs = n.outputs, this.inputs = n.inputs;else {\n        if (1 !== e.inboundNodes.length) throw new ValueError(\"A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer \" + e.name + \" which has \" + e.inboundNodes.length + \" pre-existing inbound connections.\");\n        if (1 !== e.inboundNodes[0].outputTensors.length) throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n        this.checkShape(e), this.outputs = [e.inboundNodes[0].outputTensors[0]], this.inputs = getSourceInputs(this.outputs[0]);\n      }\n      this.inboundNodes = [], new Node({\n        outboundLayer: this,\n        inboundLayers: [],\n        nodeIndices: [],\n        tensorIndices: [],\n        inputTensors: this.inputs,\n        outputTensors: this.outputs,\n        inputMasks: pyListRepeat(null, this.inputs.length),\n        outputMasks: [null],\n        inputShapes: this.inputs.map(function (e) {\n          return e.shape;\n        }),\n        outputShapes: this.outputs[0].shape\n      });\n    } else {\n      var a = e.apply(this.outputs[0]);\n      if (Array.isArray(a)) throw new TypeError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n      this.checkShape(e), this.outputs = [a], this.inboundNodes[0].outputTensors = this.outputs, this.inboundNodes[0].outputShapes = [this.outputs[0].shape];\n    }\n\n    this.layers.push(e), this.built = !1;\n  }, t.prototype.pop = function () {\n    if (0 === this.layers.length) throw new TypeError(\"There are no layers in the model.\");\n    if (this.layers.pop(), 0 === this.layers.length) this.outputs = [], this.inboundNodes = [], this.outboundNodes = [];else {\n      var e = this.layers.length - 1;\n      this.layers[e].outboundNodes = [], this.outputs = [this.layers[e].output], this.inboundNodes[0].outputTensors = this.outputs, this.inboundNodes[0].outputShapes = [this.outputs[0].shape];\n    }\n  }, t.prototype.call = function (e, t) {\n    return null == this.model && this.build(), this.model.call(e, t);\n  }, t.prototype.build = function (e) {\n    if (getExactlyOneShape(e), 0 === this.inputs.length || 0 === this.outputs.length) throw new TypeError(\"Sequential model cannot be built: model is empty. Add some layers first.\");\n    this.model = new LayersModel({\n      inputs: this.inputs,\n      outputs: this.outputs[0],\n      name: this.name + \"_model\"\n    }), this.model.trainable = this.trainable, this.supportsMasking = this.model.supportsMasking, this.inputLayers = this.model.inputLayers, this.inputLayersNodeIndices = this.model.inputLayersNodeIndices, this.inputLayersTensorIndices = this.model.inputLayersTensorIndices, this.outputLayers = this.model.outputLayers, this.outputLayersNodeIndices = this.model.outputLayersNodeIndices, this.outputLayersTensorIndices = this.model.outputLayersTensorIndices, this.nodesByDepth = this.model.nodesByDepth, this.containerNodes = this.model.containerNodes, this.outputNames = this.model.outputNames, this.inputNames = this.model.inputNames, this.built = !0;\n  }, t.prototype.countParams = function () {\n    return this.built || this.build(), e.prototype.countParams.call(this);\n  }, t.prototype.summary = function (t, n, r) {\n    void 0 === r && (r = console.log), this.built || this.build(), e.prototype.summary.call(this, t, n, r);\n  }, t.prototype.setWeights = function (e) {\n    null == this.model && this.build(), this.model.setWeights(e);\n  }, t.prototype.evaluate = function (e, t, n) {\n    if (void 0 === n && (n = {}), !this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n    return this.model.evaluate(e, t, n);\n  }, t.prototype.evaluateDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.evaluateDataset(e, t)];\n      });\n    });\n  }, t.prototype.predict = function (e, t) {\n    return void 0 === t && (t = {}), null == this.model && this.build(), this.model.predict(e, t);\n  }, t.prototype.predictOnBatch = function (e) {\n    return null == this.model && this.build(), this.model.predictOnBatch(e);\n  }, t.prototype.compile = function (e) {\n    this.build(), this.model.compile(e), this.optimizer_ = this.model.optimizer, this.isOptimizerOwned = this.model.isOptimizerOwned, this.loss = this.model.loss, this.metrics = this.model.metrics, this.metricsTensors = this.model.metricsTensors, this.metricsNames = this.model.metricsNames;\n  }, Object.defineProperty(t.prototype, \"optimizer\", {\n    get: function () {\n      return null == this.model ? void 0 : this.model.optimizer;\n    },\n    set: function (e) {\n      this.model.optimizer = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.fit = function (e, t, n) {\n    return void 0 === n && (n = {}), __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (r) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.fit(e, t, n)];\n      });\n    });\n  }, t.prototype.fitDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.fitDataset(e, t)];\n      });\n    });\n  }, t.prototype.trainOnBatch = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return [2, this.model.trainOnBatch(e, t)];\n      });\n    });\n  }, t.fromConfig = function (e, n, r, i) {\n    var a;\n    void 0 === r && (r = {}), void 0 === i && (i = !1);\n    var o = {};\n\n    if (n instanceof Array) {\n      if (null == n[0].className || \"Merge\" === n[0].className) throw new ValueError(\"Legacy serialization format not supported yet.\");\n      a = n;\n    } else util.assert(null != n.layers, function () {\n      return \"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.\";\n    }), a = n.layers, delete n.layers, o = n;\n\n    var s = new e(o);\n    if (!(s instanceof t)) throw new NotImplementedError(\"Sequential.fromConfig called on non-Sequential input: \" + s);\n\n    for (var l = 0, u = a; l < u.length; l++) {\n      var c = deserialize(u[l], void 0, i);\n      i && c.setFastWeightInitDuringBuild(!0), s.add(c);\n    }\n\n    return s;\n  }, Object.defineProperty(t.prototype, \"stopTraining\", {\n    get: function () {\n      if (null == this.model) throw new ValueError(\"Cannot get the stopTraining property of a sequential model before it is compiled.\");\n      return this.model.stopTraining;\n    },\n    set: function (e) {\n      if (null == this.model) throw new ValueError(\"Cannot set the stopTraining property of a sequential model before it is compiled.\");\n      this.model.stopTraining = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n      var r = n[t],\n          i = {};\n      i.className = r.getClassName(), i.config = r.getConfig(), e.push(i);\n    }\n\n    return e;\n  }, t.className = \"Sequential\", t;\n}(LayersModel);\n\nfunction model(e) {\n  return new LayersModel(e);\n}\n\nfunction sequential(e) {\n  return new Sequential(e);\n}\n\nfunction loadLayersModel(e, t) {\n  return null == t && (t = {}), loadLayersModelInternal(e, t);\n}\n\nfunction input(e) {\n  return Input(e);\n}\n\nfunction registerCallbackConstructor(e, t) {\n  CallbackConstructorRegistry.registerCallbackConstructor(e, t);\n}\n\nserialization.registerClass(Sequential);\n\nvar Activation = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    Elu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return void 0 === t && (t = 1), elu$1(e, t);\n  }, t.className = \"elu\", t;\n}(Activation);\n\nserialization.registerClass(Elu);\n\nvar Selu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return selu(e);\n  }, t.className = \"selu\", t;\n}(Activation);\n\nserialization.registerClass(Selu);\n\nvar Relu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return relu(e);\n  }, t.className = \"relu\", t;\n}(Activation);\n\nserialization.registerClass(Relu);\n\nvar Relu6 = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return tidy(function () {\n      return minimum(6, relu(e));\n    });\n  }, t.className = \"relu6\", t;\n}(Activation);\n\nserialization.registerClass(Relu6);\n\nvar Linear = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return e;\n  }, t.className = \"linear\", t;\n}(Activation);\n\nserialization.registerClass(Linear);\n\nvar Sigmoid = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return sigmoid(e);\n  }, t.className = \"sigmoid\", t;\n}(Activation);\n\nserialization.registerClass(Sigmoid);\n\nvar HardSigmoid = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return hardSigmoid(e);\n  }, t.className = \"hardSigmoid\", t;\n}(Activation);\n\nserialization.registerClass(HardSigmoid);\n\nvar Softplus = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return softplus(e);\n  }, t.className = \"softplus\", t;\n}(Activation);\n\nserialization.registerClass(Softplus);\n\nvar Softsign = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return softsign(e);\n  }, t.className = \"softsign\", t;\n}(Activation);\n\nserialization.registerClass(Softsign);\n\nvar Tanh = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return tanh(e);\n  }, t.className = \"tanh\", t;\n}(Activation);\n\nserialization.registerClass(Tanh);\n\nvar Softmax = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return void 0 === t && (t = -1), softmax(e, t);\n  }, t.className = \"softmax\", t;\n}(Activation);\n\nserialization.registerClass(Softmax);\n\nvar LogSoftmax = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return void 0 === t && (t = -1), logSoftmax(e, t);\n  }, t.className = \"logSoftmax\", t;\n}(Activation);\n\nfunction serializeActivation(e) {\n  return e.getClassName();\n}\n\nfunction deserializeActivation(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"activation\");\n}\n\nfunction getActivation(e) {\n  var t;\n  return null == e ? deserializeActivation(t = {\n    className: \"linear\",\n    config: {}\n  }) : \"string\" == typeof e ? ((t = {}).className = e, t.config = {}, deserializeActivation(t)) : e instanceof Activation ? e : deserializeActivation(e);\n}\n\nfunction assertObjectArgs(e) {\n  if (null != e && \"object\" != typeof e) throw new Error(\"Argument to L1L2 regularizer's constructor is expected to be an object, but received: \" + e);\n}\n\nserialization.registerClass(LogSoftmax);\n\nvar Regularizer = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t;\n}(serialization.Serializable),\n    L1L2 = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return assertObjectArgs(t), n.l1 = null == t || null == t.l1 ? .01 : t.l1, n.l2 = null == t || null == t.l2 ? .01 : t.l2, n.hasL1 = 0 !== n.l1, n.hasL2 = 0 !== n.l2, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = zeros([1]);\n      return t.hasL1 && (n = add(n, sum(mul(t.l1, abs(e))))), t.hasL2 && (n = add(n, sum(mul(t.l2, square(e))))), n.asScalar();\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      l1: this.l1,\n      l2: this.l2\n    };\n  }, t.fromConfig = function (e, t) {\n    return new e({\n      l1: t.l1,\n      l2: t.l2\n    });\n  }, t.className = \"L1L2\", t;\n}(Regularizer);\n\nfunction l1(e) {\n  return assertObjectArgs(e), new L1L2({\n    l1: null != e ? e.l1 : null,\n    l2: 0\n  });\n}\n\nfunction l2(e) {\n  return assertObjectArgs(e), new L1L2({\n    l2: null != e ? e.l2 : null,\n    l1: 0\n  });\n}\n\nserialization.registerClass(L1L2);\nvar REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  l1l2: \"L1L2\"\n};\n\nfunction serializeRegularizer(e) {\n  return serializeKerasObject(e);\n}\n\nfunction deserializeRegularizer(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"regularizer\");\n}\n\nfunction getRegularizer(e) {\n  return null == e ? null : \"string\" == typeof e ? deserializeRegularizer({\n    className: e in REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP ? REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e,\n    config: {}\n  }) : e instanceof Regularizer ? e : deserializeRegularizer(e);\n}\n\nvar ReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.supportsMasking = !0, null != t && (n.maxValue = t.maxValue), n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    e = getExactlyOneTensor(e);\n    var n = relu(e);\n    return null != this.maxValue && (n = clipByValue(n, 0, this.maxValue)), n;\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      maxValue: this.maxValue\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ReLU\", t;\n}(Layer);\n\nserialization.registerClass(ReLU);\n\nvar LeakyReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_ALPHA = .3, null == t && (t = {}), n.alpha = null == t.alpha ? n.DEFAULT_ALPHA : t.alpha, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return leakyRelu(n, this.alpha);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alpha: this.alpha\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"LeakyReLU\", t;\n}(Layer);\n\nserialization.registerClass(LeakyReLU);\n\nvar PReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    if (n.DEFAULT_ALPHA_INITIALIZER = \"zeros\", null == t && (t = {}), n.supportsMasking = !0, n.alphaInitializer = getInitializer(t.alphaInitializer || n.DEFAULT_ALPHA_INITIALIZER), n.alphaRegularizer = getRegularizer(t.alphaRegularizer), n.alphaConstraint = getConstraint(t.alphaConstraint), null == t.sharedAxes) n.sharedAxes = null;else if (Array.isArray(t.sharedAxes)) n.sharedAxes = t.sharedAxes;else {\n      if (\"number\" != typeof t.sharedAxes) throw new ValueError(\"Expected sharedAxes to be a number or an array of numbers, but got \" + t.sharedAxes);\n      n.sharedAxes = [t.sharedAxes];\n    }\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice(1);\n    if (null != this.sharedAxes) for (var n = 0, r = this.sharedAxes; n < r.length; n++) {\n      t[(a = r[n]) - 1] = 1;\n    }\n    this.alpha = this.addWeight(\"alpha\", t, \"float32\", this.alphaInitializer, this.alphaRegularizer, !0, this.alphaConstraint);\n    var i = {};\n    if (null != this.sharedAxes) for (var a = 1; a < e.length; ++a) i[a] = e[a];\n    this.inputSpec = [new InputSpec({\n      ndim: e.length,\n      axes: i\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    return e = getExactlyOneTensor(e), prelu(e, this.alpha.read());\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alphaInitializer: serializeInitializer(this.alphaInitializer),\n      alphaRegularizer: serializeRegularizer(this.alphaRegularizer),\n      alphaConstraint: serializeConstraint(this.alphaConstraint),\n      sharedAxes: this.sharedAxes\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"PReLU\", t;\n}(Layer);\n\nserialization.registerClass(PReLU);\n\nvar ELU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    if (n.DEFAULT_ALPHA = 1, null == t && (t = {}), null != t.alpha && t.alpha !== n.DEFAULT_ALPHA) throw new NotImplementedError(\"Non-default alpha value (\" + t.alpha + \") is not supported by the ELU layer yet.\");\n    return n.alpha = null == t.alpha ? n.DEFAULT_ALPHA : t.alpha, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return elu(n);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alpha: this.alpha\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ELU\", t;\n}(Layer);\n\nserialization.registerClass(ELU);\n\nvar ThresholdedReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_THETA = 1, null == t && (t = {}), n.theta = null == t.theta ? n.DEFAULT_THETA : t.theta, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return n.mul(cast$1(n.greater(this.theta), \"float32\"));\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      theta: this.theta\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ThresholdedReLU\", t;\n}(Layer);\n\nserialization.registerClass(ThresholdedReLU);\n\nvar Softmax$1 = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_AXIS = 1, null == t && (t = {}), n.softmax = new Softmax().apply, n.axis = null == t.axis ? n.DEFAULT_AXIS : t.axis, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return this.softmax(n, this.axis);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Softmax\", t;\n}(Layer);\n\nfunction normalizeArray(e, t, n) {\n  if (\"number\" == typeof e) return pyListRepeat(e, t);\n  if (e.length !== t) throw new ValueError(\"The \" + n + \" argument must be an integer or tuple of \" + t + \" integers. Received: \" + e.length + \" elements.\");\n\n  for (var r = 0; r < t; ++r) {\n    var i = e[r];\n    if (!isInteger(i)) throw new ValueError(\"The \" + n + \" argument must be an integer or tuple of \" + t + \" integers. Received: \" + JSON.stringify(e) + \" including a non-integer number \" + i);\n  }\n\n  return e;\n}\n\nfunction convOutputLength(e, t, n, r, i) {\n  return void 0 === i && (i = 1), null == e ? e : (a = \"same\" === n ? e : e - (t + (t - 1) * (i - 1)) + 1, Math.floor((a + r - 1) / r));\n  var a;\n}\n\nfunction deconvLength(e, t, n, r) {\n  if (null == e) return null;\n  if (\"valid\" === r) e = e * t + max$1([n - t, 0]);else {\n    if (\"same\" !== r) throw new ValueError(\"Unsupport padding mode: \" + r + \".\");\n    e *= t;\n  }\n  return e;\n}\n\nfunction preprocessConv2DInput(e, t) {\n  return tidy(function () {\n    return checkDataFormat(t), \"channelsFirst\" === t ? transpose(e, [0, 2, 3, 1]) : e;\n  });\n}\n\nfunction preprocessConv3DInput(e, t) {\n  return tidy(function () {\n    return checkDataFormat(t), \"channelsFirst\" === t ? transpose(e, [0, 2, 3, 4, 1]) : e;\n  });\n}\n\nfunction conv1dWithBias(e, t, n, r, i, a, o) {\n  return void 0 === r && (r = 1), void 0 === i && (i = \"valid\"), void 0 === o && (o = 1), tidy(function () {\n    if (null == a && (a = imageDataFormat()), checkDataFormat(a), 3 !== e.shape.length) throw new ValueError(\"The input of a conv1dWithBias operation should be 3, but is \" + e.shape.length + \" instead.\");\n    if (3 !== t.shape.length) throw new ValueError(\"The kernel for a conv1dWithBias operation should be 3, but is \" + t.shape.length + \" instead\");\n    if (null != n && 1 !== n.shape.length) throw new ValueError(\"The bias for a conv1dWithBias operation should be 1, but is \" + t.shape.length + \" instead\");\n    if (\"channelsFirst\" === a && (e = transpose(e, [0, 2, 1])), \"causal\" === i) throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");\n    var s = conv1d(e, t, r, \"same\" === i ? \"same\" : \"valid\", \"NWC\", o);\n    return null != n && (s = biasAdd(s, n)), s;\n  });\n}\n\nfunction conv2dWithBiasActivation(e, t, n, r, i, a, o, s) {\n  return void 0 === r && (r = [1, 1]), void 0 === i && (i = \"valid\"), void 0 === s && (s = null), tidy(function () {\n    if (null == a && (a = imageDataFormat()), checkDataFormat(a), 3 !== e.rank && 4 !== e.rank) throw new ValueError(\"conv2dWithBiasActivation expects input to be of rank 3 or 4, but received \" + e.rank + \".\");\n    if (3 !== t.rank && 4 !== t.rank) throw new ValueError(\"conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received \" + e.rank + \".\");\n    var l = preprocessConv2DInput(e, a);\n    if (\"causal\" === i) throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");\n    return l = fused.conv2d({\n      x: l,\n      filter: t,\n      strides: r,\n      pad: \"same\" === i ? \"same\" : \"valid\",\n      dilations: o,\n      dataFormat: \"NHWC\",\n      bias: n,\n      activation: s\n    }), \"channelsFirst\" === a && (l = transpose(l, [0, 3, 1, 2])), l;\n  });\n}\n\nfunction conv3dWithBias(e, t, n, r, i, a, o) {\n  return void 0 === r && (r = [1, 1, 1]), void 0 === i && (i = \"valid\"), tidy(function () {\n    if (null == a && (a = imageDataFormat()), checkDataFormat(a), 4 !== e.rank && 5 !== e.rank) throw new ValueError(\"conv3dWithBias expects input to be of rank 4 or 5, but received \" + e.rank + \".\");\n    if (4 !== t.rank && 5 !== t.rank) throw new ValueError(\"conv3dWithBias expects kernel to be of rank 4 or 5, but received \" + e.rank + \".\");\n    var s = preprocessConv3DInput(e, a);\n    if (\"causal\" === i) throw new NotImplementedError(\"The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.\");\n    return s = conv3d(s, t, r, \"same\" === i ? \"same\" : \"valid\", \"NDHWC\", o), null != n && (s = biasAdd(s, n)), \"channelsFirst\" === a && (s = transpose(s, [0, 4, 1, 2, 3])), s;\n  });\n}\n\nserialization.registerClass(Softmax$1);\n\nvar BaseConv = function (e) {\n  function t(n, r) {\n    var i = e.call(this, r) || this;\n    if (i.bias = null, i.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", i.DEFAULT_BIAS_INITIALIZER = \"zeros\", t.verifyArgs(r), i.rank = n, assertPositiveInteger(i.rank, \"rank\"), 1 !== i.rank && 2 !== i.rank && 3 !== i.rank) throw new NotImplementedError(\"Convolution layer for rank other than 1, 2, or 3 (\" + i.rank + \") is not implemented yet.\");\n    if (i.kernelSize = normalizeArray(r.kernelSize, n, \"kernelSize\"), i.strides = normalizeArray(null == r.strides ? 1 : r.strides, n, \"strides\"), i.padding = null == r.padding ? \"valid\" : r.padding, checkPaddingMode(i.padding), i.dataFormat = null == r.dataFormat ? \"channelsLast\" : r.dataFormat, checkDataFormat(i.dataFormat), i.activation = getActivation(r.activation), i.useBias = null == r.useBias || r.useBias, i.biasInitializer = getInitializer(r.biasInitializer || i.DEFAULT_BIAS_INITIALIZER), i.biasConstraint = getConstraint(r.biasConstraint), i.biasRegularizer = getRegularizer(r.biasRegularizer), i.activityRegularizer = getRegularizer(r.activityRegularizer), i.dilationRate = normalizeArray(null == r.dilationRate ? 1 : r.dilationRate, n, \"dilationRate\"), 1 === i.rank && Array.isArray(i.dilationRate) && 1 !== i.dilationRate.length) throw new ValueError(\"dilationRate must be a number or an array of a single number for 1D convolution, but received \" + JSON.stringify(i.dilationRate));\n\n    if (2 === i.rank) {\n      if (\"number\" == typeof i.dilationRate) i.dilationRate = [i.dilationRate, i.dilationRate];else if (2 !== i.dilationRate.length) throw new ValueError(\"dilationRate must be a number or array of two numbers for 2D convolution, but received \" + JSON.stringify(i.dilationRate));\n    } else if (3 === i.rank) if (\"number\" == typeof i.dilationRate) i.dilationRate = [i.dilationRate, i.dilationRate, i.dilationRate];else if (3 !== i.dilationRate.length) throw new ValueError(\"dilationRate must be a number or array of three numbers for 3D convolution, but received \" + JSON.stringify(i.dilationRate));\n\n    return i;\n  }\n\n  return __extends(t, e), t.verifyArgs = function (e) {\n    if (assert(\"kernelSize\" in e, \"required key 'kernelSize' not in config\"), \"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 3)) throw new ValueError(\"BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.prototype.getConfig = function () {\n    var t = {\n      kernelSize: this.kernelSize,\n      strides: this.strides,\n      padding: this.padding,\n      dataFormat: this.dataFormat,\n      dilationRate: this.dilationRate,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      biasConstraint: serializeConstraint(this.biasConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    Conv = function (e) {\n  function t(n, r) {\n    var i = e.call(this, n, r) || this;\n    return i.kernel = null, t.verifyArgs(r), i.filters = r.filters, assertPositiveInteger(i.filters, \"filters\"), i.kernelInitializer = getInitializer(r.kernelInitializer || i.DEFAULT_KERNEL_INITIALIZER), i.kernelConstraint = getConstraint(r.kernelConstraint), i.kernelRegularizer = getRegularizer(r.kernelRegularizer), i;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t;\n    e = getExactlyOneShape(e);\n    var n = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[n]) throw new ValueError(\"The channel dimension of the input should be defined. Found \" + e[n]);\n    var r = e[n],\n        i = this.kernelSize.concat([r, this.filters]);\n    this.kernel = this.addWeight(\"kernel\", i, null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.filters], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint)), this.inputSpec = [{\n      ndim: this.rank + 2,\n      axes: (t = {}, t[n] = r, t)\n    }], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t;\n      e = getExactlyOneTensor(e);\n      var r = null == n.bias ? null : n.bias.read(),\n          i = mapActivationToFusedKernel(n.activation.getClassName());\n      if (null != i && 2 === n.rank) t = conv2dWithBiasActivation(e, n.kernel.read(), r, n.strides, n.padding, n.dataFormat, n.dilationRate, i);else {\n        if (1 === n.rank) t = conv1dWithBias(e, n.kernel.read(), r, n.strides[0], n.padding, n.dataFormat, n.dilationRate[0]);else if (2 === n.rank) t = conv2dWithBiasActivation(e, n.kernel.read(), r, n.strides, n.padding, n.dataFormat, n.dilationRate);else {\n          if (3 !== n.rank) throw new NotImplementedError(\"convolutions greater than 3D are not implemented yet.\");\n          t = conv3dWithBias(e, n.kernel.read(), r, n.strides, n.padding, n.dataFormat, n.dilationRate);\n        }\n        null != n.activation && (t = n.activation.apply(t));\n      }\n      return t;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n\n    for (var t = [], n = \"channelsLast\" === this.dataFormat ? e.slice(1, e.length - 1) : e.slice(2), r = 0; r < n.length; ++r) {\n      var i = convOutputLength(n[r], this.kernelSize[r], this.padding, this.strides[r], \"number\" == typeof this.dilationRate ? this.dilationRate : this.dilationRate[r]);\n      t.push(i);\n    }\n\n    var a = [e[0]];\n    return \"channelsLast\" === this.dataFormat ? (a = a.concat(t)).push(this.filters) : (a.push(this.filters), a = a.concat(t)), a;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      filters: this.filters,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.verifyArgs = function (e) {\n    if (!(\"filters\" in e) || \"number\" != typeof e.filters || e.filters < 1) throw new ValueError(\"Convolution layer expected config.filters to be a 'number' > 0 but got \" + JSON.stringify(e.filters));\n  }, t;\n}(BaseConv),\n    Conv2D = function (e) {\n  function t(n) {\n    var r = e.call(this, 2, n) || this;\n    return t.verifyArgs(n), r;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, t;\n  }, t.verifyArgs = function (e) {\n    if (\"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 2)) throw new ValueError(\"Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.className = \"Conv2D\", t;\n}(Conv);\n\nserialization.registerClass(Conv2D);\n\nvar Conv3D = function (e) {\n  function t(n) {\n    var r = e.call(this, 3, n) || this;\n    return t.verifyArgs(n), r;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, t;\n  }, t.verifyArgs = function (e) {\n    if (\"number\" != typeof e.kernelSize && (!Array.isArray(e.kernelSize) || 1 !== e.kernelSize.length && 3 !== e.kernelSize.length)) throw new ValueError(\"Conv3D expects config.kernelSize to be number or [number, number, number], but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.className = \"Conv3D\", t;\n}(Conv);\n\nserialization.registerClass(Conv3D);\n\nvar Conv2DTranspose = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], \"same\" !== n.padding && \"valid\" !== n.padding) throw new ValueError(\"Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode \" + n.padding);\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t;\n    if (4 !== (e = getExactlyOneShape(e)).length) throw new ValueError(\"Input should have rank 4; Received input shape: \" + JSON.stringify(e));\n    var n = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[n]) throw new ValueError(\"The channel dimension of the inputs should be defined. Found `None`.\");\n    var r = e[n],\n        i = this.kernelSize.concat([this.filters, r]);\n    this.kernel = this.addWeight(\"kernel\", i, \"float32\", this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.filters], \"float32\", this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint)), this.inputSpec = [new InputSpec({\n      ndim: 4,\n      axes: (t = {}, t[n] = r, t)\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      if (4 !== t.shape.length) throw new ValueError(\"Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-\" + t.shape.length);\n      var r,\n          i,\n          a = t.shape,\n          o = a[0];\n      \"channelsFirst\" === n.dataFormat ? (r = 2, i = 3) : (r = 1, i = 2);\n      var s = a[r],\n          l = a[i],\n          u = n.kernelSize[0],\n          c = n.kernelSize[1],\n          p = n.strides[0],\n          h = n.strides[1],\n          d = [o, deconvLength(s, p, u, n.padding), deconvLength(l, h, c, n.padding), n.filters];\n      \"channelsLast\" !== n.dataFormat && (t = transpose(t, [0, 2, 3, 1]));\n      var f = conv2dTranspose(t, n.kernel.read(), d, n.strides, n.padding);\n      return \"channelsLast\" !== n.dataFormat && (f = transpose(f, [0, 3, 1, 2])), null != n.bias && (f = biasAdd(f, n.bias.read(), n.dataFormat)), null != n.activation && (f = n.activation.apply(f)), f;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t,\n        n,\n        r,\n        i = (e = getExactlyOneShape(e)).slice();\n    \"channelsFirst\" === this.dataFormat ? (t = 1, n = 2, r = 3) : (t = 3, n = 1, r = 2);\n    var a = this.kernelSize[0],\n        o = this.kernelSize[1],\n        s = this.strides[0],\n        l = this.strides[1];\n    return i[t] = this.filters, i[n] = deconvLength(i[n], s, a, this.padding), i[r] = deconvLength(i[r], l, o, this.padding), i;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.dilationRate, t;\n  }, t.className = \"Conv2DTranspose\", t;\n}(Conv2D);\n\nserialization.registerClass(Conv2DTranspose);\n\nvar SeparableConv = function (e) {\n  function t(t, n) {\n    var r = e.call(this, t, n) || this;\n    if (r.DEFAULT_DEPTHWISE_INITIALIZER = \"glorotUniform\", r.DEFAULT_POINTWISE_INITIALIZER = \"glorotUniform\", r.depthwiseKernel = null, r.pointwiseKernel = null, null == n.filters) throw new ValueError(\"The `filters` configuration field is required by SeparableConv, but is unspecified.\");\n    if (null != n.kernelInitializer || null != n.kernelRegularizer || null != n.kernelConstraint) throw new ValueError(\"Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.\");\n    if (null != n.padding && \"same\" !== n.padding && \"valid\" !== n.padding) throw new ValueError(\"SeparableConv\" + r.rank + \"D supports only padding modes: 'same' and 'valid', but received \" + JSON.stringify(n.padding));\n    return r.depthMultiplier = null == n.depthMultiplier ? 1 : n.depthMultiplier, r.depthwiseInitializer = getInitializer(n.depthwiseInitializer || r.DEFAULT_DEPTHWISE_INITIALIZER), r.depthwiseRegularizer = getRegularizer(n.depthwiseRegularizer), r.depthwiseConstraint = getConstraint(n.depthwiseConstraint), r.pointwiseInitializer = getInitializer(n.depthwiseInitializer || r.DEFAULT_POINTWISE_INITIALIZER), r.pointwiseRegularizer = getRegularizer(n.pointwiseRegularizer), r.pointwiseConstraint = getConstraint(n.pointwiseConstraint), r;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t;\n    if ((e = getExactlyOneShape(e)).length < this.rank + 2) throw new ValueError(\"Inputs to SeparableConv\" + this.rank + \"D should have rank \" + (this.rank + 2) + \", but received input shape: \" + JSON.stringify(e));\n    var n = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[n] || e[n] < 0) throw new ValueError(\"The channel dimension of the inputs should be defined, but found \" + JSON.stringify(e[n]));\n\n    for (var r = e[n], i = this.kernelSize.concat([r, this.depthMultiplier]), a = [], o = 0; o < this.rank; ++o) a.push(1);\n\n    a.push(r * this.depthMultiplier, this.filters);\n    this.depthwiseKernel = this.addWeight(\"depthwise_kernel\", i, \"float32\", this.depthwiseInitializer, this.depthwiseRegularizer, !0, this.depthwiseConstraint), this.pointwiseKernel = this.addWeight(\"pointwise_kernel\", a, \"float32\", this.pointwiseInitializer, this.pointwiseRegularizer, !0, this.pointwiseConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [this.filters], \"float32\", this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.inputSpec = [new InputSpec({\n      ndim: this.rank + 2,\n      axes: (t = {}, t[n] = r, t)\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t;\n      if (e = getExactlyOneTensor(e), 1 === n.rank) throw new NotImplementedError(\"1D separable convolution is not implemented yet.\");\n      return 2 === n.rank && (\"channelsFirst\" === n.dataFormat && (e = transpose(e, [0, 2, 3, 1])), t = separableConv2d(e, n.depthwiseKernel.read(), n.pointwiseKernel.read(), n.strides, n.padding, n.dilationRate, \"NHWC\")), n.useBias && (t = biasAdd(t, n.bias.read(), n.dataFormat)), null != n.activation && (t = n.activation.apply(t)), \"channelsFirst\" === n.dataFormat && (t = transpose(t, [0, 3, 1, 2])), t;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, delete t.kernelInitializer, delete t.kernelRegularizer, delete t.kernelConstraint, t.depthwiseInitializer = serializeInitializer(this.depthwiseInitializer), t.pointwiseInitializer = serializeInitializer(this.pointwiseInitializer), t.depthwiseRegularizer = serializeRegularizer(this.depthwiseRegularizer), t.pointwiseRegularizer = serializeRegularizer(this.pointwiseRegularizer), t.depthwiseConstraint = serializeConstraint(this.depthwiseConstraint), t.pointwiseConstraint = serializeConstraint(this.pointwiseConstraint), t;\n  }, t.className = \"SeparableConv\", t;\n}(Conv),\n    SeparableConv2D = function (e) {\n  function t(t) {\n    return e.call(this, 2, t) || this;\n  }\n\n  return __extends(t, e), t.className = \"SeparableConv2D\", t;\n}(SeparableConv);\n\nserialization.registerClass(SeparableConv2D);\n\nvar Conv1D = function (e) {\n  function t(n) {\n    var r = e.call(this, 1, n) || this;\n    return t.verifyArgs(n), r.inputSpec = [{\n      ndim: 3\n    }], r;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, delete t.dataFormat, t;\n  }, t.verifyArgs = function (e) {\n    if (\"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 1)) throw new ValueError(\"Conv1D expects config.kernelSize to be number or number[] with length 1, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.className = \"Conv1D\", t;\n}(Conv);\n\nserialization.registerClass(Conv1D);\n\nvar Cropping2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return \"number\" == typeof t.cropping ? n.cropping = [[t.cropping, t.cropping], [t.cropping, t.cropping]] : \"number\" == typeof t.cropping[0] ? n.cropping = [[t.cropping[0], t.cropping[0]], [t.cropping[1], t.cropping[1]]] : n.cropping = t.cropping, n.dataFormat = void 0 === t.dataFormat ? \"channelsLast\" : t.dataFormat, n.inputSpec = [{\n      ndim: 4\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return \"channelsFirst\" === this.dataFormat ? [e[0], e[1], e[2] - this.cropping[0][0] - this.cropping[0][1], e[3] - this.cropping[1][0] - this.cropping[1][1]] : [e[0], e[1] - this.cropping[0][0] - this.cropping[0][1], e[2] - this.cropping[1][0] - this.cropping[1][1], e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return e = getExactlyOneTensor(e), \"channelsLast\" === n.dataFormat ? sliceAlongAxis(sliceAlongAxis(e, n.cropping[0][0], e.shape[1] - n.cropping[0][0] - n.cropping[0][1], 2), n.cropping[1][0], e.shape[2] - n.cropping[1][1] - n.cropping[1][0], 3) : sliceAlongAxis(sliceAlongAxis(e, n.cropping[0][0], e.shape[2] - n.cropping[0][0] - n.cropping[0][1], 3), n.cropping[1][0], e.shape[3] - n.cropping[1][1] - n.cropping[1][0], 4);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      cropping: this.cropping,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Cropping2D\", t;\n}(Layer);\n\nserialization.registerClass(Cropping2D);\n\nvar UpSampling2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_SIZE = [2, 2], n.inputSpec = [{\n      ndim: 4\n    }], n.size = null == t.size ? n.DEFAULT_SIZE : t.size, n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    if (\"channelsFirst\" === this.dataFormat) {\n      var t = null == e[2] ? null : this.size[0] * e[2],\n          n = null == e[3] ? null : this.size[1] * e[3];\n      return [e[0], e[1], t, n];\n    }\n\n    t = null == e[1] ? null : this.size[0] * e[1], n = null == e[2] ? null : this.size[1] * e[2];\n    return [e[0], t, n, e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e),\n          r = t.shape;\n\n      if (\"channelsFirst\" === n.dataFormat) {\n        t = transpose(t, [0, 2, 3, 1]);\n        var i = n.size[0] * r[2],\n            a = n.size[1] * r[3],\n            o = t.resizeNearestNeighbor([i, a]);\n        return transpose(o, [0, 3, 1, 2]);\n      }\n\n      i = n.size[0] * r[1], a = n.size[1] * r[2];\n      return t.resizeNearestNeighbor([i, a]);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      size: this.size,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"UpSampling2D\", t;\n}(Layer);\n\nfunction depthwiseConv2d$1(e, t, n, r, i, a) {\n  return void 0 === n && (n = [1, 1]), void 0 === r && (r = \"valid\"), tidy(function () {\n    null == i && (i = imageDataFormat()), checkDataFormat(i);\n    var o = preprocessConv2DInput(e, i);\n    if (4 !== e.rank) throw new ValueError(\"Input for depthwiseConv2d is required to be 4-D, but is instead \" + e.rank + \"-D\");\n    if (4 !== t.rank) throw new ValueError(\"depthwiseKernel is required to be 4-D, but is instead \" + t.rank + \"-D\");\n    return o = depthwiseConv2d(o, t, n, \"same\" === r ? \"same\" : \"valid\", \"NHWC\", a), \"channelsFirst\" === i && (o = transpose(o, [0, 3, 1, 2])), o;\n  });\n}\n\nserialization.registerClass(UpSampling2D);\n\nvar DepthwiseConv2D = function (e) {\n  function t(t) {\n    var n = e.call(this, 2, t) || this;\n    return n.depthwiseKernel = null, n.depthMultiplier = null == t.depthMultiplier ? 1 : t.depthMultiplier, n.depthwiseInitializer = getInitializer(t.depthwiseInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.depthwiseConstraint = getConstraint(t.depthwiseConstraint), n.depthwiseRegularizer = getRegularizer(t.depthwiseRegularizer), n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if ((e = getExactlyOneShape(e)).length < 4) throw new ValueError(\"Inputs to DepthwiseConv2D should have rank 4. Received input shape: \" + JSON.stringify(e) + \".\");\n    var t = \"channelsFirst\" === this.dataFormat ? 1 : 3;\n    if (null == e[t] || e[t] < 0) throw new ValueError(\"The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (\" + e[t] + \").\");\n    var n = e[t],\n        r = [this.kernelSize[0], this.kernelSize[1], n, this.depthMultiplier];\n    this.depthwiseKernel = this.addWeight(\"depthwise_kernel\", r, null, this.depthwiseInitializer, this.depthwiseRegularizer, !0, this.depthwiseConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [n * this.depthMultiplier], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = depthwiseConv2d$1(e = getExactlyOneTensor(e), n.depthwiseKernel.read(), n.strides, n.padding, n.dataFormat, null);\n      return n.useBias && (t = biasAdd(t, n.bias.read(), n.dataFormat)), null != n.activation && (t = n.activation.apply(t)), t;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? e[2] : e[1],\n        n = \"channelsFirst\" === this.dataFormat ? e[3] : e[2],\n        r = \"channelsFirst\" === this.dataFormat ? e[1] * this.depthMultiplier : e[3] * this.depthMultiplier,\n        i = convOutputLength(t, this.kernelSize[0], this.padding, this.strides[0]),\n        a = convOutputLength(n, this.kernelSize[1], this.padding, this.strides[1]);\n    return \"channelsFirst\" === this.dataFormat ? [e[0], r, i, a] : [e[0], i, a, r];\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return t.depthMultiplier = this.depthMultiplier, t.depthwiseInitializer = serializeInitializer(this.depthwiseInitializer), t.depthwiseRegularizer = serializeRegularizer(this.depthwiseRegularizer), t.depthwiseConstraint = serializeConstraint(this.depthwiseRegularizer), t;\n  }, t.className = \"DepthwiseConv2D\", t;\n}(BaseConv);\n\nserialization.registerClass(DepthwiseConv2D);\n\nvar Dropout = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.rate = Math.max(Math.min(t.rate, 1), 0), n.noiseShape = t.noiseShape, n.seed = t.seed, n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.getNoiseShape = function (e) {\n    if (null == this.noiseShape) return this.noiseShape;\n\n    for (var t = e.shape, n = [], r = 0; r < this.noiseShape.length; ++r) n.push(null == this.noiseShape[r] ? t[r] : this.noiseShape[r]);\n\n    return n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n\n      if (0 < n.rate && n.rate < 1) {\n        var i = null != t.training && t.training,\n            a = n.getNoiseShape(r);\n        return inTrainPhase(function () {\n          return dropout$1(r, n.rate, a, n.seed);\n        }, function () {\n          return r;\n        }, i);\n      }\n\n      return e;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      rate: this.rate,\n      noiseShape: this.noiseShape,\n      seed: this.seed\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.prototype.dispose = function () {\n    return e.prototype.dispose.call(this);\n  }, t.className = \"Dropout\", t;\n}(Layer);\n\nserialization.registerClass(Dropout);\n\nvar Dense = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n\n    if (n.activation = null, n.useBias = !0, n.kernel = null, n.bias = null, n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", null == t.batchInputShape && null == t.inputShape && null != t.inputDim) {\n      var r = null;\n      null != t.batchSize && (r = t.batchSize), n.batchInputShape = [r, t.inputDim];\n    }\n\n    return n.units = t.units, assertPositiveInteger(n.units, \"units\"), n.activation = getActivation(t.activation), null != t.useBias && (n.useBias = t.useBias), n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelConstraint = getConstraint(t.kernelConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.activityRegularizer = getRegularizer(t.activityRegularizer), n.supportsMasking = !0, n.inputSpec = [{\n      minNDim: 2\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t,\n        n = (e = getExactlyOneShape(e))[e.length - 1];\n    null == this.kernel && (this.kernel = this.addWeight(\"kernel\", [n, this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint))), this.inputSpec = [{\n      minNDim: 2,\n      axes: (t = {}, t[-1] = n, t)\n    }], this.built = !0;\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice();\n    return t[t.length - 1] = this.units, t;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r,\n          i = getExactlyOneTensor(e),\n          a = mapActivationToFusedKernel(n.activation.getClassName());\n      return null != a ? r = dot(i, n.kernel.read(), a, n.bias ? n.bias.read() : null) : (r = dot(i, n.kernel.read()), null != n.bias && (r = biasAdd(r, n.bias.read())), null != n.activation && (r = n.activation.apply(r))), r;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Dense\", t;\n}(Layer);\n\nserialization.registerClass(Dense);\n\nvar Flatten = function (e) {\n  function t(t) {\n    var n = e.call(this, t || {}) || this;\n    return n.inputSpec = [{\n      minNDim: 3\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    for (var t = 0, n = (e = getExactlyOneShape(e)).slice(1); t < n.length; t++) {\n      if (null == n[t]) throw new ValueError('The shape of the input to \"Flatten\" is not fully defined (got ' + e.slice(1) + '). Make sure to pass a complete \"input_shape\" or \"batch_input_shape\" argument to the first layer in your model.');\n    }\n\n    return [e[0], arrayProd(e, 1)];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.invokeCallHook(e, t), batchFlatten(getExactlyOneTensor(e));\n    });\n  }, t.className = \"Flatten\", t;\n}(Layer);\n\nserialization.registerClass(Flatten);\n\nvar Activation$1 = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n.activation = getActivation(t.activation), n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      return n.activation.apply(r);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      activation: serializeActivation(this.activation)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Activation\", t;\n}(Layer);\n\nserialization.registerClass(Activation$1);\n\nvar RepeatVector = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.n = t.n, n.inputSpec = [{\n      ndim: 2\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return [e[0], this.n, e[1]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return repeat(e = getExactlyOneTensor(e), n.n);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      n: this.n\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"RepeatVector\", t;\n}(Layer);\n\nserialization.registerClass(RepeatVector);\n\nvar Reshape = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    n.targetShape = t.targetShape;\n\n    for (var r = 0; r < n.targetShape.length; ++r) n.isUnknown(n.targetShape[r]) && (n.targetShape[r] = null);\n\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.isUnknown = function (e) {\n    return e < 0 || null == e;\n  }, t.prototype.fixUnknownDimension = function (e, t) {\n    for (var n = \"Total size of new array must be unchanged.\", r = t.slice(), i = 1, a = null, o = 0; o < r.length; ++o) {\n      var s = r[o];\n\n      if (this.isUnknown(s)) {\n        if (null !== a) throw new ValueError(\"Can only specifiy one unknown dimension.\");\n        a = o;\n      } else i *= s;\n    }\n\n    var l = arrayProd(e);\n\n    if (null !== a) {\n      if (0 === i || l % i != 0) throw new ValueError(n);\n      r[a] = l / i;\n    } else if (l !== i) throw new ValueError(n);\n\n    return r;\n  }, t.prototype.computeOutputShape = function (e) {\n    for (var t = !1, n = 0; n < e.length; ++n) if (this.isUnknown(e[n])) {\n      t = !0;\n      break;\n    }\n\n    return t ? e.slice(0, 1).concat(this.targetShape) : e.slice(0, 1).concat(this.fixUnknownDimension(e.slice(1), this.targetShape));\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e),\n          i = r.shape,\n          a = i.slice(0, 1).concat(n.fixUnknownDimension(i.slice(1), n.targetShape));\n      return r.reshape(a);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      targetShape: this.targetShape\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Reshape\", t;\n}(Layer);\n\nserialization.registerClass(Reshape);\n\nvar Permute = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (null == t.dims) throw new Error(\"Required configuration field `dims` is missing during Permute constructor call.\");\n    if (!Array.isArray(t.dims)) throw new Error(\"Permute constructor requires `dims` to be an Array, but received \" + t.dims + \" instead.\");\n    var r = range(1, t.dims.length + 1);\n    if (!util.arraysEqual(t.dims.slice().sort(), r)) throw new Error(\"Invalid permutation `dims`: \" + JSON.stringify(t.dims) + \" `dims` must contain consecutive integers starting from 1.\");\n    return n.dims = t.dims, n.dimsIncludingBatch = [0].concat(n.dims), n.inputSpec = [new InputSpec({\n      ndim: n.dims.length + 1\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice();\n    return this.dims.forEach(function (n, r) {\n      t[r + 1] = e[n];\n    }), t;\n  }, t.prototype.call = function (e, t) {\n    return transpose(getExactlyOneTensor(e), this.dimsIncludingBatch);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      dims: this.dims\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Permute\", t;\n}(Layer);\n\nserialization.registerClass(Permute);\n\nvar Masking = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.supportsMasking = !0, n.maskValue = null != t ? null == t.maskValue ? 0 : t.maskValue : 0, n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this),\n        n = {\n      maskValue: this.maskValue\n    };\n    return Object.assign(n, t), n;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return any(notEqual(n, this.maskValue), -1);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e),\n          i = any(notEqual(r, n.maskValue), -1, !0);\n      return r.mul(i.asType(r.dtype));\n    });\n  }, t.className = \"Masking\", t;\n}(Layer);\n\nserialization.registerClass(Masking);\n\nvar Embedding = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n\n    if (n.embeddings = null, n.DEFAULT_EMBEDDINGS_INITIALIZER = \"randomUniform\", null == t.batchInputShape && null == t.inputShape) {\n      var r = null;\n      null != t.batchSize && (r = t.batchSize), null == t.inputLength ? n.batchInputShape = [r, null] : n.batchInputShape = [r].concat(toList(t.inputLength));\n    }\n\n    return n.inputDim = t.inputDim, assertPositiveInteger(n.inputDim, \"inputDim\"), n.outputDim = t.outputDim, assertPositiveInteger(n.outputDim, \"outputDim\"), n.embeddingsInitializer = getInitializer(t.embeddingsInitializer || n.DEFAULT_EMBEDDINGS_INITIALIZER), n.embeddingsRegularizer = getRegularizer(t.embeddingsRegularizer), n.activityRegularizer = getRegularizer(t.activityRegularizer), n.embeddingsConstraint = getConstraint(t.embeddingsConstraint), n.maskZero = t.maskZero, n.supportsMasking = t.maskZero, n.inputLength = t.inputLength, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    this.embeddings = this.addWeight(\"embeddings\", [this.inputDim, this.outputDim], this.dtype, this.embeddingsInitializer, this.embeddingsRegularizer, !0, this.embeddingsConstraint), this.built = !0;\n  }, t.prototype.warnOnIncompatibleInputShape = function (e) {}, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.maskZero ? (e = getExactlyOneTensor(e), notEqual(e, zerosLike(e))) : null;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    if (e = getExactlyOneShape(e), null == this.inputLength) return e.concat([this.outputDim]);\n    var t = toList(this.inputLength);\n    if (t.length !== e.length - 1) throw new ValueError('\"inputLength\" is ' + this.inputLength + \", but received input shape has shape \" + e);\n\n    for (var n = 0, r = 0; r < t.length; ++r) {\n      var i = t[r],\n          a = e[r + 1];\n      if (null != i && null != a && i !== a) throw new ValueError('\"inputLength\" is ' + this.inputLength + \", but received input shape has shape \" + e);\n      null == i && (t[n] = a), n++;\n    }\n\n    return [e[0]].concat(t, [this.outputDim]);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      return \"int32\" !== r.dtype && (r = cast$1(r, \"int32\")), gather$1(n.embeddings.read(), r.as1D()).reshape(getExactlyOneShape(n.computeOutputShape(r.shape)));\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      inputDim: this.inputDim,\n      outputDim: this.outputDim,\n      embeddingsInitializer: serializeInitializer(this.embeddingsInitializer),\n      embeddingsRegularizer: serializeRegularizer(this.embeddingsRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      embeddingsConstraint: serializeConstraint(this.embeddingsConstraint),\n      maskZero: this.maskZero,\n      inputLength: this.inputLength\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Embedding\", t;\n}(Layer);\n\nserialization.registerClass(Embedding);\n\nvar Merge = function (e) {\n  function t(t) {\n    var n = e.call(this, t || {}) || this;\n    return n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    throw new NotImplementedError();\n  }, t.prototype.computeElementwiseOpOutputShape = function (e, t) {\n    if (null == e || null == t) return null;\n    if (e.length < t.length) return this.computeElementwiseOpOutputShape(t, e);\n    if (0 === t.length) return e;\n\n    for (var n = e.slice(0, e.length - t.length), r = 0; r < t.length; ++r) {\n      var i = e[e.length - t.length + r],\n          a = t[r];\n      if (null == i || null == a || i < 0 || a < 0) n.push(null);else if (1 === i) n.push(a);else if (1 === a) n.push(i);else {\n        if (i !== a) throw new ValueError(\"Operands could not be broadcast together with shapes \" + JSON.stringify(e) + \" \" + JSON.stringify(t));\n        n.push(i);\n      }\n    }\n\n    return n;\n  }, t.prototype.build = function (e) {\n    if (Array.isArray(e) && !Array.isArray(e[0]) && (e = [getExactlyOneShape(e)]), (e = e).length < 2) throw new ValueError(\"A merge layer should be called on an Array of at least 2 inputs. Got \" + e.length + \" input(s).\");\n\n    for (var t = [], n = 0, r = e; n < r.length; n++) {\n      null != (o = r[n]) && null !== o[0] && t.push(o[0]);\n    }\n\n    if ((t = unique(t)).length > 1) throw new ValueError(\"Can not merge tensors with different batch sizes. Got tensors with shapes: \" + JSON.stringify(e) + \".\");\n\n    for (var i = null == e[0] ? null : e[0].slice(1), a = 1; a < e.length; ++a) {\n      var o = null == e[a] ? null : e[a].slice(1);\n      i = this.computeElementwiseOpOutputShape(i, o);\n    }\n\n    var s = e.map(function (e) {\n      return e.length;\n    });\n    -1 === e.indexOf(null) && 1 === unique(s).length ? this.reshapeRequired = !1 : this.reshapeRequired = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (e = e, n.reshapeRequired) {\n        var t = [],\n            r = e.map(function (e) {\n          return e.rank;\n        });\n\n        if (-1 === r.indexOf(null)) {\n          for (var i = max$1(r), a = 0, o = e; a < o.length; a++) {\n            for (var s = (h = o[a]).rank, l = 0; l < i - s; ++l) h = expandDims$1(h, 1);\n\n            t.push(h);\n          }\n\n          return n.mergeFunction(t);\n        }\n\n        for (var u = !1, c = 0, p = e; c < p.length; c++) {\n          var h;\n\n          if (null == (s = (h = p[c]).rank)) {\n            var d = h.shape,\n                f = d[0],\n                g = d.slice(1).concat([f]),\n                m = h.reshape([f].concat(arrayProd(d.slice(1))));\n            m = (m = transpose(m, [1, 0])).reshape(g), t.push(m), u = !0;\n          } else if (s > 1) {\n            var y = range(1, s).concat([0]);\n            t.push(transpose(h, y)), u = !0;\n          } else t.push(h);\n        }\n\n        var v = n.mergeFunction(t),\n            b = v.rank;\n        if (u) if (null == b) {\n          var w = v.shape;\n          g = [f = w[w.length - 1]].concat(w.slice(0, w.length - 1));\n          v = transpose(v.reshape([-1, f]), [1, 0]).reshape(g);\n        } else if (b > 1) {\n          y = [b - 1].concat(range(0, b - 1));\n          v = transpose(v, y);\n        }\n        return v;\n      }\n\n      return n.mergeFunction(e);\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t;\n    t = null == (e = e)[0] ? null : e[0].slice(1);\n\n    for (var n = 1; n < e.length; ++n) {\n      var r = null == e[n] ? null : e[n].slice(1);\n      t = this.computeElementwiseOpOutputShape(t, r);\n    }\n\n    for (var i = [], a = 0, o = e; a < o.length; a++) {\n      null != (r = o[a]) && null !== r[0] && i.push(r[0]);\n    }\n\n    return t = 1 === (i = unique(i)).length ? i.concat(t) : [null].concat(t);\n  }, t.prototype.computeMask = function (e, t) {\n    return tidy(function () {\n      if (null == t) return null;\n      if (!Array.isArray(t)) throw new ValueError(\"`mask` should be an Array\");\n      if (!Array.isArray(e)) throw new ValueError(\"`inputs` should be an Array\");\n      if (t.length !== e.length) throw new ValueError(\"The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (\" + e.length + \" vs \" + t.length + \")\");\n      if (t.every(function (e) {\n        return null == e;\n      })) return null;\n\n      for (var n = (t = t.map(function (e) {\n        return null == e ? e : expandDims(e, 0);\n      }))[0], r = 1; r < t.length - 1; ++r) n = logicalAnd(n, t[r]);\n\n      return n;\n    });\n  }, t;\n}(Layer),\n    Add = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = add(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Add\", t;\n}(Merge);\n\nserialization.registerClass(Add);\n\nvar Multiply = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = mul(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Multiply\", t;\n}(Merge);\n\nserialization.registerClass(Multiply);\n\nvar Average = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = add(t, e[n]);\n\n      return mul(1 / e.length, t);\n    });\n  }, t.className = \"Average\", t;\n}(Merge);\n\nserialization.registerClass(Average);\n\nvar Maximum = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0], n = 1; n < e.length; ++n) t = maximum(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Maximum\", t;\n}(Merge);\n\nserialization.registerClass(Maximum);\n\nvar Minimum = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0], n = 1; n < e.length; ++n) t = minimum(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Minimum\", t;\n}(Merge);\n\nserialization.registerClass(Minimum);\n\nvar Concatenate = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_AXIS = -1, null == t && (t = {}), n.axis = null == t.axis ? n.DEFAULT_AXIS : t.axis, n.supportsMasking = !0, n.reshapeRequired = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if (!Array.isArray(e) || !Array.isArray(e[0]) || 1 === e.length) throw new ValueError(\"A `Concatenate` layer should be called on a list of at least 2 inputs\");\n\n    for (var t = !0, n = 0, r = e = e; n < r.length; n++) {\n      if (null != (c = r[n])) {\n        t = !1;\n        break;\n      }\n    }\n\n    if (!t) {\n      for (var i = [], a = 0; a < e.length; ++a) {\n        var o = e[a].slice();\n        o.splice(this.axis, 1);\n\n        for (var s = !1, l = 0, u = i; l < u.length; l++) {\n          var c = u[l];\n\n          if (util.arraysEqual(c, o)) {\n            s = !0;\n            break;\n          }\n        }\n\n        s || i.push(o);\n      }\n\n      if (i.length > 1) throw new ValueError(\"A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: \" + JSON.stringify(e));\n    }\n  }, t.prototype.mergeFunction = function (e) {\n    var t = this;\n    return tidy(function () {\n      return concatenate(e, t.axis);\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    if (!Array.isArray(e) || !Array.isArray(e[0])) throw new ValueError(\"A `Concatenate` layer should be called on a list of inputs.\");\n\n    for (var t = e, n = t[0].slice(), r = this.axis < 0 ? n.length + this.axis : this.axis, i = 0, a = t.slice(1); i < a.length; i++) {\n      var o = a[i];\n\n      if (null == n[r] || null == o[r]) {\n        n[r] = null;\n        break;\n      }\n\n      n[r] += o[r];\n    }\n\n    return n;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    if (null == t) return null;\n    if (!Array.isArray(t)) throw new ValueError(\"`mask` should be an array for Concatenate\");\n    if (!Array.isArray(e)) throw new ValueError(\"`inputs` should be an array for Concatenate\");\n    if (t.length !== e.length) throw new ValueError(\"Mismatch in the length of mask (\" + t.length + \") and the legnth of inputs (\" + e.length + \")\");\n    return tidy(function () {\n      var r = !0;\n      if (t.forEach(function (e) {\n        null == e || (r = !1);\n      }), r) return null;\n\n      for (var i = [], a = 0; a < e.length; ++a) null == t[a] ? i.push(onesLike(e[a]).asType(\"bool\")) : t[a].rank < e[a].rank ? i.push(expandDims(t[a], -1)) : i.push(t[a]);\n\n      var o = concat(i, n.axis);\n      return all(o, -1, !1);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Concatenate\", t;\n}(Merge);\n\nfunction interpretAxis(e, t) {\n  for (; e < 0;) e += t;\n\n  return e;\n}\n\nfunction batchDot(e, t, n) {\n  if (e.shape.length > 3 || t.shape.length > 3) throw new NotImplementedError(\"batchDot is not implemented for tensors of 4D or higher rank yet\");\n  if (util.assert(e.shape.length >= 2, function () {\n    return \"batchDot requires the rank of x to be >= 2, but got \" + e.shape.length;\n  }), util.assert(e.shape.length >= 2, function () {\n    return \"batchDot requires the rank of y to be >= 2, but got \" + t.shape.length;\n  }), \"number\" == typeof n && (n = [n, n]), \"complex64\" === e.dtype || \"complex64\" === t.dtype) throw new NotImplementedError(\"batchDot is not implemented for complex64-type Tensors yet.\");\n  var r = e.shape.length,\n      i = t.shape.length;\n  null == n && (n = [r - 1, i - 2]);\n  var a = n;\n  return tidy(function () {\n    var n, o;\n\n    if (r > i) {\n      n = r - i;\n\n      for (var s = [], l = 0; l < n; ++l) s.push(1);\n\n      t = t.reshape(t.shape.concat(s));\n    } else if (i > r) {\n      n = i - r;\n\n      for (s = [], l = 0; l < n; ++l) s.push(1);\n\n      e = e.reshape(e.shape.concat(s));\n    } else n = 0;\n\n    if (2 === e.shape.length && 2 === t.shape.length) o = a[0] === a[1] ? e.mulStrict(t).sum(a[0]) : e.transpose([1, 0]).mulStrict(t).sum(a[1]);else {\n      var u = a[0] !== e.shape.length - 1,\n          c = a[1] === t.shape.length - 1;\n      o = e.matMul(t, u, c);\n    }\n\n    if (n > 0) {\n      var p = void 0,\n          h = [];\n\n      for (l = p = r > i ? r + i - 3 : r - 1; l < p + n; ++l) h.push(l);\n\n      o = o.squeeze(h);\n    }\n\n    return 1 === o.shape.length && (o = o.expandDims(1)), o;\n  });\n}\n\nserialization.registerClass(Concatenate);\n\nvar Dot = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.axes = t.axes, n.normalize = null != t.normalize && t.normalize, n.supportsMasking = !0, n.reshapeRequired = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    util.assert(Array.isArray(e) && 2 === e.length && Array.isArray(e[0]) && Array.isArray(e[1]), function () {\n      return \"A `Dot` layer should be called on a list of exactly 2 inputs.\";\n    });\n    var t = e[0],\n        n = e[1];\n    if (t.length > 3 || n.length > 3) throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");\n    var r = this.interpretAxes(t, n);\n    if (t[r[0]] !== n[r[1]]) throw new ValueError(\"Dimension incompatibility: \" + t[r[0]] + \" !== \" + n[r[1]]);\n  }, t.prototype.mergeFunction = function (e) {\n    if (2 !== e.length) throw new ValueError(\"A `Dot` layer must be called on exactly 2 inputs, but received \" + e.length + \" input(s).\");\n    var t,\n        n = e[0],\n        r = e[1];\n    return t = Array.isArray(this.axes) ? this.axes.map(function (t, n) {\n      return interpretAxis(t, e[n].shape.length);\n    }) : [interpretAxis(this.axes, n.shape.length), interpretAxis(this.axes, r.shape.length)], this.normalize && (n = l2Normalize(n, t[0]), r = l2Normalize(r, t[1])), batchDot(n, r, t);\n  }, t.prototype.interpretAxes = function (e, t) {\n    return Array.isArray(this.axes) ? this.axes : [interpretAxis(this.axes, e.length), interpretAxis(this.axes, t.length)];\n  }, t.prototype.computeOutputShape = function (e) {\n    util.assert(Array.isArray(e) && 2 === e.length && Array.isArray(e[0]) && Array.isArray(e[1]), function () {\n      return \"A `Dot` layer should be called on a list of exactly 2 inputs.\";\n    });\n    var t = e[0].slice(),\n        n = e[1].slice();\n    if (t.length > 3 || n.length > 3) throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");\n    var r = this.interpretAxes(t, n);\n    t.splice(r[0], 1), n.splice(r[1], 1), n.splice(0, 1);\n    var i = t.concat(n);\n    return 1 === i.length && i.push(1), i;\n  }, t.prototype.computeMask = function (e, t) {\n    return null;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axes: this.axes,\n      normalize: this.normalize\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Dot\", t;\n}(Merge);\n\nserialization.registerClass(Dot);\n\nvar GaussianNoise = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n.stddev = t.stddev, n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this),\n        n = {\n      stddev: this.stddev\n    };\n    return Object.assign(n, t), n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      return inTrainPhase(function () {\n        return randomNormal$1(r.shape, 0, n.stddev).add(r);\n      }, function () {\n        return r;\n      }, t.training || !1);\n    });\n  }, t.className = \"GaussianNoise\", t;\n}(Layer);\n\nserialization.registerClass(GaussianNoise);\n\nvar GaussianDropout = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n.rate = t.rate, n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this),\n        n = {\n      rate: this.rate\n    };\n    return Object.assign(n, t), n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n\n      if (n.rate > 0 && n.rate < 1) {\n        return inTrainPhase(function () {\n          var e = Math.sqrt(n.rate / (1 - n.rate));\n          return r.mul(randomNormal$1(r.shape, 1, e));\n        }, function () {\n          return r;\n        }, t.training || !1);\n      }\n\n      return r;\n    });\n  }, t.className = \"GaussianDropout\", t;\n}(Layer);\n\nserialization.registerClass(GaussianDropout);\n\nvar AlphaDropout = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n.rate = t.rate, n.noiseShape = t.noiseShape, n;\n  }\n\n  return __extends(t, e), t.prototype._getNoiseShape = function (e) {\n    return this.noiseShape || getExactlyOneTensor(e).shape;\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this),\n        n = {\n      rate: this.rate\n    };\n    return Object.assign(n, t), n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (n.rate < 1 && n.rate > 0) {\n        var r = n._getNoiseShape(e);\n\n        return inTrainPhase(function () {\n          var t = getExactlyOneTensor(e),\n              i = -1.7580993408473766,\n              a = greaterEqual(randomUniform(r), n.rate);\n          a = cast$1(a, \"float32\");\n          var o = Math.pow((1 - n.rate) * (1 + n.rate * Math.pow(i, 2)), -.5),\n              s = -o * i * n.rate;\n          return t.mul(a).add(a.add(-1).mul(i)).mul(o).add(s);\n        }, function () {\n          return getExactlyOneTensor(e);\n        }, t.training || !1);\n      }\n\n      return e;\n    });\n  }, t.className = \"AlphaDropout\", t;\n}(Layer);\n\nfunction batchNormalization(e, t, n, r, i, a) {\n  var o;\n  if (void 0 === a && (a = .001), 2 === e.rank) o = batchNorm2d(e, t, n, r, i, a);else if (3 === e.rank) o = batchNorm3d(e, t, n, r, i, a);else {\n    if (4 !== e.rank) throw new NotImplementedError(\"batchNormalization is not implemented for array of rank \" + e.rank + \" yet\");\n    o = batchNorm4d(e, t, n, r, i, a);\n  }\n  return o;\n}\n\nfunction regularNormalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), tidy(function () {\n    var a = moments(e, r),\n        o = a.mean,\n        s = a.variance;\n    return [batchNormalization(e, o, s, n, t, i), o, s];\n  });\n}\n\nfunction broadcastNormalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), tidy(function () {\n    for (var a = moments(e, r), o = a.mean, s = a.variance, l = [], u = 0, c = range(0, e.rank); u < c.length; u++) {\n      var p = c[u];\n      -1 !== r.indexOf(p) ? l.push(1) : l.push(e.shape[p]);\n    }\n\n    var h = o.reshape(l),\n        d = s.reshape(l),\n        f = null == t ? null : t.reshape(l),\n        g = null == n ? null : n.reshape(l);\n    return [batchNormalization(e, h, d, g, f, i), o, s];\n  });\n}\n\nfunction normalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), util.arraysEqual(r.slice().sort(), range(0, e.rank - 1)) ? regularNormalizeBatchInTraining(e, t, n, r, i) : broadcastNormalizeBatchInTraining(e, t, n, r, i);\n}\n\nserialization.registerClass(AlphaDropout);\n\nvar BatchNormalization = function (e) {\n  function t(t) {\n    var n = this;\n    return null == t && (t = {}), (n = e.call(this, t) || this).supportsMasking = !0, n.axis = null == t.axis ? -1 : t.axis, n.momentum = null == t.momentum ? .99 : t.momentum, n.epsilon = null == t.epsilon ? .001 : t.epsilon, n.center = null == t.center || t.center, n.scale = null == t.scale || t.scale, n.betaInitializer = getInitializer(t.betaInitializer || \"zeros\"), n.gammaInitializer = getInitializer(t.gammaInitializer || \"ones\"), n.movingMeanInitializer = getInitializer(t.movingMeanInitializer || \"zeros\"), n.movingVarianceInitializer = getInitializer(t.movingVarianceInitializer || \"ones\"), n.betaConstraint = getConstraint(t.betaConstraint), n.gammaConstraint = getConstraint(t.gammaConstraint), n.betaRegularizer = getRegularizer(t.betaRegularizer), n.gammaRegularizer = getRegularizer(t.gammaRegularizer), n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t;\n    e = getExactlyOneShape(e);\n    var n = this.axis >= 0 ? this.axis : this.axis + e.length,\n        r = e[n];\n    if (null == r) throw new ValueError(\"Axis \" + n + \" of input tensor should have a defined dimension but the layer received an input with shape \" + JSON.stringify(e) + \".\");\n    this.inputSpec = [new InputSpec({\n      ndim: e.length,\n      axes: (t = {}, t[n] = r, t)\n    })];\n    var i = [r];\n    this.scale && (this.gamma = this.addWeight(\"gamma\", i, null, this.gammaInitializer, this.gammaRegularizer, !0, this.gammaConstraint)), this.center && (this.beta = this.addWeight(\"beta\", i, null, this.betaInitializer, this.betaRegularizer, !0, this.betaConstraint)), this.movingMean = this.addWeight(\"moving_mean\", i, null, this.movingMeanInitializer, null, !1), this.movingVariance = this.addWeight(\"moving_variance\", i, null, this.movingVarianceInitializer, null, !1), this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null != t.training && t.training,\n          i = getExactlyOneTensor(e),\n          a = i.shape,\n          o = a.length,\n          s = range(0, o),\n          l = n.axis >= 0 ? n.axis : n.axis + o;\n      s.splice(l, 1);\n      var u = pyListRepeat(1, o);\n      u[l] = a[l];\n      var c = s.slice();\n      c.sort();\n      var p = !util.arraysEqual(c, range(0, o).slice(0, o - 1));\n      if (!r) return function () {\n        if (p) {\n          var e = n.movingMean.read().reshape(u),\n              t = n.movingVariance.read().reshape(u),\n              r = n.center ? n.beta.read().reshape(u) : null,\n              a = n.scale ? n.gamma.read().reshape(u) : null;\n          return batchNormalization(i, e, t, r, a, n.epsilon);\n        }\n\n        return batchNormalization(i, n.movingMean.read(), n.movingVariance.read(), null == n.beta ? null : n.beta.read(), null == n.gamma ? null : n.gamma.read(), n.epsilon);\n      }();\n\n      var h = normalizeBatchInTraining(i, n.gamma.read(), n.beta.read(), s, n.epsilon),\n          d = h[0],\n          f = h[1],\n          g = h[2],\n          m = function (e, t, n) {\n        tidy(function () {\n          var r = 1 - n,\n              i = e.read(),\n              a = i.sub(t).mul(r);\n          e.write(i.sub(a));\n        });\n      };\n\n      return m(n.movingMean, f, n.momentum), m(n.movingVariance, g, n.momentum), d;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis,\n      momentum: this.momentum,\n      epsilon: this.epsilon,\n      center: this.center,\n      scale: this.scale,\n      betaInitializer: serializeInitializer(this.betaInitializer),\n      gammaInitializer: serializeInitializer(this.gammaInitializer),\n      movingMeanInitializer: serializeInitializer(this.movingMeanInitializer),\n      movingVarianceInitializer: serializeInitializer(this.movingVarianceInitializer),\n      betaRegularizer: serializeRegularizer(this.betaRegularizer),\n      gammaRegularizer: serializeRegularizer(this.gammaRegularizer),\n      betaConstraint: serializeConstraint(this.betaConstraint),\n      gammaConstraint: serializeConstraint(this.gammaConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"BatchNormalization\", t;\n}(Layer);\n\nserialization.registerClass(BatchNormalization);\n\nvar LayerNormalization = function (e) {\n  function t(t) {\n    var n = this;\n\n    if (null == t && (t = {}), (n = e.call(this, t) || this).axis = null == t.axis ? -1 : t.axis, \"number\" == typeof n.axis) {\n      if (!Number.isInteger(n.axis)) throw new Error(\"Expected axis to be an integer, but received \" + n.axis);\n    } else {\n      if (!Array.isArray(n.axis)) throw new Error(\"Expected axis to be an integer or an array of integers, but received \" + JSON.stringify(n.axis));\n\n      for (var r = 0, i = n.axis; r < i.length; r++) {\n        var a = i[r];\n        if (!Number.isInteger(a)) throw new Error(\"Expected axis to be an array of integers, but received \" + JSON.stringify(n.axis));\n      }\n    }\n\n    return n.epsilon = null == t.epsilon ? .001 : t.epsilon, n.center = null == t.center || t.center, n.scale = null == t.scale || t.scale, n.betaInitializer = getInitializer(t.betaInitializer || \"zeros\"), n.gammaInitializer = getInitializer(t.gammaInitializer || \"ones\"), n.betaRegularizer = getRegularizer(t.betaRegularizer), n.gammaRegularizer = getRegularizer(t.gammaRegularizer), n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t = (e = getExactlyOneShape(e)).length;\n    \"number\" == typeof this.axis && (this.axis = [this.axis]);\n\n    for (var n = 0; n < this.axis.length; ++n) this.axis[n] < 0 && (this.axis[n] += t);\n\n    for (var r = 0, i = this.axis; r < i.length; r++) {\n      var a = i[r];\n      if (a < 0 || a >= t) throw new Error(\"Invalid axis: \" + a);\n    }\n\n    if (this.axis.length !== unique(this.axis).length) throw new Error(\"Found duplicate axes in: \" + this.axis);\n    var o = this.axis.map(function (t) {\n      return e[t];\n    });\n    this.scale ? this.gamma = this.addWeight(\"gamma\", o, \"float32\", this.gammaInitializer, this.gammaRegularizer, !0) : this.gamma = null, this.center ? this.beta = this.addWeight(\"beta\", o, \"float32\", this.betaInitializer, this.betaRegularizer, !0) : this.beta = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this,\n        r = getExactlyOneTensor(e),\n        i = r.shape,\n        a = i.length;\n    return tidy(function () {\n      for (var e = moments(r, n.axis, !0), t = e.mean, o = e.variance, s = pyListRepeat(1, a), l = 0, u = n.axis; l < u.length; l++) {\n        var c = u[l];\n        s[c] = i[c];\n      }\n\n      for (var p = function (e) {\n        return null != e && e.shape.length !== a && n.axis !== [a - 1] ? e.reshape(s) : e;\n      }, h = p(n.gamma.read()), d = p(n.beta.read()), f = [], g = [], m = 0; m < a; ++m) -1 !== n.axis.indexOf(m) ? (f.push(i[m]), g.push(1)) : (f.push(1), g.push(i[m]));\n\n      return t = t.tile(f), o = o.tile(f), h = h.tile(g), d = d.tile(g), batchNormalization(r, t, o, d, h, n.epsilon);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis,\n      epsilon: this.epsilon,\n      center: this.center,\n      scale: this.scale,\n      betaInitializer: serializeInitializer(this.betaInitializer),\n      gammaInitializer: serializeInitializer(this.gammaInitializer),\n      betaRegularizer: serializeRegularizer(this.betaRegularizer),\n      gammaRegularizer: serializeRegularizer(this.gammaRegularizer)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"BatchNormalization\", t;\n}(Layer);\n\nfunction spatial2dPadding(e, t, n) {\n  return tidy(function () {\n    if (4 !== e.rank) throw new ValueError(\"temporalPadding expects input tensor to be 4-D, but received a \" + e.rank + \"-D tensor.\");\n    if (null == t && (t = [[1, 1], [1, 1]]), 2 !== t.length || 2 !== t[0].length || 2 !== t[1].length) throw new ValueError(\"spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.\");\n    if (null == n && (n = imageDataFormat()), \"channelsLast\" !== n && \"channelsFirst\" !== n) throw new ValueError(\"Unknown data format: \" + n + \". Supported data formats are 'channelsLast' and 'channelsFirst.\");\n    var r;\n    return r = \"channelsFirst\" === n ? [[0, 0], [0, 0], t[0], t[1]] : [[0, 0], t[0], t[1], [0, 0]], pad(e, r);\n  });\n}\n\nserialization.registerClass(LayerNormalization);\n\nvar ZeroPadding2D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t && (t = {}), (n = e.call(this, t) || this).dataFormat = null == t.dataFormat ? imageDataFormat() : t.dataFormat, null == t.padding) n.padding = [[1, 1], [1, 1]];else if (\"number\" == typeof t.padding) n.padding = [[t.padding, t.padding], [t.padding, t.padding]];else {\n      if (t.padding = t.padding, 2 !== t.padding.length) throw new ValueError(\"ZeroPadding2D expects padding to be a length-2 array, but received a length-\" + t.padding.length + \" array.\");\n      var r = void 0,\n          i = void 0;\n      if (\"number\" == typeof t.padding[0]) r = [t.padding[0], t.padding[0]], i = [t.padding[1], t.padding[1]];else {\n        if (t.padding = t.padding, 2 !== t.padding[0].length) throw new ValueError(\"ZeroPadding2D expects height padding to be a length-2 array, but received a length-\" + t.padding[0].length + \" array.\");\n        if (r = t.padding[0], 2 !== t.padding[1].length) throw new ValueError(\"ZeroPadding2D expects width padding to be a length-2 array, but received a length-\" + t.padding[1].length + \" array.\");\n        i = t.padding[1];\n      }\n      n.padding = [r, i];\n    }\n    return n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t, n;\n    return e = getExactlyOneShape(e), \"channelsFirst\" === this.dataFormat ? (t = null != e[2] && e[2] >= 0 ? e[2] + this.padding[0][0] + this.padding[0][1] : null, n = null != e[3] && e[3] >= 0 ? e[3] + this.padding[1][0] + this.padding[1][1] : null, [e[0], e[1], t, n]) : (t = null != e[1] && e[1] >= 0 ? e[1] + this.padding[0][0] + this.padding[0][1] : null, n = null != e[2] && e[2] >= 0 ? e[2] + this.padding[1][0] + this.padding[1][1] : null, [e[0], t, n, e[3]]);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return spatial2dPadding(getExactlyOneTensor(e), n.padding, n.dataFormat);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      padding: this.padding,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ZeroPadding2D\", t;\n}(Layer);\n\nfunction pool2d(e, t, n, r, i, a) {\n  return tidy(function () {\n    var o;\n    checkDataFormat(i), checkPoolMode(a), checkPaddingMode(r), null == n && (n = [1, 1]), null == r && (r = \"valid\"), null == i && (i = imageDataFormat()), null == a && (a = \"max\"), e = preprocessConv2DInput(e, i);\n    var s = \"same\" === r ? \"same\" : \"valid\";\n    return o = \"max\" === a ? maxPool(e, t, n, s) : avgPool(e, t, n, s), \"channelsFirst\" === i && (o = transpose(o, [0, 3, 1, 2])), o;\n  });\n}\n\nfunction pool3d(e, t, n, r, i, a) {\n  return tidy(function () {\n    var o;\n    checkDataFormat(i), checkPoolMode(a), checkPaddingMode(r), null == n && (n = [1, 1, 1]), null == r && (r = \"valid\"), null == i && (i = imageDataFormat()), null == a && (a = \"max\"), e = preprocessConv3DInput(e, i);\n    var s = \"same\" === r ? \"same\" : \"valid\";\n    return o = \"max\" === a ? maxPool3d(e, t, n, s) : avgPool3d(e, t, n, s), \"channelsFirst\" === i && (o = transpose(o, [0, 4, 1, 2, 3])), o;\n  });\n}\n\nserialization.registerClass(ZeroPadding2D);\n\nvar Pooling1D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t.poolSize && (t.poolSize = 2), n = e.call(this, t) || this, \"number\" == typeof t.poolSize) n.poolSize = [t.poolSize];else {\n      if (!Array.isArray(t.poolSize) || 1 !== t.poolSize.length || \"number\" != typeof t.poolSize[0]) throw new ValueError(\"poolSize for 1D convolutional layer must be a number or an Array of a single number, but received \" + JSON.stringify(t.poolSize));\n      n.poolSize = t.poolSize;\n    }\n    if (assertPositiveInteger(n.poolSize, \"poolSize\"), null == t.strides) n.strides = n.poolSize;else if (\"number\" == typeof t.strides) n.strides = [t.strides];else {\n      if (!Array.isArray(t.strides) || 1 !== t.strides.length || \"number\" != typeof t.strides[0]) throw new ValueError(\"strides for 1D convolutional layer must be a number or an Array of a single number, but received \" + JSON.stringify(t.strides));\n      n.strides = t.strides;\n    }\n    return assertPositiveInteger(n.strides, \"strides\"), n.padding = null == t.padding ? \"valid\" : t.padding, checkPaddingMode(n.padding), n.inputSpec = [new InputSpec({\n      ndim: 3\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t = convOutputLength((e = getExactlyOneShape(e))[1], this.poolSize[0], this.padding, this.strides[0]);\n    return [e[0], t, e[2]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t), e = expandDims$1(getExactlyOneTensor(e), 2);\n      var r = n.poolingFunction(getExactlyOneTensor(e), [n.poolSize[0], 1], [n.strides[0], 1], n.padding, \"channelsLast\");\n      return squeeze(r, [2]);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      poolSize: this.poolSize,\n      padding: this.padding,\n      strides: this.strides\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    MaxPooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"max\");\n  }, t.className = \"MaxPooling1D\", t;\n}(Pooling1D);\n\nserialization.registerClass(MaxPooling1D);\n\nvar AveragePooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"avg\");\n  }, t.className = \"AveragePooling1D\", t;\n}(Pooling1D);\n\nserialization.registerClass(AveragePooling1D);\n\nvar Pooling2D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t.poolSize && (t.poolSize = [2, 2]), (n = e.call(this, t) || this).poolSize = Array.isArray(t.poolSize) ? t.poolSize : [t.poolSize, t.poolSize], null == t.strides) n.strides = n.poolSize;else if (Array.isArray(t.strides)) {\n      if (2 !== t.strides.length) throw new ValueError(\"If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length \" + t.strides.length + \".\");\n      n.strides = t.strides;\n    } else n.strides = [t.strides, t.strides];\n    return assertPositiveInteger(n.poolSize, \"poolSize\"), assertPositiveInteger(n.strides, \"strides\"), n.padding = null == t.padding ? \"valid\" : t.padding, n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, checkDataFormat(n.dataFormat), checkPaddingMode(n.padding), n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? e[2] : e[1],\n        n = \"channelsFirst\" === this.dataFormat ? e[3] : e[2];\n    return t = convOutputLength(t, this.poolSize[0], this.padding, this.strides[0]), n = convOutputLength(n, this.poolSize[1], this.padding, this.strides[1]), \"channelsFirst\" === this.dataFormat ? [e[0], e[1], t, n] : [e[0], t, n, e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.invokeCallHook(e, t), n.poolingFunction(getExactlyOneTensor(e), n.poolSize, n.strides, n.padding, n.dataFormat);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      poolSize: this.poolSize,\n      padding: this.padding,\n      strides: this.strides,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    MaxPooling2D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"max\");\n  }, t.className = \"MaxPooling2D\", t;\n}(Pooling2D);\n\nserialization.registerClass(MaxPooling2D);\n\nvar AveragePooling2D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"avg\");\n  }, t.className = \"AveragePooling2D\", t;\n}(Pooling2D);\n\nserialization.registerClass(AveragePooling2D);\n\nvar Pooling3D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t.poolSize && (t.poolSize = [2, 2, 2]), (n = e.call(this, t) || this).poolSize = Array.isArray(t.poolSize) ? t.poolSize : [t.poolSize, t.poolSize, t.poolSize], null == t.strides) n.strides = n.poolSize;else if (Array.isArray(t.strides)) {\n      if (3 !== t.strides.length) throw new ValueError(\"If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length \" + t.strides.length + \".\");\n      n.strides = t.strides;\n    } else n.strides = [t.strides, t.strides, t.strides];\n    return assertPositiveInteger(n.poolSize, \"poolSize\"), assertPositiveInteger(n.strides, \"strides\"), n.padding = null == t.padding ? \"valid\" : t.padding, n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, checkDataFormat(n.dataFormat), checkPaddingMode(n.padding), n.inputSpec = [new InputSpec({\n      ndim: 5\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? e[2] : e[1],\n        n = \"channelsFirst\" === this.dataFormat ? e[3] : e[2],\n        r = \"channelsFirst\" === this.dataFormat ? e[4] : e[3];\n    return t = convOutputLength(t, this.poolSize[0], this.padding, this.strides[0]), n = convOutputLength(n, this.poolSize[1], this.padding, this.strides[1]), r = convOutputLength(r, this.poolSize[2], this.padding, this.strides[2]), \"channelsFirst\" === this.dataFormat ? [e[0], e[1], t, n, r] : [e[0], t, n, r, e[4]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.invokeCallHook(e, t), n.poolingFunction(getExactlyOneTensor(e), n.poolSize, n.strides, n.padding, n.dataFormat);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      poolSize: this.poolSize,\n      padding: this.padding,\n      strides: this.strides,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    MaxPooling3D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool3d(e, t, n, r, i, \"max\");\n  }, t.className = \"MaxPooling3D\", t;\n}(Pooling3D);\n\nserialization.registerClass(MaxPooling3D);\n\nvar AveragePooling3D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool3d(e, t, n, r, i, \"avg\");\n  }, t.className = \"AveragePooling3D\", t;\n}(Pooling3D);\n\nserialization.registerClass(AveragePooling3D);\n\nvar GlobalPooling1D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.inputSpec = [new InputSpec({\n      ndim: 3\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return [e[0], e[2]];\n  }, t.prototype.call = function (e, t) {\n    throw new NotImplementedError();\n  }, t;\n}(Layer),\n    GlobalAveragePooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t || {}) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return mean(t, 1);\n    });\n  }, t.className = \"GlobalAveragePooling1D\", t;\n}(GlobalPooling1D);\n\nserialization.registerClass(GlobalAveragePooling1D);\n\nvar GlobalMaxPooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t || {}) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return max(t, 1);\n    });\n  }, t.className = \"GlobalMaxPooling1D\", t;\n}(GlobalPooling1D);\n\nserialization.registerClass(GlobalMaxPooling1D);\n\nvar GlobalPooling2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, checkDataFormat(n.dataFormat), n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return e = e, \"channelsLast\" === this.dataFormat ? [e[0], e[3]] : [e[0], e[1]];\n  }, t.prototype.call = function (e, t) {\n    throw new NotImplementedError();\n  }, t.prototype.getConfig = function () {\n    var t = {\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    GlobalAveragePooling2D = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return \"channelsLast\" === n.dataFormat ? mean(t, [1, 2]) : mean(t, [2, 3]);\n    });\n  }, t.className = \"GlobalAveragePooling2D\", t;\n}(GlobalPooling2D);\n\nserialization.registerClass(GlobalAveragePooling2D);\n\nvar GlobalMaxPooling2D = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return \"channelsLast\" === n.dataFormat ? max(t, [1, 2]) : max(t, [2, 3]);\n    });\n  }, t.className = \"GlobalMaxPooling2D\", t;\n}(GlobalPooling2D);\n\nfunction standardizeArgs(e, t, n, r) {\n  if (Array.isArray(e)) {\n    if (null != t || null != n) throw new ValueError(\"When inputs is an array, neither initialState or constants should be provided\");\n    null != r && (n = e.slice(e.length - r, e.length), e = e.slice(0, e.length - r)), e.length > 1 && (t = e.slice(1, e.length)), e = e[0];\n  }\n\n  function i(e) {\n    return null == e || Array.isArray(e) ? e : [e];\n  }\n\n  return {\n    inputs: e,\n    initialState: t = i(t),\n    constants: n = i(n)\n  };\n}\n\nfunction rnn(e, t, n, r, i, a, o, s) {\n  return void 0 === r && (r = !1), void 0 === o && (o = !1), void 0 === s && (s = !1), tidy(function () {\n    var l = t.shape.length;\n    if (l < 3) throw new ValueError(\"Input should be at least 3D, but is \" + l + \"D.\");\n    var u = [1, 0].concat(range(2, l));\n    if (t = transpose(t, u), null != a) throw new NotImplementedError(\"The rnn() functoin of the deeplearn.js backend does not support constants yet.\");\n    o && console.warn(\"Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend.\"), null != i && ((i = i.asType(\"bool\").asType(\"float32\")).rank === l - 1 && (i = expandDims(i, -1)), i = transpose(i, u)), r && (t = reverse(t, 0), null != i && (i = reverse(i, 0)));\n    var c,\n        p,\n        h = [],\n        d = n,\n        f = t.shape[0],\n        g = unstack(t);\n    null != i && (p = unstack(i));\n\n    for (var m, y = function (t) {\n      var n = g[t],\n          r = tidy(function () {\n        return e(n, d);\n      });\n      if (null == i) c = r[0], d = r[1];else {\n        var a = tidy(function () {\n          var e = p[t],\n              n = onesLike(e).sub(e);\n          return {\n            output: r[0].mul(e).addStrict(d[0].mul(n)),\n            newStates: d.map(function (t, i) {\n              return r[1][i].mul(e).addStrict(t.mul(n));\n            })\n          };\n        });\n        c = a.output, d = a.newStates;\n      }\n      s && h.push(c);\n    }, v = 0; v < f; ++v) y(v);\n\n    if (s) {\n      m = stack(h, 1);\n    }\n\n    return [c, m, d];\n  });\n}\n\nserialization.registerClass(GlobalMaxPooling2D);\n\nvar RNN = function (e) {\n  function t(t) {\n    var n,\n        r = e.call(this, t) || this;\n    if (null == t.cell) throw new ValueError(\"cell property is missing for the constructor of RNN.\");\n    if (null == (n = Array.isArray(t.cell) ? new StackedRNNCells({\n      cells: t.cell\n    }) : t.cell).stateSize) throw new ValueError(\"The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).\");\n    return r.cell = n, r.returnSequences = null != t.returnSequences && t.returnSequences, r.returnState = null != t.returnState && t.returnState, r.goBackwards = null != t.goBackwards && t.goBackwards, r._stateful = null != t.stateful && t.stateful, r.unroll = null != t.unroll && t.unroll, r.supportsMasking = !0, r.inputSpec = [new InputSpec({\n      ndim: 3\n    })], r.stateSpec = null, r.states_ = null, r.numConstants = null, r.keptStates = [], r;\n  }\n\n  return __extends(t, e), t.prototype.getStates = function () {\n    return null == this.states_ ? range(0, Array.isArray(this.cell.stateSize) ? this.cell.stateSize.length : 1).map(function (e) {\n      return null;\n    }) : this.states_;\n  }, t.prototype.setStates = function (e) {\n    this.states_ = e;\n  }, t.prototype.computeOutputShape = function (e) {\n    isArrayOfShapes(e) && (e = e[0]), e = e;\n    var t = this.cell.stateSize;\n    Array.isArray(t) || (t = [t]);\n    var n,\n        r = t[0];\n\n    if (n = this.returnSequences ? [e[0], e[1], r] : [e[0], r], this.returnState) {\n      for (var i = [], a = 0, o = t; a < o.length; a++) {\n        var s = o[a];\n        i.push([e[0], s]);\n      }\n\n      return [n].concat(i);\n    }\n\n    return n;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      Array.isArray(t) && (t = t[0]);\n      var e = n.returnSequences ? t : null;\n\n      if (n.returnState) {\n        var r = n.states.map(function (e) {\n          return null;\n        });\n        return [e].concat(r);\n      }\n\n      return e;\n    });\n  }, Object.defineProperty(t.prototype, \"states\", {\n    get: function () {\n      if (null == this.states_) {\n        for (var e = Array.isArray(this.cell.stateSize) ? this.cell.stateSize.length : 1, t = [], n = 0; n < e; ++n) t.push(null);\n\n        return t;\n      }\n\n      return this.states_;\n    },\n    set: function (e) {\n      this.states_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.build = function (e) {\n    if (null != this.numConstants) throw new NotImplementedError(\"Constants support is not implemented in RNN yet.\");\n    isArrayOfShapes(e) && (e = e[0]), e = e;\n    var t = this.stateful ? e[0] : null,\n        n = e[e.length - 1];\n    this.inputSpec[0] = new InputSpec({\n      shape: [t, null, n]\n    });\n    var r,\n        i = [e[0]].concat(e.slice(2));\n\n    if (this.cell.build(i), r = Array.isArray(this.cell.stateSize) ? this.cell.stateSize : [this.cell.stateSize], null != this.stateSpec) {\n      if (!util.arraysEqual(this.stateSpec.map(function (e) {\n        return e.shape[e.shape.length - 1];\n      }), r)) throw new ValueError(\"An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=\" + this.stateSpec + \"; However cell.stateSize is \" + this.cell.stateSize);\n    } else this.stateSpec = r.map(function (e) {\n      return new InputSpec({\n        shape: [null, e]\n      });\n    });\n\n    this.stateful && this.resetStates();\n  }, t.prototype.resetStates = function (e, t) {\n    var n = this;\n    void 0 === t && (t = !1), tidy(function () {\n      if (!n.stateful) throw new AttributeError(\"Cannot call resetStates() on an RNN Layer that is not stateful.\");\n      var r = n.inputSpec[0].shape[0];\n      if (null == r) throw new ValueError(\"If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \\n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.\");\n      if (null == n.states_) Array.isArray(n.cell.stateSize) ? n.states_ = n.cell.stateSize.map(function (e) {\n        return zeros([r, e]);\n      }) : n.states_ = [zeros([r, n.cell.stateSize])];else if (null == e) dispose(n.states_), null != n.keptStates && (dispose(n.keptStates), n.keptStates = []), Array.isArray(n.cell.stateSize) ? n.states_ = n.cell.stateSize.map(function (e) {\n        return zeros([r, e]);\n      }) : n.states_[0] = zeros([r, n.cell.stateSize]);else {\n        if (Array.isArray(e) || (e = [e]), e.length !== n.states_.length) throw new ValueError(\"Layer \" + n.name + \" expects \" + n.states_.length + \" state(s), but it received \" + e.length + \" state value(s). Input received: \" + e);\n        !0 === t ? n.keptStates.push(n.states_.slice()) : dispose(n.states_);\n\n        for (var i = 0; i < n.states_.length; ++i) {\n          var a = e[i],\n              o = Array.isArray(n.cell.stateSize) ? n.cell.stateSize[i] : n.cell.stateSize,\n              s = [r, o];\n          if (!util.arraysEqual(a.shape, s)) throw new ValueError(\"State \" + i + \" is incompatible with layer \" + n.name + \": expected shape=\" + s + \", received shape=\" + a.shape);\n          n.states_[i] = a;\n        }\n      }\n      n.states_ = n.states_.map(function (e) {\n        return keep(e.clone());\n      });\n    });\n  }, t.prototype.apply = function (t, n) {\n    var r = null == n ? null : n.initialState,\n        i = null == n ? null : n.constants;\n    null == n && (n = {});\n    var a = standardizeArgs(t, r, i, this.numConstants);\n    t = a.inputs, r = a.initialState, i = a.constants;\n    var o = [],\n        s = [];\n\n    if (null != r) {\n      n.initialState = r, o = o.concat(r), this.stateSpec = [];\n\n      for (var l = 0, u = r; l < u.length; l++) {\n        var c = u[l];\n        this.stateSpec.push(new InputSpec({\n          shape: c.shape\n        }));\n      }\n\n      s = s.concat(this.stateSpec);\n    }\n\n    if (null != i && (n.constants = i, o = o.concat(i), this.numConstants = i.length), o[0] instanceof SymbolicTensor) {\n      var p = [t].concat(o),\n          h = this.inputSpec.concat(s),\n          d = this.inputSpec;\n      this.inputSpec = h;\n      var f = e.prototype.apply.call(this, p, n);\n      return this.inputSpec = d, f;\n    }\n\n    return e.prototype.apply.call(this, t, n);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null == t ? null : t.mask,\n          i = null == t ? null : t.training,\n          a = null == t ? null : t.initialState;\n      e = getExactlyOneTensor(e), null == a && (a = n.stateful ? n.states_ : n.getInitialState(e));\n      var o = Array.isArray(n.cell.stateSize) ? n.cell.stateSize.length : 1;\n      if (a.length !== o) throw new ValueError(\"RNN Layer has \" + o + \" state(s) but was passed \" + a.length + \" initial state(s).\");\n      n.unroll && console.warn(\"Ignoring unroll = true for RNN layer, due to imperative backend.\");\n      var s = {\n        training: i\n      },\n          l = rnn(function (e, t) {\n        var r = n.cell.call([e].concat(t), s);\n        return [r[0], r.slice(1)];\n      }, e, a, n.goBackwards, r, null, n.unroll, n.returnSequences),\n          u = l[0],\n          c = l[1],\n          p = l[2];\n      n.stateful && n.resetStates(p, i);\n      var h = n.returnSequences ? c : u;\n      return n.returnState ? [h].concat(p) : h;\n    });\n  }, t.prototype.getInitialState = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = zeros(e.shape);\n      return n = expandDims$1(n = sum(n, [1, 2])), Array.isArray(t.cell.stateSize) ? t.cell.stateSize.map(function (e) {\n        return e > 1 ? tile$1(n, [1, e]) : n;\n      }) : t.cell.stateSize > 1 ? [tile$1(n, [1, t.cell.stateSize])] : [n];\n    });\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.trainable ? this.cell.trainableWeights : [];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.trainable ? this.cell.nonTrainableWeights : this.cell.weights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.cell && this.cell.setFastWeightInitDuringBuild(t);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      returnSequences: this.returnSequences,\n      returnState: this.returnState,\n      goBackwards: this.goBackwards,\n      stateful: this.stateful,\n      unroll: this.unroll\n    };\n    null != this.numConstants && (t.numConstants = this.numConstants);\n    var n = this.cell.getConfig();\n    t.cell = {\n      className: this.cell.getClassName(),\n      config: n\n    };\n    var r = e.prototype.getConfig.call(this);\n    return Object.assign(t, r), t;\n  }, t.fromConfig = function (e, t, n) {\n    void 0 === n && (n = {});\n    var r = deserialize(t.cell, n);\n    return new e(Object.assign(t, {\n      cell: r\n    }));\n  }, t.className = \"RNN\", t;\n}(Layer);\n\nserialization.registerClass(RNN);\n\nvar RNNCell = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t;\n}(Layer),\n    SimpleRNNCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, assertPositiveInteger(n.units, \"units\"), n.activation = getActivation(null == t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.stateSize = n.units, n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    e = getExactlyOneShape(e), this.kernel = this.addWeight(\"kernel\", [e[e.length - 1], this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== (e = e).length) throw new ValueError(\"SimpleRNNCell expects 2 input Tensors, got \" + e.length + \".\");\n      var r = e[1];\n      e = e[0];\n      var i,\n          a = null != t.training && t.training;\n      0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, a)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(r);\n      }, n.recurrentDropout, a));\n      var o = n.dropoutMask,\n          s = n.recurrentDropoutMask;\n      i = dot(null != o ? mul(e, o) : e, n.kernel.read()), null != n.bias && (i = biasAdd(i, n.bias.read())), null != s && (r = mul(r, s));\n      var l = add(i, dot(r, n.recurrentKernel.read()));\n      return null != n.activation && (l = n.activation.apply(l)), [l, l];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"SimpleRNNCell\", t;\n}(RNNCell);\n\nserialization.registerClass(SimpleRNNCell);\n\nvar SimpleRNN = function (e) {\n  function t(t) {\n    return t.cell = new SimpleRNNCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    return new e(t);\n  }, t.className = \"SimpleRNN\", t;\n}(RNN);\n\nserialization.registerClass(SimpleRNN);\n\nvar GRUCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_RECURRENT_ACTIVATION = \"hardSigmoid\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, assertPositiveInteger(n.units, \"units\"), n.activation = getActivation(void 0 === t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.recurrentActivation = getActivation(void 0 === t.recurrentActivation ? n.DEFAULT_RECURRENT_ACTIVATION : t.recurrentActivation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.implementation = t.implementation, n.stateSize = n.units, n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t = (e = getExactlyOneShape(e))[e.length - 1];\n    this.kernel = this.addWeight(\"kernel\", [t, 3 * this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, 3 * this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [3 * this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== (e = e).length) throw new ValueError(\"GRUCell expects 2 input Tensors (inputs, h, c), got \" + e.length + \".\");\n      var r = null != t.training && t.training,\n          i = e[1];\n      e = e[0], 0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, r, 3)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(i);\n      }, n.recurrentDropout, r, 3));\n      var a,\n          o,\n          s,\n          l = n.dropoutMask,\n          u = n.recurrentDropoutMask;\n      0 < n.dropout && n.dropout < 1 && (e = mul(e, l[0]));\n      var c = dot(e, n.kernel.read());\n      n.useBias && (c = biasAdd(c, n.bias.read())), 0 < n.recurrentDropout && n.recurrentDropout < 1 && (i = mul(i, u[0]));\n      var p = n.recurrentKernel.read(),\n          h = split(p, [2 * n.units, n.units], p.rank - 1),\n          d = h[0],\n          f = h[1],\n          g = dot(i, d),\n          m = split(c, 3, c.rank - 1),\n          y = m[0],\n          v = m[1],\n          b = m[2],\n          w = split(g, 2, g.rank - 1),\n          z = w[0],\n          S = w[1];\n      a = n.recurrentActivation.apply(add(y, z)), o = n.recurrentActivation.apply(add(v, S));\n      var A = dot(mul(o, i), f);\n      s = n.activation.apply(add(b, A));\n\n      var _ = add(mul(a, i), mul(add(1, neg(a)), s));\n\n      return [_, _];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"GRUCell\", t;\n}(RNNCell);\n\nserialization.registerClass(GRUCell);\n\nvar GRU = function (e) {\n  function t(t) {\n    return 0 === t.implementation && console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"), t.cell = new GRUCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentActivation\", {\n    get: function () {\n      return this.cell.recurrentActivation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"implementation\", {\n    get: function () {\n      return this.cell.implementation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    return 0 === t.implmentation && (t.implementation = 1), new e(t);\n  }, t.className = \"GRU\", t;\n}(RNN);\n\nserialization.registerClass(GRU);\n\nvar LSTMCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_RECURRENT_ACTIVATION = \"hardSigmoid\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, assertPositiveInteger(n.units, \"units\"), n.activation = getActivation(void 0 === t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.recurrentActivation = getActivation(void 0 === t.recurrentActivation ? n.DEFAULT_RECURRENT_ACTIVATION : t.recurrentActivation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.unitForgetBias = t.unitForgetBias, n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.implementation = t.implementation, n.stateSize = [n.units, n.units], n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t,\n        n,\n        r = (e = getExactlyOneShape(e))[e.length - 1];\n\n    if (this.kernel = this.addWeight(\"kernel\", [r, 4 * this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, 4 * this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias) {\n      if (this.unitForgetBias) {\n        var i = this.biasInitializer,\n            a = this.units;\n        n = new ((t = function (e) {\n          function t() {\n            return null !== e && e.apply(this, arguments) || this;\n          }\n\n          return __extends(t, e), t.prototype.apply = function (e, t) {\n            var n = i.apply([a]),\n                r = new Ones().apply([a]),\n                o = i.apply([2 * a]);\n            return concatAlongFirstAxis(concatAlongFirstAxis(n, r), o);\n          }, t;\n        }(Initializer)).className = \"CustomInit\", t)();\n      } else n = this.biasInitializer;\n\n      this.bias = this.addWeight(\"bias\", [4 * this.units], null, n, this.biasRegularizer, !0, this.biasConstraint);\n    } else this.bias = null;\n\n    this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null != t.training && t.training;\n      if (3 !== (e = e).length) throw new ValueError(\"LSTMCell expects 3 input Tensors (inputs, h, c), got \" + e.length + \".\");\n      var i = e[1],\n          a = e[2];\n      e = e[0], 0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, r, 4)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(i);\n      }, n.recurrentDropout, r, 4));\n      var o,\n          s,\n          l,\n          u,\n          c = n.dropoutMask,\n          p = n.recurrentDropoutMask;\n      0 < n.dropout && n.dropout < 1 && (e = mul(e, c[0]));\n      var h = dot(e, n.kernel.read());\n      0 < n.recurrentDropout && n.recurrentDropout < 1 && (i = mul(i, p[0])), h = add(h, dot(i, n.recurrentKernel.read())), n.useBias && (h = biasAdd(h, n.bias.read()));\n      var d = split(h, 4, h.rank - 1),\n          f = d[0],\n          g = d[1],\n          m = d[2],\n          y = d[3];\n      o = n.recurrentActivation.apply(f), s = n.recurrentActivation.apply(g), l = add(mul(s, a), mul(o, n.activation.apply(m))), u = n.recurrentActivation.apply(y);\n      var v = mul(u, n.activation.apply(l));\n      return [v, v, l];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      unitForgetBias: this.unitForgetBias,\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"LSTMCell\", t;\n}(RNNCell);\n\nserialization.registerClass(LSTMCell);\n\nvar LSTM = function (e) {\n  function t(t) {\n    return 0 === t.implementation && console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"), t.cell = new LSTMCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentActivation\", {\n    get: function () {\n      return this.cell.recurrentActivation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"unitForgetBias\", {\n    get: function () {\n      return this.cell.unitForgetBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"implementation\", {\n    get: function () {\n      return this.cell.implementation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      unitForgetBias: this.unitForgetBias,\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    return 0 === t.implmentation && (t.implementation = 1), new e(t);\n  }, t.className = \"LSTM\", t;\n}(RNN);\n\nserialization.registerClass(LSTM);\n\nvar StackedRNNCells = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.cells = t.cells, n;\n  }\n\n  return __extends(t, e), Object.defineProperty(t.prototype, \"stateSize\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.cells.slice().reverse(); t < n.length; t++) {\n        var r = n[t];\n        Array.isArray(r.stateSize) ? e.push.apply(e, r.stateSize) : e.push(r.stateSize);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      for (var r = (e = e).slice(1), i = [], a = 0, o = n.cells.slice().reverse(); a < o.length; a++) {\n        var s = o[a];\n        Array.isArray(s.stateSize) ? i.push(r.splice(0, s.stateSize.length)) : i.push(r.splice(0, 1));\n      }\n\n      i.reverse();\n\n      for (var l, u = [], c = 0; c < n.cells.length; ++c) {\n        s = n.cells[c];\n        r = i[c], l = 0 === c ? [e[0]].concat(r) : [l[0]].concat(r), l = s.call(l, t), u.push(l.slice(1));\n      }\n\n      r = [];\n\n      for (var p = 0, h = u.slice().reverse(); p < h.length; p++) {\n        var d = h[p];\n        r.push.apply(r, d);\n      }\n\n      return [l[0]].concat(r);\n    });\n  }, t.prototype.build = function (e) {\n    var t;\n    isArrayOfShapes(e) && (e = e[0]), e = e, this.cells.forEach(function (n, r) {\n      nameScope(\"RNNCell_\" + r, function () {\n        n.build(e), t = Array.isArray(n.stateSize) ? n.stateSize[0] : n.stateSize, e = [e[0], t];\n      });\n    }), this.built = !0;\n  }, t.prototype.getConfig = function () {\n    for (var t = [], n = 0, r = this.cells; n < r.length; n++) {\n      var i = r[n];\n      t.push({\n        className: i.getClassName(),\n        config: i.getConfig()\n      });\n    }\n\n    var a = {\n      cells: t\n    },\n        o = e.prototype.getConfig.call(this);\n    return Object.assign(a, o), a;\n  }, t.fromConfig = function (e, t, n) {\n    void 0 === n && (n = {});\n\n    for (var r = [], i = 0, a = t.cells; i < a.length; i++) {\n      var o = a[i];\n      r.push(deserialize(o, n));\n    }\n\n    return new e({\n      cells: r\n    });\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      if (!this.trainable) return [];\n\n      for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.trainableWeights);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.nonTrainableWeights);\n      }\n\n      if (!this.trainable) {\n        for (var i = [], a = 0, o = this.cells; a < o.length; a++) {\n          r = o[a];\n          i.push.apply(i, r.trainableWeights);\n        }\n\n        return i.concat(e);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n      var r = n[t];\n      e.push.apply(e, r.weights);\n    }\n\n    return batchGetValue(e);\n  }, t.prototype.setWeights = function (e) {\n    for (var t = [], n = 0, r = this.cells; n < r.length; n++) for (var i = r[n], a = i.weights.length, o = e.splice(a), s = 0; s < i.weights.length; ++s) t.push([i.weights[s], o[s]]);\n\n    batchSetValue(t);\n  }, t.className = \"StackedRNNCells\", t;\n}(RNNCell);\n\nfunction generateDropoutMask(e, t, n, r) {\n  function i() {\n    return dropout$1(e(), t);\n  }\n\n  if (void 0 === n && (n = null), void 0 === r && (r = 1), r > 1) {\n    for (var a = [], o = 0; o < r; o++) a.push(inTrainPhase(i, e, n));\n\n    return a.map(function (e) {\n      return keep(e.clone());\n    });\n  }\n\n  return keep(inTrainPhase(i, e, n).clone());\n}\n\nserialization.registerClass(StackedRNNCells);\n\nvar Wrapper = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.layer = t.layer, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    this.built = !0;\n  }, Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return null != this.layer && this.layer.trainable;\n    },\n    set: function (e) {\n      null != this.layer && (this.layer.trainable = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.layer.trainableWeights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.layer.nonTrainableWeights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"updates\", {\n    get: function () {\n      return this.layer._updates;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"losses\", {\n    get: function () {\n      return this.layer.losses;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    return this.layer.getWeights();\n  }, t.prototype.setWeights = function (e) {\n    this.layer.setWeights(e);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      layer: {\n        className: this.layer.getClassName(),\n        config: this.layer.getConfig()\n      }\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.layer && this.layer.setFastWeightInitDuringBuild(t);\n  }, t.fromConfig = function (e, t, n) {\n    void 0 === n && (n = {});\n    var r = deserialize(t.layer, n);\n    delete t.layer;\n    var i = {\n      layer: r\n    };\n    return Object.assign(i, t), new e(i);\n  }, t;\n}(Layer),\n    TimeDistributed = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (t) {\n    if ((t = getExactlyOneShape(t)).length < 3) throw new ValueError(\"TimeDistributed layer expects an input shape >= 3D, but received input shape \" + JSON.stringify(t));\n    this.inputSpec = [{\n      shape: t\n    }];\n    var n = [t[0]].concat(t.slice(2));\n    this.layer.built || (this.layer.build(n), this.layer.built = !0), e.prototype.build.call(this, t);\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = [(e = getExactlyOneShape(e))[0]].concat(e.slice(2)),\n        n = this.layer.computeOutputShape(t),\n        r = e[1];\n    return [n[0], r].concat(n.slice(1));\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return rnn(function (e, r) {\n        return [getExactlyOneTensor(n.layer.call(e, t)), []];\n      }, e = getExactlyOneTensor(e), [], !1, null, null, !1, !0)[1];\n    });\n  }, t.className = \"TimeDistributed\", t;\n}(Wrapper);\n\nfunction checkBidirectionalMergeMode(e) {\n  checkStringTypeUnionValue(VALID_BIDIRECTIONAL_MERGE_MODES, \"BidirectionalMergeMode\", e);\n}\n\nserialization.registerClass(TimeDistributed);\n\nvar DEFAULT_BIDIRECTIONAL_MERGE_MODE = \"concat\",\n    Bidirectional = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this,\n        r = t.layer.getConfig(),\n        i = {};\n    i.className = t.layer.getClassName(), i.config = r, n.forwardLayer = deserialize(i), r.goBackwards = !0 !== r.goBackwards;\n    var a = {};\n    if (a.className = t.layer.getClassName(), a.config = r, n.backwardLayer = deserialize(a), n.forwardLayer.name = \"forward_\" + n.forwardLayer.name, n.backwardLayer.name = \"backward_\" + n.backwardLayer.name, n.mergeMode = void 0 === t.mergeMode ? DEFAULT_BIDIRECTIONAL_MERGE_MODE : t.mergeMode, checkBidirectionalMergeMode(n.mergeMode), t.weights) throw new NotImplementedError(\"weights support is not implemented for Bidirectional layer yet.\");\n    return n._stateful = t.layer.stateful, n.returnSequences = t.layer.returnSequences, n.returnState = t.layer.returnState, n.supportsMasking = !0, n._trainable = !0, n.inputSpec = t.layer.inputSpec, n.numConstants = null, n;\n  }\n\n  return __extends(t, e), Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return this._trainable;\n    },\n    set: function (e) {\n      this._trainable = e, null != this.forwardLayer && (this.forwardLayer.trainable = e), null != this.backwardLayer && (this.backwardLayer.trainable = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights());\n  }, t.prototype.setWeights = function (e) {\n    var t = e.length,\n        n = Math.floor(t / 2);\n    this.forwardLayer.setWeights(e.slice(0, n)), this.backwardLayer.setWeights(e.slice(n));\n  }, t.prototype.computeOutputShape = function (e) {\n    var t,\n        n,\n        r,\n        i = this.forwardLayer.computeOutputShape(e);\n    return Array.isArray(i) && Array.isArray(i[0]) || (i = [i]), i = i, this.returnState ? (r = i.slice(1), t = i[0]) : t = i[0], t = t, \"concat\" === this.mergeMode ? (t[t.length - 1] *= 2, n = [t]) : n = null == this.mergeMode ? [t, t.slice()] : [t], this.returnState ? null == this.mergeMode ? n.concat(r).concat(r.slice()) : [t].concat(r).concat(r.slice()) : singletonOrArray(n);\n  }, t.prototype.apply = function (t, n) {\n    var r = null == n ? null : n.initialState,\n        i = null == n ? null : n.constants;\n    null == n && (n = {});\n    var a = standardizeArgs(t, r, i, this.numConstants);\n    if (t = a.inputs, r = a.initialState, i = a.constants, Array.isArray(t) && (r = t.slice(1), t = t[0]), (null == r || 0 === r.length) && null == i) return e.prototype.apply.call(this, t, n);\n    var o = [],\n        s = [];\n\n    if (null != r) {\n      var l = r.length;\n      if (l % 2 > 0) throw new ValueError(\"When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.\");\n      n.initialState = r, o.push.apply(o, r);\n      var u = r.map(function (e) {\n        return new InputSpec({\n          shape: e.shape\n        });\n      });\n      this.forwardLayer.stateSpec = u.slice(0, l / 2), this.backwardLayer.stateSpec = u.slice(l / 2), s.push.apply(s, u);\n    }\n\n    if (null != i) throw new NotImplementedError(\"Support for constants in Bidirectional layers is not implemented yet.\");\n\n    for (var c = o[0] instanceof SymbolicTensor, p = 0, h = o; p < h.length; p++) {\n      if (h[p] instanceof SymbolicTensor !== c) throw new ValueError(\"The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors\");\n    }\n\n    if (c) {\n      var d = [t].concat(o),\n          f = this.inputSpec.concat(s),\n          g = this.inputSpec;\n      this.inputSpec = f;\n      var m = e.prototype.apply.call(this, d, n);\n      return this.inputSpec = g, m;\n    }\n\n    return e.prototype.apply.call(this, t, n);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (null != t.mask) throw new NotImplementedError(\"The support for masking is not implemented for Bidirectional layers yet.\");\n      var r,\n          i,\n          a,\n          o,\n          s = t.initialState;\n      if (null == s) r = n.forwardLayer.call(e, t), i = n.backwardLayer.call(e, t);else {\n        var l = s.slice(0, s.length / 2),\n            u = s.slice(s.length / 2);\n        r = n.forwardLayer.call(e, Object.assign(t, {\n          initialState: l\n        })), i = n.backwardLayer.call(e, Object.assign(t, {\n          initialState: u\n        }));\n      }\n      return n.returnState && (Array.isArray(r) && (a = r.slice(1).concat(i.slice(1))), r = r[0], i = i[0]), n.returnSequences && (i = reverse(i, 1)), \"concat\" === n.mergeMode ? o = concatenate([r, i]) : \"sum\" === n.mergeMode ? o = add(r, i) : \"ave\" === n.mergeMode ? o = mul(.5, add(r, i)) : \"mul\" === n.mergeMode ? o = mul(r, i) : null == n.mergeMode && (o = [r, i]), n.returnState ? null == n.mergeMode ? o.concat(a) : [o].concat(a) : o;\n    });\n  }, t.prototype.resetStates = function (e) {\n    this.forwardLayer.resetStates(), this.backwardLayer.resetStates();\n  }, t.prototype.build = function (e) {\n    var t = this;\n    nameScope(this.forwardLayer.name, function () {\n      t.forwardLayer.build(e);\n    }), nameScope(this.backwardLayer.name, function () {\n      t.backwardLayer.build(e);\n    }), this.built = !0;\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.forwardLayer && this.forwardLayer.setFastWeightInitDuringBuild(t), null != this.backwardLayer && this.backwardLayer.setFastWeightInitDuringBuild(t);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      mergeMode: this.mergeMode\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    var n = deserialize(t.layer);\n    if (delete t.layer, null != t.numConstants) throw new NotImplementedError(\"Deserialization of a Bidirectional layer with numConstants present is not supported yet.\");\n    var r = t;\n    return r.layer = n, new e(r);\n  }, t.className = \"Bidirectional\", t;\n}(Wrapper);\n\nfunction inputLayer(e) {\n  return new InputLayer(e);\n}\n\nfunction elu$2(e) {\n  return new ELU(e);\n}\n\nfunction reLU(e) {\n  return new ReLU(e);\n}\n\nfunction leakyReLU(e) {\n  return new LeakyReLU(e);\n}\n\nfunction prelu$1(e) {\n  return new PReLU(e);\n}\n\nfunction softmax$1(e) {\n  return new Softmax$1(e);\n}\n\nfunction thresholdedReLU(e) {\n  return new ThresholdedReLU(e);\n}\n\nfunction conv1d$2(e) {\n  return new Conv1D(e);\n}\n\nfunction conv2d$1(e) {\n  return new Conv2D(e);\n}\n\nfunction conv2dTranspose$1(e) {\n  return new Conv2DTranspose(e);\n}\n\nfunction conv3d$2(e) {\n  return new Conv3D(e);\n}\n\nfunction separableConv2d$1(e) {\n  return new SeparableConv2D(e);\n}\n\nfunction cropping2D(e) {\n  return new Cropping2D(e);\n}\n\nfunction upSampling2d(e) {\n  return new UpSampling2D(e);\n}\n\nfunction depthwiseConv2d$2(e) {\n  return new DepthwiseConv2D(e);\n}\n\nfunction activation(e) {\n  return new Activation$1(e);\n}\n\nfunction dense(e) {\n  return new Dense(e);\n}\n\nfunction dropout$2(e) {\n  return new Dropout(e);\n}\n\nfunction flatten$1(e) {\n  return new Flatten(e);\n}\n\nfunction repeatVector(e) {\n  return new RepeatVector(e);\n}\n\nfunction reshape(e) {\n  return new Reshape(e);\n}\n\nfunction permute(e) {\n  return new Permute(e);\n}\n\nfunction embedding(e) {\n  return new Embedding(e);\n}\n\nfunction add$2(e) {\n  return new Add(e);\n}\n\nfunction average$1(e) {\n  return new Average(e);\n}\n\nfunction concatenate$2(e) {\n  return new Concatenate(e);\n}\n\nfunction maximum$2(e) {\n  return new Maximum(e);\n}\n\nfunction minimum$2(e) {\n  return new Minimum(e);\n}\n\nfunction multiply$1(e) {\n  return new Multiply(e);\n}\n\nfunction dot$1(e) {\n  return new Dot(e);\n}\n\nfunction batchNormalization$1(e) {\n  return new BatchNormalization(e);\n}\n\nfunction layerNormalization(e) {\n  return new LayerNormalization(e);\n}\n\nfunction zeroPadding2d(e) {\n  return new ZeroPadding2D(e);\n}\n\nfunction averagePooling1d(e) {\n  return new AveragePooling1D(e);\n}\n\nfunction avgPool1d(e) {\n  return averagePooling1d(e);\n}\n\nfunction avgPooling1d(e) {\n  return averagePooling1d(e);\n}\n\nfunction averagePooling2d(e) {\n  return new AveragePooling2D(e);\n}\n\nfunction avgPool2d(e) {\n  return averagePooling2d(e);\n}\n\nfunction avgPooling2d(e) {\n  return averagePooling2d(e);\n}\n\nfunction averagePooling3d(e) {\n  return new AveragePooling3D(e);\n}\n\nfunction avgPool3d$1(e) {\n  return averagePooling3d(e);\n}\n\nfunction avgPooling3d(e) {\n  return averagePooling3d(e);\n}\n\nfunction globalAveragePooling1d(e) {\n  return new GlobalAveragePooling1D(e);\n}\n\nfunction globalAveragePooling2d(e) {\n  return new GlobalAveragePooling2D(e);\n}\n\nfunction globalMaxPooling1d(e) {\n  return new GlobalMaxPooling1D(e);\n}\n\nfunction globalMaxPooling2d(e) {\n  return new GlobalMaxPooling2D(e);\n}\n\nfunction maxPooling1d(e) {\n  return new MaxPooling1D(e);\n}\n\nfunction maxPooling2d(e) {\n  return new MaxPooling2D(e);\n}\n\nfunction maxPooling3d(e) {\n  return new MaxPooling3D(e);\n}\n\nfunction gru(e) {\n  return new GRU(e);\n}\n\nfunction gruCell(e) {\n  return new GRUCell(e);\n}\n\nfunction lstm(e) {\n  return new LSTM(e);\n}\n\nfunction lstmCell(e) {\n  return new LSTMCell(e);\n}\n\nfunction simpleRNN(e) {\n  return new SimpleRNN(e);\n}\n\nfunction simpleRNNCell(e) {\n  return new SimpleRNNCell(e);\n}\n\nfunction rnn$1(e) {\n  return new RNN(e);\n}\n\nfunction stackedRNNCells(e) {\n  return new StackedRNNCells(e);\n}\n\nfunction bidirectional(e) {\n  return new Bidirectional(e);\n}\n\nfunction timeDistributed(e) {\n  return new TimeDistributed(e);\n}\n\nserialization.registerClass(Bidirectional);\nvar globalMaxPool1d = globalMaxPooling1d,\n    globalMaxPool2d = globalMaxPooling2d,\n    maxPool1d = maxPooling1d,\n    maxPool2d = maxPooling2d;\n\nfunction gaussianNoise(e) {\n  return new GaussianNoise(e);\n}\n\nfunction gaussianDropout(e) {\n  return new GaussianDropout(e);\n}\n\nfunction alphaDropout(e) {\n  return new AlphaDropout(e);\n}\n\nfunction masking(e) {\n  return new Masking(e);\n}\n\nvar exports_layers = Object.freeze({\n  inputLayer: inputLayer,\n  elu: elu$2,\n  reLU: reLU,\n  leakyReLU: leakyReLU,\n  prelu: prelu$1,\n  softmax: softmax$1,\n  thresholdedReLU: thresholdedReLU,\n  conv1d: conv1d$2,\n  conv2d: conv2d$1,\n  conv2dTranspose: conv2dTranspose$1,\n  conv3d: conv3d$2,\n  separableConv2d: separableConv2d$1,\n  cropping2D: cropping2D,\n  upSampling2d: upSampling2d,\n  depthwiseConv2d: depthwiseConv2d$2,\n  activation: activation,\n  dense: dense,\n  dropout: dropout$2,\n  flatten: flatten$1,\n  repeatVector: repeatVector,\n  reshape: reshape,\n  permute: permute,\n  embedding: embedding,\n  add: add$2,\n  average: average$1,\n  concatenate: concatenate$2,\n  maximum: maximum$2,\n  minimum: minimum$2,\n  multiply: multiply$1,\n  dot: dot$1,\n  batchNormalization: batchNormalization$1,\n  layerNormalization: layerNormalization,\n  zeroPadding2d: zeroPadding2d,\n  averagePooling1d: averagePooling1d,\n  avgPool1d: avgPool1d,\n  avgPooling1d: avgPooling1d,\n  averagePooling2d: averagePooling2d,\n  avgPool2d: avgPool2d,\n  avgPooling2d: avgPooling2d,\n  averagePooling3d: averagePooling3d,\n  avgPool3d: avgPool3d$1,\n  avgPooling3d: avgPooling3d,\n  globalAveragePooling1d: globalAveragePooling1d,\n  globalAveragePooling2d: globalAveragePooling2d,\n  globalMaxPooling1d: globalMaxPooling1d,\n  globalMaxPooling2d: globalMaxPooling2d,\n  maxPooling1d: maxPooling1d,\n  maxPooling2d: maxPooling2d,\n  maxPooling3d: maxPooling3d,\n  gru: gru,\n  gruCell: gruCell,\n  lstm: lstm,\n  lstmCell: lstmCell,\n  simpleRNN: simpleRNN,\n  simpleRNNCell: simpleRNNCell,\n  rnn: rnn$1,\n  stackedRNNCells: stackedRNNCells,\n  bidirectional: bidirectional,\n  timeDistributed: timeDistributed,\n  globalMaxPool1d: globalMaxPool1d,\n  globalMaxPool2d: globalMaxPool2d,\n  maxPool1d: maxPool1d,\n  maxPool2d: maxPool2d,\n  Layer: Layer,\n  RNN: RNN,\n  RNNCell: RNNCell,\n  input: input,\n  gaussianNoise: gaussianNoise,\n  gaussianDropout: gaussianDropout,\n  alphaDropout: alphaDropout,\n  masking: masking\n});\n\nfunction binaryAccuracy$1(e, t) {\n  return binaryAccuracy(e, t);\n}\n\nfunction binaryCrossentropy$2(e, t) {\n  return binaryCrossentropy$1(e, t);\n}\n\nfunction sparseCategoricalAccuracy$1(e, t) {\n  return sparseCategoricalAccuracy(e, t);\n}\n\nfunction categoricalAccuracy$1(e, t) {\n  return categoricalAccuracy(e, t);\n}\n\nfunction categoricalCrossentropy$2(e, t) {\n  return categoricalCrossentropy$1(e, t);\n}\n\nfunction precision$1(e, t) {\n  return precision(e, t);\n}\n\nfunction recall$1(e, t) {\n  return recall(e, t);\n}\n\nfunction cosineProximity$1(e, t) {\n  return cosineProximity(e, t);\n}\n\nfunction meanAbsoluteError$1(e, t) {\n  return meanAbsoluteError(e, t);\n}\n\nfunction meanAbsolutePercentageError$1(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction MAPE$2(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction mape$2(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction meanSquaredError$1(e, t) {\n  return meanSquaredError(e, t);\n}\n\nfunction MSE$2(e, t) {\n  return meanSquaredError(e, t);\n}\n\nfunction mse$2(e, t) {\n  return meanSquaredError(e, t);\n}\n\nvar exports_metrics = Object.freeze({\n  binaryAccuracy: binaryAccuracy$1,\n  binaryCrossentropy: binaryCrossentropy$2,\n  sparseCategoricalAccuracy: sparseCategoricalAccuracy$1,\n  categoricalAccuracy: categoricalAccuracy$1,\n  categoricalCrossentropy: categoricalCrossentropy$2,\n  precision: precision$1,\n  recall: recall$1,\n  cosineProximity: cosineProximity$1,\n  meanAbsoluteError: meanAbsoluteError$1,\n  meanAbsolutePercentageError: meanAbsolutePercentageError$1,\n  MAPE: MAPE$2,\n  mape: mape$2,\n  meanSquaredError: meanSquaredError$1,\n  MSE: MSE$2,\n  mse: mse$2\n}),\n    exports_models = Object.freeze({\n  modelFromJSON: modelFromJSON\n});\n\nfunction l1l2(e) {\n  return new L1L2(e);\n}\n\nfunction l1$1(e) {\n  return l1(e);\n}\n\nfunction l2$1(e) {\n  return l2(e);\n}\n\nvar exports_regularizers = Object.freeze({\n  l1l2: l1l2,\n  l1: l1$1,\n  l2: l2$1\n}),\n    Callback = function (e) {\n  function t() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    return t.model = null, t;\n  }\n\n  return __extends(t, e), t.prototype.setModel = function (e) {\n    if (!(e instanceof LayersModel)) throw new Error(\"model must be a LayersModel, not some other Container\");\n    this.model = e;\n  }, t;\n}(BaseCallback);\n\nfunction less(e, t) {\n  return e < t;\n}\n\nfunction greater$1(e, t) {\n  return e > t;\n}\n\nvar EarlyStopping = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (null == t && (t = {}), t.restoreBestWeights) throw new NotImplementedError(\"restoreBestWeights = True is not implemented in EarlyStopping yet.\");\n    return n.monitor = t.monitor || \"val_loss\", n.minDelta = Math.abs(t.minDelta || 0), n.patience = t.patience || 0, n.verbose = t.verbose || 0, n.mode = t.mode || \"auto\", n.baseline = t.baseline, -1 === [\"auto\", \"min\", \"max\"].indexOf(n.mode) && (console.warn(\"EarlyStopping mode '\" + n.mode + \"' is invalid. Falling back to mode 'auto'.\"), n.mode = \"auto\"), \"min\" === n.mode ? n.monitorFunc = less : \"max\" === n.mode ? n.monitorFunc = greater$1 : -1 !== n.monitor.indexOf(\"acc\") ? n.monitorFunc = greater$1 : n.monitorFunc = less, n.monitorFunc === less && (n.minDelta *= -1), n;\n  }\n\n  return __extends(t, e), t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.wait = 0, this.stoppedEpoch = 0, null != this.baseline ? this.best = this.baseline : this.best = this.monitorFunc === less ? 1 / 0 : -1 / 0, [2];\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return r.sent(), null == (n = this.getMonitorValue(t)) ? [2] : (this.monitorFunc(n - this.minDelta, this.best) ? (this.best = n, this.wait = 0) : (this.wait++, this.wait >= this.patience && (this.stoppedEpoch = e, this.model.stopTraining = !0)), [2]);\n        }\n      });\n    });\n  }, t.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.stoppedEpoch > 0 && this.verbose && console.log(\"Epoch \" + this.stoppedEpoch + \": early stopping.\"), [2];\n      });\n    });\n  }, t.prototype.getMonitorValue = function (e) {\n    null == e && (e = {});\n    var t = e[this.monitor];\n    return null == t && console.warn(\"Metric for EarlyStopping \" + this.monitor + \" is not available. Available metrics are: \" + Object.keys(e)), t;\n  }, t;\n}(Callback);\n\nfunction earlyStopping(e) {\n  return new EarlyStopping(e);\n}\n\nvar callbacks = {\n  earlyStopping: earlyStopping\n};\nexport { exports_constraints as constraints, exports_initializers as initializers, exports_layers as layers, exports_metrics as metrics, exports_models as models, exports_regularizers as regularizers, CallbackList, CustomCallback, History, Callback, callbacks, EarlyStopping, InputSpec, SymbolicTensor, LayersModel, input, loadLayersModel, model, registerCallbackConstructor, sequential, RNN, Sequential, LayerVariable, version as version_layers };","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js"],"names":["backend","util","tidy","onesLike","scalar","tensor1d","where","zerosLike","serialization","train","cast","dispose","memory","add","mul","div","keep","nextFrame","Tensor","Optimizer","concat","mean","io","transpose","expandDims","reverse","unstack","stack","zeros","sum","split","neg","variable","ones","eye","randomUniform","truncatedNormal","randomNormal","sub","sqrt","mulStrict","clipByValue","relu","linalg","leakyRelu","prelu","elu","conv1d","fused","conv3d","conv2dTranspose","separableConv2d","depthwiseConv2d","any","notEqual","logicalAnd","maximum","minimum","all","greaterEqual","batchNorm2d","batchNorm3d","batchNorm4d","moments","pad","maxPool","avgPool","maxPool3d","avgPool3d","squeeze","max","fill","abs","log","softplus","softmax","floor","oneHot","greater","equal","argMax","slice1d","slice2d","slice3d","slice4d","concat1d","concat2d","concat3d","concat4d","tile","gather","dropout","min","selu","sigmoid","tanh","logSoftmax","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","n","hasOwnProperty","__extends","constructor","prototype","create","_epsilon","__assign","assign","r","arguments","length","i","call","apply","__awaiter","Promise","a","o","l","next","s","throw","done","value","then","__generator","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","epsilon","imageDataFormat","AttributeError","Error","RuntimeError","ValueError","NotImplementedError","AssertionError","IndexError","pyListRepeat","isArray","assert","count","singletonOrArray","toList","toSnakeCase","replace","toLowerCase","toCamelCase","indexOf","toUpperCase","_GLOBAL_CUSTOM_OBJECTS","serializeKerasObject","className","getClassName","config","getConfig","convertNDArrayScalarsInConfig","forEach","keys","type","deserializeKerasObject","u","c","JSON","stringify","p","h","d","f","g","m","S","y","v","customObjects","b","w","z","A","_","I","numberCompare","reverseNumberCompare","unique","isObjectEmpty","checkStringTypeUnionValue","checkArrayTypeAndLength","every","assertPositiveInteger","Number","isInteger","formatAsFriendlyString","map","join","debounce","now","mapActivationToFusedKernel","calcL2Norms","Constraint","Serializable","MaxNorm","defaultMaxValue","defaultAxis","maxValue","axis","registerClass","UnitNorm","NonNeg","MinMaxNorm","defaultMinValue","defaultRate","minValue","rate","CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP","maxNorm","minMaxNorm","nonNeg","unitNorm","serializeConstraint","deserializeConstraint","SerializationMap","getMap","classNameMap","getConstraint","exports_constraints","freeze","VALID_DATA_FORMAT_VALUES","VALID_PADDING_MODE_VALUES","VALID_POOL_MODE_VALUES","VALID_BIDIRECTIONAL_MERGE_MODES","nameMap","Map","checkDataFormat","checkPaddingMode","checkPoolMode","_nameScopeStack","_nameScopeDivider","nameScope","currentNameScopePrefix","getScopedTensorName","isValidTensorName","getUniqueTensorName","has","set","get","tensorNameRegex","RegExp","match","parseInt","toString","arrayProd","toArray1D","Float32Array","min$1","dataSync","max$1","range","cast$1","asType","expandDims$1","shape","slice","splice","reshape","repeat","tile$1","flatten","batchFlatten","rank","sliceAlongFirstAxis","sliceAlongLastAxis","sliceAlongAxis","concatenate","concatAlongFirstAxis","randomNormal$1","dot","matMul","transposeA","transposeB","bias","reshapeBias","activation","from","gather$1","toInt","square","biasAdd","elu$1","softsign","dropout$1","hardSigmoid","inTrainPhase","VALID_FAN_MODE_VALUES","VALID_DISTRIBUTION_VALUES","checkFanMode","checkDistribution","Initializer","fromConfigUsesCustomObjects","Zeros","Ones","Constant","RandomUniform","DEFAULT_MINVAL","DEFAULT_MAXVAL","minval","maxval","seed","RandomNormal","DEFAULT_MEAN","DEFAULT_STDDEV","stddev","TruncatedNormal","Identity","gain","computeFans","Math","VarianceScaling","scale","mode","distribution","GlorotUniform","GlorotNormal","HeNormal","HeUniform","LeCunNormal","LeCunUniform","Orthogonal","DEFAULT_GAIN","console","warn","gramSchmidt","INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP","constant","glorotNormal","glorotUniform","heNormal","heUniform","identity","leCunNormal","leCunUniform","orthogonal","varianceScaling","deserializeInitializer","serializeInitializer","getInitializer","zeros$1","ones$1","randomUniform$1","randomNormal$2","truncatedNormal$1","exports_initializers","_nextUniqueTensorId","getNextUniqueTensorId","_uidPrefixes","getUid","isArrayOfShapes","normalizeShapeList","getExactlyOneTensor","getExactlyOneShape","countParamsInWeights","reduce","DEFAULT_VARIABLE_NAME_PREFIX","LayerVariable","dtype","id","originalName","name","trainable_","constraint","val","read","assertNotDisposed","write","checkShapesMatch","isDisposed","defineProperty","trainable","enumerable","configurable","batchGetValue","batchSetValue","InputSpec","ndim","maxNDim","minNDim","axes","SymbolicTensor","sourceLayer","inputs","callArgs","outputTensorIndex","_nextNodeID","Node","outboundLayer","inboundLayers","nodeIndices","tensorIndices","inputTensors","outputTensors","inputMasks","outputMasks","inputShapes","outputShapes","outboundNodes","inboundNodes","_nextLayerID","Layer","_callHook","_addedWeightNames","_stateful","activityRegularizer","inputSpec","supportsMasking","_trainableWeights","_nonTrainableWeights","_losses","_updates","_built","inputShape","batchInputShape","batchSize","inputDType","weights","initialWeights","_refCount","fastWeightInitDuringBuild","nodeKey","getNodeAtIndex","getInputAt","getOutputAt","calculateLosses","losses","filter","trainableWeights","nonTrainableWeights","resetStates","stateful","assertInputCompatibility","invokeCallHook","setCallHook","clearCallHook","built","build","setWeights","clone","collectInputShape","computeOutputShape","guessOutputDType","warnOnIncompatibleInputShape","addInboundNode","countParams","getWeights","arraysEqual","addWeight","addLoss","setFastWeightInitDuringBuild","computeMask","nodeIndex","tensorIndex","disposeWeights","refCountAfterDispose","numDisposedVariables","getSourceInputs","ModelLoggingVerbosity","InputLayer","sparse","Input","batchShape","resolveScalarsInLogs","data","disposeTensorsInLogs","SILENT","VERBOSE","DEFAULT_YIELD_EVERY_MS","BaseCallback","validationData","setParams","params","onEpochBegin","onEpochEnd","onBatchBegin","onBatchEnd","onTrainBegin","onTrainEnd","setModel","CallbackList","callbacks","queueLength","append","BaseLogger","seen","totals","size","metrics","History","epoch","history","syncData","CustomCallback","currentEpoch","yieldEvery","onYield","isNumber","maybeWait","bind","trainBegin","trainEnd","epochBegin","epochEnd","batchBegin","batchEnd","yield","standardizeCallbacks","CallbackConstructorRegistry","registerCallbackConstructor","checkForDuplicate","constructors","clear","createCallbacks","configureCallbacks","epochs","initialEpoch","samples","steps","verbose","doValidation","callbackList","deserialize","l2Normalize","meanSquaredError","meanAbsoluteError","meanAbsolutePercentageError","MAX_VALUE","meanSquaredLogarithmicError","squaredHinge","hinge","categoricalHinge","logcosh","categoricalCrossentropy","toFloat","sparseCategoricalCrossentropy","sigmoidCrossEntropyWithLogits","exp","log1p","binaryCrossentropy","kullbackLeiblerDivergence","poisson","cosineProximity","lossesMap","includes","binaryAccuracy","categoricalAccuracy","truePositives","falseNegatives","falsePositives","precision","recall","binaryCrossentropy$1","sparseCategoricalAccuracy","mse$1","MSE$1","mae$1","MAE$1","mape$1","MAPE$1","categoricalCrossentropy$1","cosine$1","sparseCategoricalCrossentropy$1","metricsMap","mse","MSE","mae","MAE","mape","MAPE","cosine","get$1","getLossOrMetricName","getOptimizer","Adagrad","adagrad","Adadelta","adadelta","Adam","adam","Adamax","adamax","RMSProp","rmsprop","SGD","sgd","MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH","checkUserDefinedMetadata","getPrototypeOf","plainObjectCheck","printSummary","isModelSequentialLike","nodesByDepth","printRow","layers","printLayerSummary","printLayerSummaryWithConnections","checkTrainableWeightsConsistency","countTrainableParams","collectedTrainableWeights","outputShape","isArrayItemInputOrOutputName","convertPythonicToTs","convertTsToPythonic","version","assertFeedCompatibility","FeedDict","id2Value","id2Mask","name2Id","key","addFeed","hasKey","names","getValue","getMask","disposeMasks","cachedSorted","cachedRecipientCounts","execute","training","maxNumTensors","minNumTensors","getTopologicalSortAndRecipientCounts","sorted","recipientCounts","numTensors","C","E","N","k","x","mask","L","T","D","getNodeOutputs","O","R","M","getTopologicalSortAndRecipientCountsForOneFetch","recipientMap","Set","recipientMap2Counts","output","Container","containerNodes","outputs","inputLayers","inputLayersNodeIndices","inputLayersTensorIndices","outputLayers","outputLayersNodeIndices","outputLayersTensorIndices","internalContainerRefs","inputNames","outputNames","feedInputShapes","feedInputNames","feedOutputNames","internalInputShapes","internalOutputShapes","K","P","F","sort","V","B","U","j","W","layersByDepth","$","q","G","H","J","Z","Y","X","Q","ee","te","ne","re","ie","loadWeights","updatedConfig","kerasVersion","toJSON","runInternalGraph","buildNodeConversionMap","getLayer","fromConfig","standardizeSampleOrClassWeights","standardizeClassWeights","standardizeWeights","computeWeightedLoss","DEFAULT_VALIDATION_BATCH_SIZE","standardizeDataIteratorOutput","xs","ys","flattenTensorOrArrayOrMap","standardizeTensorValidationData","fitDataset","batchesPerEpoch","optimizer","validationSplit","isTraining","isDatasetObject","validationBatches","makeTrainFunction","getDedupedMetricsNames","getStepsPerEpoch","stopTraining_","batch","classWeight","evaluateDataset","batches","evaluate","validationBatchSize","metricsNames","isFinite","isLazyIteratorObject","testFunction","checkBatchSize","sliceArrays","sliceArraysByIndices","makeBatches","fitLoop","checkNumSamples","shuffle","testLoop","fitTensors","standardizeUserData","sampleWeight","validationSteps","makeTestFunction","disposeNewTensors","ensureTensorsRank2OrHigher","isDataTensor","isDataArray","isDataDict","standardizeInputData","checkArrayLengths","checkLossAndTargetCompatibility","checkInputData","collectMetrics","LAYERS_MODEL_FORMAT_NAME","LayersModel","summary","compile","loss","optimizer_","isOptimizerOwned","lossFunctions","feedOutputShapes","feedLossFns","metricsTensors","standardizeUserDataXY","retrieveSymbolicTensors","predictLoop","predict","predictOnBatch","minimize","fit","trainOnBatch","getNamedWeights","trainableOnly","tensor","getLossIdentifiers","getMetricIdentifiers","getTrainingConfig","optimizer_config","class_name","loadTrainingConfig","weighted_metrics","loss_weights","sample_weight_mode","save","getSaveHandlers","encodeWeights","modelTopology","format","generatedBy","convertedBy","includeOptimizer","trainingConfig","specs","concatenateArrayBuffers","userDefinedMetadata","weightData","weightSpecs","setUserDefinedMetadata","getUserDefinedMetadata","modelFromJSON","model_config","weightsManifest","pathPrefix","loadLayersModelInternal","getLoadHandlers","onProgress","browserHTTPRequest","loadLayersModelFromIOHandler","load","strict","decodeModelAndOptimizerWeights","modelWeights","optimizerWeights","decodeWeights","group","Sequential","checkShape","some","model","stopTraining","sequential","loadLayersModel","input","Activation","Elu","Selu","Relu","Relu6","Linear","Sigmoid","HardSigmoid","Softplus","Softsign","Tanh","Softmax","LogSoftmax","serializeActivation","deserializeActivation","getActivation","assertObjectArgs","Regularizer","L1L2","l1","l2","hasL1","hasL2","asScalar","REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP","l1l2","serializeRegularizer","deserializeRegularizer","getRegularizer","ReLU","LeakyReLU","DEFAULT_ALPHA","alpha","PReLU","DEFAULT_ALPHA_INITIALIZER","alphaInitializer","alphaRegularizer","alphaConstraint","sharedAxes","ELU","ThresholdedReLU","DEFAULT_THETA","theta","Softmax$1","DEFAULT_AXIS","normalizeArray","convOutputLength","deconvLength","preprocessConv2DInput","preprocessConv3DInput","conv1dWithBias","conv2dWithBiasActivation","conv2d","strides","dilations","dataFormat","conv3dWithBias","BaseConv","DEFAULT_KERNEL_INITIALIZER","DEFAULT_BIAS_INITIALIZER","verifyArgs","kernelSize","padding","useBias","biasInitializer","biasConstraint","biasRegularizer","dilationRate","Conv","kernel","filters","kernelInitializer","kernelConstraint","kernelRegularizer","Conv2D","Conv3D","Conv2DTranspose","SeparableConv","DEFAULT_DEPTHWISE_INITIALIZER","DEFAULT_POINTWISE_INITIALIZER","depthwiseKernel","pointwiseKernel","depthMultiplier","depthwiseInitializer","depthwiseRegularizer","depthwiseConstraint","pointwiseInitializer","pointwiseRegularizer","pointwiseConstraint","SeparableConv2D","Conv1D","Cropping2D","cropping","UpSampling2D","DEFAULT_SIZE","resizeNearestNeighbor","depthwiseConv2d$1","DepthwiseConv2D","Dropout","noiseShape","getNoiseShape","Dense","inputDim","units","Flatten","Activation$1","RepeatVector","Reshape","targetShape","isUnknown","fixUnknownDimension","Permute","dims","dimsIncludingBatch","Masking","maskValue","Embedding","embeddings","DEFAULT_EMBEDDINGS_INITIALIZER","inputLength","outputDim","embeddingsInitializer","embeddingsRegularizer","embeddingsConstraint","maskZero","as1D","Merge","mergeFunction","computeElementwiseOpOutputShape","reshapeRequired","Add","Multiply","Average","Maximum","Minimum","Concatenate","interpretAxis","batchDot","Dot","normalize","interpretAxes","GaussianNoise","GaussianDropout","AlphaDropout","_getNoiseShape","pow","batchNormalization","regularNormalizeBatchInTraining","variance","broadcastNormalizeBatchInTraining","normalizeBatchInTraining","BatchNormalization","momentum","center","betaInitializer","gammaInitializer","movingMeanInitializer","movingVarianceInitializer","betaConstraint","gammaConstraint","betaRegularizer","gammaRegularizer","gamma","beta","movingMean","movingVariance","LayerNormalization","spatial2dPadding","ZeroPadding2D","pool2d","pool3d","Pooling1D","poolSize","poolingFunction","MaxPooling1D","AveragePooling1D","Pooling2D","MaxPooling2D","AveragePooling2D","Pooling3D","MaxPooling3D","AveragePooling3D","GlobalPooling1D","GlobalAveragePooling1D","GlobalMaxPooling1D","GlobalPooling2D","GlobalAveragePooling2D","GlobalMaxPooling2D","standardizeArgs","initialState","constants","rnn","addStrict","newStates","RNN","cell","StackedRNNCells","cells","stateSize","returnSequences","returnState","goBackwards","unroll","stateSpec","states_","numConstants","keptStates","getStates","setStates","states","getInitialState","RNNCell","SimpleRNNCell","DEFAULT_ACTIVATION","DEFAULT_RECURRENT_INITIALIZER","recurrentInitializer","recurrentRegularizer","recurrentConstraint","recurrentDropout","dropoutMask","recurrentDropoutMask","recurrentKernel","generateDropoutMask","SimpleRNN","GRUCell","DEFAULT_RECURRENT_ACTIVATION","recurrentActivation","implementation","GRU","implmentation","LSTMCell","unitForgetBias","LSTM","Wrapper","layer","TimeDistributed","checkBidirectionalMergeMode","DEFAULT_BIDIRECTIONAL_MERGE_MODE","Bidirectional","forwardLayer","backwardLayer","mergeMode","_trainable","inputLayer","elu$2","reLU","leakyReLU","prelu$1","softmax$1","thresholdedReLU","conv1d$2","conv2d$1","conv2dTranspose$1","conv3d$2","separableConv2d$1","cropping2D","upSampling2d","depthwiseConv2d$2","dense","dropout$2","flatten$1","repeatVector","permute","embedding","add$2","average$1","concatenate$2","maximum$2","minimum$2","multiply$1","dot$1","batchNormalization$1","layerNormalization","zeroPadding2d","averagePooling1d","avgPool1d","avgPooling1d","averagePooling2d","avgPool2d","avgPooling2d","averagePooling3d","avgPool3d$1","avgPooling3d","globalAveragePooling1d","globalAveragePooling2d","globalMaxPooling1d","globalMaxPooling2d","maxPooling1d","maxPooling2d","maxPooling3d","gru","gruCell","lstm","lstmCell","simpleRNN","simpleRNNCell","rnn$1","stackedRNNCells","bidirectional","timeDistributed","globalMaxPool1d","globalMaxPool2d","maxPool1d","maxPool2d","gaussianNoise","gaussianDropout","alphaDropout","masking","exports_layers","average","multiply","binaryAccuracy$1","binaryCrossentropy$2","sparseCategoricalAccuracy$1","categoricalAccuracy$1","categoricalCrossentropy$2","precision$1","recall$1","cosineProximity$1","meanAbsoluteError$1","meanAbsolutePercentageError$1","MAPE$2","mape$2","meanSquaredError$1","MSE$2","mse$2","exports_metrics","exports_models","l1$1","l2$1","exports_regularizers","Callback","less","greater$1","EarlyStopping","restoreBestWeights","monitor","minDelta","patience","baseline","monitorFunc","wait","stoppedEpoch","best","getMonitorValue","earlyStopping","constraints","initializers","models","regularizers","version_layers"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport{backend,util,tidy,onesLike,scalar,tensor1d,where,zerosLike,serialization,train,cast,dispose,memory,add,mul,div,keep,nextFrame,Tensor,Optimizer,concat,mean,io,transpose,expandDims,reverse,unstack,stack,zeros,sum,split,neg,variable,ones,eye,randomUniform,truncatedNormal,randomNormal,sub,sqrt,mulStrict,clipByValue,relu,linalg,leakyRelu,prelu,elu,conv1d,fused,conv3d,conv2dTranspose,separableConv2d,depthwiseConv2d,any,notEqual,logicalAnd,maximum,minimum,all,greaterEqual,batchNorm2d,batchNorm3d,batchNorm4d,moments,pad,maxPool,avgPool,maxPool3d,avgPool3d,squeeze,max,fill,abs,log,softplus,softmax,floor,oneHot,greater,equal,argMax,slice1d,slice2d,slice3d,slice4d,concat1d,concat2d,concat3d,concat4d,tile,gather,dropout,min,selu,sigmoid,tanh,logSoftmax}from\"@tensorflow/tfjs-core\";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _epsilon,__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function epsilon(){return null==_epsilon&&(_epsilon=backend().epsilon()),_epsilon}function imageDataFormat(){return\"channelsLast\"}var AttributeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),RuntimeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),ValueError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),NotImplementedError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),AssertionError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),IndexError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error);function pyListRepeat(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function assert(e,t){if(!e)throw new AssertionError(t)}function count(e,t){for(var n=0,r=0,i=e;r<i.length;r++){i[r]===t&&n++}return n}function singletonOrArray(e){return 1===e.length?e[0]:e}function toList(e){return Array.isArray(e)?e:[e]}function toSnakeCase(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,\"$1_$2\").replace(/([a-z])([A-Z])/g,\"$1_$2\").toLowerCase();return\"_\"!==t[0]?t:\"private\"+t}function toCamelCase(e){return e.length<=1?e:-1===e.indexOf(\"_\")?e:e.replace(/[_]+(\\w|$)/g,function(e,t){return t.toUpperCase()})}var _GLOBAL_CUSTOM_OBJECTS={};function serializeKerasObject(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function convertNDArrayScalarsInConfig(e){if(null!=e&&\"object\"==typeof e)if(Array.isArray(e))e.forEach(function(e){return convertNDArrayScalarsInConfig(e)});else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];null!=i&&\"object\"==typeof i&&(Array.isArray(i)||\"ndarray\"!==i.type||\"number\"!=typeof i.value?convertNDArrayScalarsInConfig(i):e[r]=i.value)}}function deserializeKerasObject(e,t,n,r,i){var a,o,s;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r=\"object\"),void 0===i&&(i=!1),\"string\"==typeof e){var l=e,u=void 0;if(l in n)u=n[l];else if(l in _GLOBAL_CUSTOM_OBJECTS)u=_GLOBAL_CUSTOM_OBJECTS[l];else if(null==(u=t[l]))throw new ValueError(\"Unknown \"+r+\": \"+e+\". This may be due to one of the following reasons:\\n1. The \"+r+\" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \"+r+\" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");return u}var c=e;if(null==c.className||null==c.config)throw new ValueError(r+\": Improper config format: \"+JSON.stringify(c)+\".\\n'className' and 'config' must set.\");var p=c.className,h=void 0,d=void 0;if(p in n?(h=(a=n[p])[0],d=a[1]):p in _GLOBAL_CUSTOM_OBJECTS?(h=(o=_GLOBAL_CUSTOM_OBJECTS.className)[0],d=o[1]):p in t&&(h=(s=t[p])[0],d=s[1]),null==h)throw new ValueError(\"Unknown \"+r+\": \"+p+\". This may be due to one of the following reasons:\\n1. The \"+r+\" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \"+r+\" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");if(null!=d){for(var f={},g=0,m=Object.keys(_GLOBAL_CUSTOM_OBJECTS);g<m.length;g++){f[S=m[g]]=_GLOBAL_CUSTOM_OBJECTS[S]}for(var y=0,v=Object.keys(n);y<v.length;y++){f[S=v[y]]=n[S]}c.config.customObjects=f;for(var b=__assign({},_GLOBAL_CUSTOM_OBJECTS),w=0,z=Object.keys(n);w<z.length;w++){var S=z[w];_GLOBAL_CUSTOM_OBJECTS[S]=n[S]}convertNDArrayScalarsInConfig(c.config);var A=d(h,c.config,n,i);return _GLOBAL_CUSTOM_OBJECTS=__assign({},b),A}b=__assign({},_GLOBAL_CUSTOM_OBJECTS);for(var _=0,I=Object.keys(n);_<I.length;_++){S=I[_];_GLOBAL_CUSTOM_OBJECTS[S]=n[S]}A=new h(c.config);return _GLOBAL_CUSTOM_OBJECTS=__assign({},b),A}function numberCompare(e,t){return e<t?-1:e>t?1:0}function reverseNumberCompare(e,t){return-1*numberCompare(e,t)}function unique(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function isObjectEmpty(e){if(null==e)throw new ValueError(\"Invalid value in obj: \"+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function checkStringTypeUnionValue(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ValueError(n+\" is not a valid \"+t+\".  Valid values are \"+e+\" or null/undefined.\")}function checkArrayTypeAndLength(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),assert(n>=0),assert(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(function(e){return typeof e===t})}function assertPositiveInteger(e,t){Array.isArray(e)?(util.assert(e.length>0,function(){return t+\" is unexpectedly an empty array.\"}),e.forEach(function(e,n){return assertPositiveInteger(e,\"element \"+(n+1)+\" of \"+t)})):util.assert(Number.isInteger(e)&&e>0,function(){return\"Expected \"+t+\" to be a positive integer, but got \"+formatAsFriendlyString(e)+\".\"})}function formatAsFriendlyString(e){return null===e?\"null\":Array.isArray(e)?\"[\"+e.map(function(e){return formatAsFriendlyString(e)}).join(\",\")+\"]\":\"string\"==typeof e?'\"'+e+'\"':\"\"+e}function debounce(e,t){var n,r=util.now();return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=util.now();return o-r<t?n:(r=o,n=e.apply(void 0,i))}}function mapActivationToFusedKernel(e){return\"relu\"===e?\"relu\":\"linear\"===e?\"linear\":\"elu\"===e?\"elu\":null}function calcL2Norms(e,t){return tidy(function(){return sqrt(sum(mulStrict(e,e),t,!0))})}var Constraint=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),MaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=calcL2Norms(e,t.axis),r=clipByValue(n,0,t.maxValue);return mul(e,div(r,add(epsilon(),n)))})},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className=\"MaxNorm\",t}(Constraint);serialization.registerClass(MaxNorm);var UnitNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){return div(e,add(epsilon(),calcL2Norms(e,t.axis)))})},t.prototype.getConfig=function(){return{axis:this.axis}},t.className=\"UnitNorm\",t}(Constraint);serialization.registerClass(UnitNorm);var NonNeg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return relu(e)},t.className=\"NonNeg\",t}(Constraint);serialization.registerClass(NonNeg);var MinMaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=calcL2Norms(e,t.axis),r=add(mul(t.rate,clipByValue(n,t.minValue,t.maxValue)),mul(1-t.rate,n));return mul(e,div(r,add(epsilon(),n)))})},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className=\"MinMaxNorm\",t}(Constraint);serialization.registerClass(MinMaxNorm);var CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP={maxNorm:\"MaxNorm\",minMaxNorm:\"MinMaxNorm\",nonNeg:\"NonNeg\",unitNorm:\"UnitNorm\"};function serializeConstraint(e){return serializeKerasObject(e)}function deserializeConstraint(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"constraint\")}function getConstraint(e){return null==e?null:\"string\"==typeof e?deserializeConstraint({className:e in CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP?CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Constraint?e:deserializeConstraint(e)}function maxNorm(e){return new MaxNorm(e)}function unitNorm(e){return new UnitNorm(e)}function nonNeg(){return new NonNeg}function minMaxNorm(e){return new MinMaxNorm(e)}var exports_constraints=Object.freeze({maxNorm:maxNorm,unitNorm:unitNorm,nonNeg:nonNeg,minMaxNorm:minMaxNorm}),VALID_DATA_FORMAT_VALUES=[\"channelsFirst\",\"channelsLast\"],VALID_PADDING_MODE_VALUES=[\"valid\",\"same\",\"causal\"],VALID_POOL_MODE_VALUES=[\"max\",\"avg\"],VALID_BIDIRECTIONAL_MERGE_MODES=[\"sum\",\"mul\",\"concat\",\"ave\"],nameMap=new Map;function checkDataFormat(e){checkStringTypeUnionValue(VALID_DATA_FORMAT_VALUES,\"DataFormat\",e)}function checkPaddingMode(e){checkStringTypeUnionValue(VALID_PADDING_MODE_VALUES,\"PaddingMode\",e)}function checkPoolMode(e){checkStringTypeUnionValue(VALID_POOL_MODE_VALUES,\"PoolMode\",e)}var _nameScopeStack=[],_nameScopeDivider=\"/\";function nameScope(e,t){_nameScopeStack.push(e);try{var n=t();return _nameScopeStack.pop(),n}catch(e){throw _nameScopeStack.pop(),e}}function currentNameScopePrefix(){return 0===_nameScopeStack.length?\"\":_nameScopeStack.join(_nameScopeDivider)+_nameScopeDivider}function getScopedTensorName(e){if(!isValidTensorName(e))throw new Error(\"Not a valid tensor name: '\"+e+\"'\");return currentNameScopePrefix()+e}function getUniqueTensorName(e){if(!isValidTensorName(e))throw new Error(\"Not a valid tensor name: '\"+e+\"'\");nameMap.has(e)||nameMap.set(e,0);var t=nameMap.get(e);if(nameMap.set(e,nameMap.get(e)+1),t>0){var n=e+\"_\"+t;return nameMap.set(n,1),n}return e}var tensorNameRegex=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\\._\\/]*$/);function isValidTensorName(e){return!!e.match(tensorNameRegex)}function isInteger(e){return e===parseInt(e.toString(),10)}function arrayProd(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function toArray1D(e){return e=Array.isArray(e)?new Float32Array(e):e,tensor1d(e)}function min$1(e){return min(toArray1D(e)).dataSync()[0]}function max$1(e){return max(toArray1D(e)).dataSync()[0]}function range(e,t){if(t<e)throw new ValueError(\"end (\"+t+\") < begin (\"+e+\") is forbidden.\");for(var n=[],r=e;r<t;++r)n.push(r);return n}function cast$1(e,t){return e.asType(t)}function expandDims$1(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function repeat(e,t){return tidy(function(){if(2!==e.shape.length)throw new ValueError(\"repeat() expects a rank-2 tensor, but received a rank-\"+e.shape.length+\" tensor.\");return tile$1(expandDims$1(e,1),[1,t,1])})}function flatten(e){var t=[arrayProd(e.shape)];return e.reshape(t)}function batchFlatten(e){if(e.rank<=1)throw new ValueError(\"batchFlatten requires a minimum rank of 2. Got rank: \"+e.rank+\".\");var t=[e.shape[0],arrayProd(e.shape,1)];return e.reshape(t)}function sliceAlongFirstAxis(e,t,n){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:return slice2d(e,[t,0],[n,e.shape[1]]);case 3:return slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);default:throw new ValueError(\"sliceAlongFirstAxis() received an unsupported tensor rank: \"+e.rank)}})}function sliceAlongLastAxis(e,t,n){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:return slice2d(e,[0,t],[e.shape[0],n]);case 3:return slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \"+e.rank)}})}function sliceAlongAxis(e,t,n,r){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}case 3:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}case 4:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}default:throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \"+e.rank)}})}function concatenate(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),concat(e,t)}function concatAlongFirstAxis(e,t){switch(e.rank){case 1:return concat1d([e,t]);case 2:return concat2d([e,t],0);case 3:return concat3d([e,t],0);case 4:return concat4d([e,t],0);default:throw new ValueError(\"concatAlongFirstAxis() received an unsupported tensor rank: \"+e.rank)}}function tile$1(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ValueError(\"The length of input n (\"+t.length+\") does not match the number of dimensions in input x (\"+e.rank+\")\");return tile(e,t)}function randomNormal$1(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),randomNormal(e,t,n,r,i)}function dot(e,t,n,r){if(e.rank<2||t.rank<2)throw new NotImplementedError(\"dot requires both inputs to be rank >= 2 but got x shape = \"+e.shape+\" and y shape = \"+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(c=t.shape.slice(-2)[0]))throw new NotImplementedError(\"If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = \"+e.shape+\" and  y shape = \"+t.shape);if(2===e.rank&&2===t.rank){var i=!1,a=!1;return fused.matMul({a:e,b:t,transposeA:i,transposeB:a,bias:r?reshapeBias(e.rank,r,imageDataFormat()):null,activation:n})}var o=e.shape.slice(),s=o.pop();e=e.reshape([-1,s]);var l=t.shape.slice(),u=l.pop(),c=l.pop(),p=l.concat([u]),h=Array.from({length:t.rank},function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n});t=t.transpose(h).reshape([c,-1]);var d=o.concat(p);i=!1,a=!1;return fused.matMul({a:e,b:t,transposeA:i,transposeB:a,bias:r?reshapeBias(e.rank,r,imageDataFormat()):null,activation:n}).reshape(d)}function gather$1(e,t,n){return tidy(function(){return t=Array.isArray(t)?tensor1d(t,\"int32\"):t.toInt(),gather(e,t,n)})}function square(e){return mulStrict(e,e)}function reshapeBias(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ValueError(\"Unexpected bias dimensions: \"+t.rank+\"; expected it to be 1 or \"+e);if(5===e){if(\"channelsFirst\"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if(\"channelsLast\"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if(\"channelsFirst\"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if(\"channelsLast\"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if(\"channelsFirst\"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if(\"channelsLast\"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new ValueError(\"Unsupported input rank by biasAdd: \"+t.rank)}function biasAdd(e,t,n){return tidy(function(){return null==n&&(n=imageDataFormat()),checkDataFormat(n),e.add(reshapeBias(e.rank,t,n))})}function elu$1(e,t){if(void 0===t&&(t=1),1!==t)throw new NotImplementedError(\"Support for alpha values other than 1 (\"+t+\") is not implemented yet.\");return elu(e)}function softsign(e){return tidy(function(){return div(e,abs(e).add(1))})}function dropout$1(e,t,n,r){return tidy(function(){return dropout(e,t,n,r)})}function hardSigmoid(e){return tidy(function(){var t=add(.5,mul(.2,e));return clipByValue(t,0,1)})}function inTrainPhase(e,t,n){return void 0===n&&(n=!1),n?e():t()}var VALID_FAN_MODE_VALUES=[\"fanIn\",\"fanOut\",\"fanAvg\"],VALID_DISTRIBUTION_VALUES=[\"normal\",\"uniform\",\"truncatedNormal\"];function checkFanMode(e){checkStringTypeUnionValue(VALID_FAN_MODE_VALUES,\"FanMode\",e)}function checkDistribution(e){checkStringTypeUnionValue(VALID_DISTRIBUTION_VALUES,\"Distribution\",e)}var Initializer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),Zeros=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return zeros(e,t)},t.className=\"Zeros\",t}(Initializer);serialization.registerClass(Zeros);var Ones=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return ones(e,t)},t.className=\"Ones\",t}(Initializer);serialization.registerClass(Ones);var Constant=function(e){function t(t){var n=e.call(this)||this;if(\"object\"!=typeof t)throw new ValueError(\"Expected argument of type ConstantConfig but got \"+t);if(void 0===t.value)throw new ValueError(\"config must have value set but got \"+t);return n.value=t.value,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){return mul(scalar(n.value),ones(e,t))})},t.prototype.getConfig=function(){return{value:this.value}},t.className=\"Constant\",t}(Initializer);serialization.registerClass(Constant);var RandomUniform=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){return randomUniform(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className=\"RandomUniform\",t}(Initializer);serialization.registerClass(RandomUniform);var RandomNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(\"randomNormal does not support dType \"+t+\".\");return randomNormal$1(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className=\"RandomNormal\",t}(Initializer);serialization.registerClass(RandomNormal);var TruncatedNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(\"truncatedNormal does not support dType \"+t+\".\");return truncatedNormal(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className=\"TruncatedNormal\",t}(Initializer);serialization.registerClass(TruncatedNormal);var Identity=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){if(2!==e.length||e[0]!==e[1])throw new ValueError(\"Identity matrix initializer can only be used for 2D square matrices.\");return mul(n.gain,eye(e[0]))})},t.prototype.getConfig=function(){return{gain:this.gain}},t.className=\"Identity\",t}(Initializer);function computeFans(e,t){var n,r;if(void 0===t&&(t=\"channelsLast\"),checkDataFormat(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if(\"channelsFirst\"===t){var i=arrayProd(e,2);n=e[1]*i,r=e[0]*i}else if(\"channelsLast\"===t){i=arrayProd(e,0,e.length-2);n=e[e.length-2]*i,r=e[e.length-1]*i}}else{var a=arrayProd(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}serialization.registerClass(Identity);var VarianceScaling=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new ValueError(\"scale must be a positive float. Got: \"+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?\"fanIn\":t.mode,checkFanMode(n.mode),n.distribution=null==t.distribution?\"normal\":t.distribution,checkDistribution(n.distribution),n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=computeFans(e),r=n[0],i=n[1],a=this.scale;if(\"fanIn\"===this.mode?a/=Math.max(1,r):\"fanOut\"===this.mode?a/=Math.max(1,i):a/=Math.max(1,(r+i)/2),\"normal\"===this.distribution){var o=Math.sqrt(a);if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(this.getClassName()+\" does not support dType \"+t+\".\");return truncatedNormal(e,0,o,t,this.seed)}var s=Math.sqrt(3*a);return randomUniform(e,-s,s,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className=\"VarianceScaling\",t}(Initializer);serialization.registerClass(VarianceScaling);var GlorotUniform=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanAvg\",distribution:\"uniform\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"GlorotUniform\",t}(VarianceScaling);serialization.registerClass(GlorotUniform);var GlorotNormal=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanAvg\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"GlorotNormal\",t}(VarianceScaling);serialization.registerClass(GlorotNormal);var HeNormal=function(e){function t(t){return e.call(this,{scale:2,mode:\"fanIn\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"HeNormal\",t}(VarianceScaling);serialization.registerClass(HeNormal);var HeUniform=function(e){function t(t){return e.call(this,{scale:2,mode:\"fanIn\",distribution:\"uniform\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"HeUniform\",t}(VarianceScaling);serialization.registerClass(HeUniform);var LeCunNormal=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanIn\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"LeCunNormal\",t}(VarianceScaling);serialization.registerClass(LeCunNormal);var LeCunUniform=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanIn\",distribution:\"uniform\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"LeCunNormal\",t}(VarianceScaling);serialization.registerClass(LeCunUniform);var Orthogonal=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new NotImplementedError(\"Random seed is not implemented for Orthogonal Initializer yet.\");return n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){if(2!==e.length)throw new NotImplementedError(\"The Orthogonal Initializer does not support non-2D shapes yet.\");e[0]*e[1]>2e3&&console.warn(\"Orthogonal initializer is being called on a matrix with more than 2000 (\"+e[0]*e[1]+\") elements: Slowness may result.\");var t=randomNormal$1(e[0]>e[1]?[e[1],e[0]]:e,0,1,\"float32\"),r=linalg.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),mul(n.gain,r)})},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className=\"Orthogonal\",t}(Initializer);serialization.registerClass(Orthogonal);var INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={constant:\"Constant\",glorotNormal:\"GlorotNormal\",glorotUniform:\"GlorotUniform\",heNormal:\"HeNormal\",heUniform:\"HeUniform\",identity:\"Identity\",leCunNormal:\"LeCunNormal\",leCunUniform:\"LeCunUniform\",ones:\"Ones\",orthogonal:\"Orthogonal\",randomNormal:\"RandomNormal\",randomUniform:\"RandomUniform\",truncatedNormal:\"TruncatedNormal\",varianceScaling:\"VarianceScaling\",zeros:\"Zeros\"};function deserializeInitializer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"initializer\")}function serializeInitializer(e){return serializeKerasObject(e)}function getInitializer(e){if(\"string\"==typeof e){var t=e in INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e;if(\"GlorotNormal\"===t)return new GlorotNormal;if(\"GlorotUniform\"===t)return new GlorotUniform;if(\"HeNormal\"===t)return new HeNormal;if(\"HeUniform\"===t)return new HeUniform;if(\"LeCunNormal\"===t)return new LeCunNormal;if(\"LeCunUniform\"===t)return new LeCunUniform;var n={};return n.className=t,n.config={},deserializeInitializer(n)}return e instanceof Initializer?e:deserializeInitializer(e)}function zeros$1(){return new Zeros}function ones$1(){return new Ones}function constant(e){return new Constant(e)}function randomUniform$1(e){return new RandomUniform(e)}function randomNormal$2(e){return new RandomNormal(e)}function truncatedNormal$1(e){return new TruncatedNormal(e)}function identity(e){return new Identity(e)}function varianceScaling(e){return new VarianceScaling(e)}function glorotUniform(e){return new GlorotUniform(e)}function glorotNormal(e){return new GlorotNormal(e)}function heNormal(e){return new HeNormal(e)}function heUniform(e){return new HeUniform(e)}function leCunNormal(e){return new LeCunNormal(e)}function leCunUniform(e){return new LeCunUniform(e)}function orthogonal(e){return new Orthogonal(e)}var exports_initializers=Object.freeze({zeros:zeros$1,ones:ones$1,constant:constant,randomUniform:randomUniform$1,randomNormal:randomNormal$2,truncatedNormal:truncatedNormal$1,identity:identity,varianceScaling:varianceScaling,glorotUniform:glorotUniform,glorotNormal:glorotNormal,heNormal:heNormal,heUniform:heUniform,leCunNormal:leCunNormal,leCunUniform:leCunUniform,orthogonal:orthogonal}),_nextUniqueTensorId=0;function getNextUniqueTensorId(){return _nextUniqueTensorId++}var _uidPrefixes={};function getUid(e){return void 0===e&&(e=\"\"),e in _uidPrefixes||(_uidPrefixes[e]=0),_uidPrefixes[e]+=1,e+_uidPrefixes[e].toString()}function isArrayOfShapes(e){return Array.isArray(e)&&Array.isArray(e[0])}function normalizeShapeList(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function getExactlyOneTensor(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ValueError(\"Expected Tensor length to be 1; got \"+e.length);t=e[0]}else t=e;return t}function getExactlyOneShape(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ValueError(\"Expected exactly 1 Shape; got \"+e.length)}return e}function countParamsInWeights(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce(function(e,t){return e*t})}return t}var DEFAULT_VARIABLE_NAME_PREFIX=\"Variable\",LayerVariable=function(){function e(e,t,n,r,i){void 0===t&&(t=\"float32\"),void 0===n&&(n=DEFAULT_VARIABLE_NAME_PREFIX),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==t?\"float32\":t,this.shape=e.shape,this.id=getNextUniqueTensorId(),n=null==n?DEFAULT_VARIABLE_NAME_PREFIX:n,this.originalName=getScopedTensorName(n),this.name=getUniqueTensorName(this.originalName),this.trainable_=r,this.constraint=i,this.val=variable(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),checkShapesMatch(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error(\"LayersVariable \"+this.name+\" is already disposed.\")},Object.defineProperty(e.prototype,\"trainable\",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function checkShapesMatch(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error(\"Shape mismatch: \"+JSON.stringify(e.shape)+\" vs. \"+JSON.stringify(t.shape))}function batchGetValue(e){return e.map(function(e){return e.read()})}function batchSetValue(e){e.forEach(function(e){e[0].write(e[1])})}var InputSpec=function(){return function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}(),SymbolicTensor=function(){return function(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=getNextUniqueTensorId(),null!=a&&(this.originalName=getScopedTensorName(a),this.name=getUniqueTensorName(this.originalName)),this.rank=t.length}}(),_nextNodeID=0,Node=function(){function e(e,t){this.callArgs=t,this.id=_nextNodeID++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),_nextLayerID=0,Layer=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=_nextLayerID++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=toSnakeCase(i)+\"_\"+getUid(i)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var a=void 0;if(null!=t.batchInputShape)a=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),a=[o].concat(t.inputShape)}n.batchInputShape=a;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s=\"float32\"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return __extends(t,e),t.nodeKey=function(e,t){return e.name+\"_ib-\"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new RuntimeError(\"The layer has never been called and thus has no defined \"+t+\".\");if(this.inboundNodes.length<=e)throw new ValueError(\"Asked to get \"+t+\" at node \"+e+\", but the layer has only \"+this.inboundNodes.length+\" inbound nodes.\");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,\"input\").inputTensors)},t.prototype.getOutputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,\"output\").outputTensors)},Object.defineProperty(t.prototype,\"input\",{get:function(){if(this.inboundNodes.length>1)throw new AttributeError(\"Layer \"+this.name+' has multiple inbound nodes, hence the notion of \"layer input\" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new AttributeError(\"Layer \"+this.name+\" is not connected, no input to return.\");return singletonOrArray(this.getNodeAtIndex(0,\"input\").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"output\",{get:function(){if(0===this.inboundNodes.length)throw new AttributeError(\"Layer \"+this.name+\" has no inbound nodes.\");if(this.inboundNodes.length>1)throw new AttributeError(\"Layer \"+this.name+' has multiple inbound nodes, hence the notion of \"layer output\" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return singletonOrArray(this.getNodeAtIndex(0,\"output\").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"losses\",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map(function(e){return e()})},Object.defineProperty(t.prototype,\"updates\",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"built\",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainable\",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach(function(t){return t.trainable=e}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.trainable_?this._trainableWeights.filter(function(e){return e.trainable}):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.trainable?this._trainableWeights.filter(function(e){return!e.trainable}).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"weights\",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"stateful\",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error(\"Cannot call the resetStates() method of a non-stateful Layer object.\")},t.prototype.assertInputCompatibility=function(e){if(e=toList(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=toList(this.inputSpec);if(e.length!==t.length)throw new ValueError(\"Layer \"+this.name+\" expects \"+t.length+\" inputs, but it received \"+e.length+\" input tensors. Input received: \"+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected ndim=\"+i.ndim+\", found ndim=\"+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected max_ndim=\"+i.maxNDim+\", found ndim=\"+a);if(null!=i.minNDim&&a<i.minNDim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected min_ndim=\"+i.minNDim+\", found ndim=\"+a+\".\");if(null!=i.dtype&&r.dtype!==i.dtype)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\" : expected dtype=\"+i.dtype+\", found dtype=\"+r.dtype+\".\");if(i.axes){var o=r.shape;for(var s in i.axes){var l=Number(s),u=i.axes[s],c=l>=0?o[l]:o[o.length+l];if(null!=u&&-1===[u,null].indexOf(c))throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected axis \"+l+\" of input shape to have value \"+u+\" but got shape \"+o+\".\")}}if(null!=i.shape)for(var p=0;p<i.shape.length;++p){var h=i.shape[p],d=r.shape[p];if(null!=h&&null!=d&&h!==d)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected shape=\"+i.shape+\", found shape=\"+r.shape+\".\")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=toList(e),i=!0,a=0,o=r;a<o.length;a++){if(!(o[a]instanceof SymbolicTensor)){i=!1;break}}for(var s=!0,l=0,u=r;l<u.length;l++){if(u[l]instanceof SymbolicTensor){s=!1;break}}if(i===s)throw new ValueError(\"Arguments to apply() must be all SymbolicTensors or all Tensors\");return nameScope(this.name,function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],a=0,o=toList(e);a<o.length;a++){var l=o[a];i.push(l.shape)}n.build(singletonOrArray(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var u=[],c=0,p=toList(g=n.call(e,t));c<p.length;c++){var h=p[c];-1!==r.indexOf(h)&&(h=h.clone()),u.push(h)}if(g=singletonOrArray(u),null!=n.activityRegularizer)throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");return g}var d=collectInputShape(e),f=n.computeOutputShape(d),g=void 0,m=guessOutputDType(e);if(n.warnOnIncompatibleInputShape(Array.isArray(e)?d[0]:d),g=null!=f&&f.length>0&&Array.isArray(f[0])?f.map(function(r,i){return new SymbolicTensor(m,r,n,toList(e),t,n.name,i)}):new SymbolicTensor(m,f,n,toList(e),t,n.name),n.addInboundNode(e,g,null,null,d,f,t),n._refCount++,null!=n.activityRegularizer)throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");return g})},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(\"The rank of the input tensor provided (shape: \"+JSON.stringify(e)+\") does not match that of the batchInputShape (\"+JSON.stringify(this.batchInputShape)+\") of the layer \"+this.name);else{var t=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn(\"The shape of the input tensor (\"+JSON.stringify(e)+\") does not match the expectation of layer \"+this.name+\": \"+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,\"outputShape\",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new AttributeError(\"The layer \"+this.name+\" has never been called and thus has no defined output shape.\");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new AttributeError(\"The layer \"+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of \"outut shape\" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new RuntimeError(\"You tried to call countParams() on \"+this.name+\", but the layer is not built yet. Build it first by calling build(batchInputShape).\");return countParamsInWeights(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),batchGetValue(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;tidy(function(){var n=t.weights;if(n.length!==e.length)throw new ValueError('You called setWeights(weights) on layer \"'+t.name+'\" with a weight list of length '+e.length+\", but the layer was expecting \"+n.length+\" weights. Provided weights: \"+e+\"...\");if(0!==n.length){for(var r=[],i=batchGetValue(n),a=0;a<i.length;++a){var o=i[a],s=n[a],l=e[a];if(!util.arraysEqual(o.shape,l.shape))throw new ValueError(\"Layer weight shape \"+o.shape+\" not compatible with provided weight shape \"+l.shape);r.push([s,l])}batchSetValue(r)}})},t.prototype.addWeight=function(e,t,n,r,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new ValueError(\"Duplicate weight name \"+e+\" for layer \"+this.name);this._addedWeightNames.push(e),null==n&&(n=\"float32\"),this.fastWeightInitDuringBuild&&(r=getInitializer(\"zeros\"));var s=r.apply(t,n),l=new LayerVariable(s,n,e,a,o);return s.dispose(),null!=i&&this.addLoss(function(){return i.apply(l.read())}),null==a&&(a=!0),a?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=toList(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(\"Layer \"+this.name+\" does not support masking, but was passed an inputMask.\");t.forEach(function(e){if(null!=e)throw new TypeError(\"Layer \"+n.name+\" does not support masking, but was passed an inputMask.\")})}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,a,o){void 0===o&&(o=null);var s=toList(e);t=toList(t),n=toList(n),r=toList(r),i=normalizeShapeList(i),a=normalizeShapeList(a);for(var l=[],u=[],c=[],p=0,h=s;p<h.length;p++){var d=h[p];l.push(d.sourceLayer),u.push(d.nodeIndex),c.push(d.tensorIndex)}new Node({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var f=0;f<t.length;f++)t[f].sourceLayer=this,t[f].nodeIndex=this.inboundNodes.length-1,t[f].tensorIndex=f},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach(function(e){return e.dispose()}),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error(\"Layer '\"+this.name+\"' is already disposed.\")},t.prototype.dispose=function(){if(!this.built)throw new Error(\"Cannot dispose Layer \"+this.name+\" because it has not been built yet.\");if(null===this._refCount)throw new Error(\"Cannot dispose Layer \"+this.name+\" because it has not been used yet.\");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(serialization.Serializable);function collectInputShape(e){for(var t=[],n=0,r=e=toList(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return singletonOrArray(t)}function guessOutputDType(e){return\"float32\"}function getSourceInputs(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++)for(var o=0,s=getSourceInputs(r.inputTensors[a],r.inboundLayers[a],r.nodeIndices[a]);o<s.length;o++){var l=s[o];-1===i.indexOf(l)&&i.push(l)}return i}var ModelLoggingVerbosity,InputLayer=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:getUid(\"input\").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new ValueError(\"Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.\");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new ValueError(\"An InputLayer should be passed either a `batchInputShape` or an `inputShape`.\");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new ValueError(\"Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.\");var i=t.dtype||\"float32\";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new SymbolicTensor(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new Node({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return __extends(t,e),t.prototype.apply=function(e,t){throw new ValueError(\"Cannot pass any input to an InputLayer's apply() method. InputLayer name: \"+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className=\"InputLayer\",t}(Layer);function Input(e){if(null==e.batchShape&&null==e.shape)throw new Error(\"Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.\");if(null!=e.batchShape&&null!=e.shape)throw new ValueError(\"Please provide either a `shape` or `batchShape` argument to Input, but not both.\");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n=\"float32\"),new InputLayer({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function resolveScalarsInLogs(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null==e)return[2];for(i in t=[],n=[],r=[],e)\"number\"!=typeof(a=e[i])&&(o=a,t.push(o.data()),n.push(i),r.push(o));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(s=u.sent(),l=0;l<s.length;++l)e[n[l]]=s[l][0];dispose(r),u.label=2;case 2:return[2]}})})}function disposeTensorsInLogs(e){if(null!=e)for(var t in e){var n=e[t];\"number\"!=typeof n&&n.dispose()}}serialization.registerClass(InputLayer),function(e){e[e.SILENT=0]=\"SILENT\",e[e.VERBOSE=1]=\"VERBOSE\"}(ModelLoggingVerbosity||(ModelLoggingVerbosity={}));var DEFAULT_YIELD_EVERY_MS=125,BaseCallback=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.setModel=function(e){},e}(),CallbackList=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setParams(e)}},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setModel(e)}},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),BaseLogger=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onEpochBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.seen=0,this.totals={},[2]})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a=this;return __generator(this,function(o){for(i in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var i=t[n];if(\"number\"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*e;else{var o=void 0;n in r.totals?o=r.totals[n]:r.totals[n]=0;var s=tidy(function(){return add(a.totals[n],mul(i,e))});r.totals[n]=s,null!=o&&o.dispose()}},r=this,t)n(i);return[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a,o=this;return __generator(this,function(s){if(null!=t)for(e=function(e){if(null==n.totals[e])return\"continue\";\"number\"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:tidy(function(){var n=mul(div(1,o.seen),o.totals[e]);t[e]=n,o.totals[e].dispose(),keep(t[e])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)a=i[r],e(a);return[2]})})},t}(BaseCallback),History=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.epoch=[],this.history={},[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]})})},t.prototype.syncData=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)\"number\"!=typeof i[a]&&(o=i[a],e.push(o.data()),t.push(r),n.push(a));return[4,Promise.all(e)];case 1:for(s=u.sent(),l=0;l<s.length;++l)this.history[t[l]][n[l]].dispose(),this.history[t[l]][n[l]]=s[l][0];return[2]}})})},t}(BaseCallback),CustomCallback=function(e){function t(t,n){var r=e.call(this)||this;if(r.currentEpoch=0,r.yieldEvery=n||\"auto\",\"auto\"===r.yieldEvery&&(r.yieldEvery=DEFAULT_YIELD_EVERY_MS),\"never\"===r.yieldEvery&&null!=t.onYield)throw new Error(\"yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback\");return util.isNumber(r.yieldEvery)&&(r.maybeWait=debounce(r.maybeWait.bind(r),r.yieldEvery)),r.trainBegin=t.onTrainBegin,r.trainEnd=t.onTrainEnd,r.epochBegin=t.onEpochBegin,r.epochEnd=t.onEpochEnd,r.batchBegin=t.onBatchBegin,r.batchEnd=t.onBatchEnd,r.yield=t.onYield,r}return __extends(t,e),t.prototype.maybeWait=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(i){switch(i.label){case 0:return r=[],null==this.yield?[3,2]:[4,resolveScalarsInLogs(n)];case 1:i.sent(),r.push(this.yield(e,t,n)),i.label=2;case 2:return r.push(nextFrame()),[4,Promise.all(r)];case 3:return i.sent(),[2]}})})},t.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,resolveScalarsInLogs(t)];case 1:r.sent(),n.push(this.epochEnd(e,t)),r.label=2;case 2:return\"epoch\"===this.yieldEvery&&n.push(nextFrame()),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,resolveScalarsInLogs(t)];case 1:r.sent(),n.push(this.batchEnd(e,t)),r.label=2;case 2:return\"batch\"===this.yieldEvery?n.push(nextFrame()):util.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t}(BaseCallback);function standardizeCallbacks(e,t){return null==e&&(e={}),e instanceof BaseCallback?[e]:Array.isArray(e)&&e[0]instanceof BaseCallback?e:toList(e).map(function(e){return new CustomCallback(e,t)})}var CallbackConstructorRegistry=function(){function e(){}return e.registerCallbackConstructor=function(t,n){util.assert(t>=0&&Number.isInteger(t),function(){return\"Verbosity level is expected to be an integer >= 0, but got \"+t}),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors){e.constructors[+n].forEach(function(e){if(e===t)throw new ValueError(\"Duplicate callback constructor.\")})}},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map(function(e){return new e})},e.constructors={},e}();function configureCallbacks(e,t,n,r,i,a,o,s,l){var u=new History,c=[new BaseLogger].concat(CallbackConstructorRegistry.createCallbacks(t));null!=e&&c.push.apply(c,e),c.push(u);var p=new CallbackList(c);return p.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:p,history:u}}function deserialize(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"layer\",n)}function l2Normalize(e,t){return tidy(function(){\"float32\"!==e.dtype&&(e=e.asType(\"float32\"));var n=sum(square(e),t,!0),r=fill(n.shape,epsilon()),i=sqrt(maximum(n,r));return div(e,i)})}function meanSquaredError(e,t){return tidy(function(){return mean(square(sub(t,e)),-1)})}function meanAbsoluteError(e,t){return tidy(function(){return mean(abs(sub(t,e)),-1)})}function meanAbsolutePercentageError(e,t){return tidy(function(){var n=sub(e,t),r=clipByValue(abs(e),epsilon(),Number.MAX_VALUE),i=abs(div(n,r));return mul(100,mean(i,-1))})}function meanSquaredLogarithmicError(e,t){return tidy(function(){var n=clipByValue(t,epsilon(),Number.MAX_VALUE),r=log(add(1,n)),i=clipByValue(e,epsilon(),Number.MAX_VALUE),a=log(add(1,i));return mean(square(sub(r,a)),-1)})}function squaredHinge(e,t){return tidy(function(){var n=maximum(0,sub(1,mul(e,t)));return mean(square(n),-1)})}function hinge(e,t){return tidy(function(){var n=maximum(0,sub(1,mul(e,t)));return mean(n,-1)})}function categoricalHinge(e,t){return tidy(function(){var n=sum(mul(e,t),-1),r=max(mul(sub(1,e),t),-1);return maximum(0,add(1,sub(r,n)))})}function logcosh(e,t){return tidy(function(){var n=Math.log(2),r=sub(t,e),i=sub(add(r,softplus(mul(-2,r))),n);return mean(i,-1)})}function categoricalCrossentropy(e,t,n){return void 0===n&&(n=!1),tidy(function(){if(n)t=softmax(t);else{var r=sum(t,t.shape.length-1,!0);t=div(t,r)}return t=clipByValue(t,epsilon(),1-epsilon()),neg(sum(mul(e.toFloat(),log(t)),t.shape.length-1))})}function sparseCategoricalCrossentropy(e,t){return tidy(function(){var n=floor(flatten(e)).toInt(),r=(t=clipByValue(t,epsilon(),1-epsilon())).shape;return categoricalCrossentropy(oneHot(n,r[r.length-1]).reshape(r),t,!1)})}function sigmoidCrossEntropyWithLogits(e,t){if(!util.arraysEqual(e.shape,t.shape))throw new ValueError(\"logits and labels must have the same shape, but got shapes \"+JSON.stringify(e.shape)+\" and \"+JSON.stringify(t.shape));return tidy(function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())})}function binaryCrossentropy(e,t){return tidy(function(){var n;return n=clipByValue(t,epsilon(),1-epsilon()),n=log(div(n,sub(1,n))),mean(sigmoidCrossEntropyWithLogits(e,n),-1)})}function kullbackLeiblerDivergence(e,t){return tidy(function(){var n=clipByValue(e,epsilon(),1),r=clipByValue(t,epsilon(),1);return sum(mul(e,log(div(n,r))),-1)})}function poisson(e,t){return tidy(function(){var n=log(add(epsilon(),t));return mean(sub(t,mul(e,n)),-1)})}function cosineProximity(e,t){return tidy(function(){var n=l2Normalize(e,-1),r=l2Normalize(t,-1),i=mul(n,r);return neg(sum(i,-1))})}var lossesMap={meanSquaredError:meanSquaredError,meanAbsoluteError:meanAbsoluteError,meanAbsolutePercentageError:meanAbsolutePercentageError,meanSquaredLogarithmicError:meanSquaredLogarithmicError,squaredHinge:squaredHinge,hinge:hinge,categoricalHinge:categoricalHinge,logcosh:logcosh,categoricalCrossentropy:categoricalCrossentropy,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy,binaryCrossentropy:binaryCrossentropy,kullbackLeiblerDivergence:kullbackLeiblerDivergence,poisson:poisson,cosineProximity:cosineProximity};function get(e){if(\"string\"==typeof e){if(e in lossesMap)return lossesMap[e];var t=\"Unknown loss \"+e;throw e.toLowerCase().includes(\"softmaxcrossentropy\")&&(t=\"Unknown loss \"+e+'. Use \"categoricalCrossentropy\" as the string name for tf.losses.softmaxCrossEntropy'),new ValueError(t)}return e}function binaryAccuracy(e,t){return tidy(function(){var n=mul(.5,onesLike(t)),r=cast$1(greater(t,n),e.dtype);return mean(equal(e,r),-1)})}function categoricalAccuracy(e,t){return tidy(function(){return cast$1(equal(argMax(e,-1),argMax(t,-1)),\"float32\")})}function truePositives(e,t){return tidy(function(){return logicalAnd(e.equal(1),t.equal(1)).sum().cast(\"float32\")})}function falseNegatives(e,t){return tidy(function(){return logicalAnd(e.equal(1),t.equal(0)).sum().cast(\"float32\")})}function falsePositives(e,t){return tidy(function(){return logicalAnd(e.equal(0),t.equal(1)).sum().cast(\"float32\")})}function precision(e,t){return tidy(function(){var n=truePositives(e,t),r=falsePositives(e,t),i=n.add(r);return where(greater(i,0),n.div(i),0).cast(\"float32\")})}function recall(e,t){return tidy(function(){var n=truePositives(e,t),r=falseNegatives(e,t),i=n.add(r);return where(greater(i,0),n.div(i),0).cast(\"float32\")})}function binaryCrossentropy$1(e,t){return binaryCrossentropy(e,t)}function sparseCategoricalAccuracy(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),equal(e,t).asType(\"float32\")}var mse$1=meanSquaredError,MSE$1=meanSquaredError,mae$1=meanAbsoluteError,MAE$1=meanAbsoluteError,mape$1=meanAbsolutePercentageError,MAPE$1=meanAbsolutePercentageError,categoricalCrossentropy$1=categoricalCrossentropy,cosine$1=cosineProximity,sparseCategoricalCrossentropy$1=sparseCategoricalCrossentropy,metricsMap={binaryAccuracy:binaryAccuracy,categoricalAccuracy:categoricalAccuracy,precision:precision,categoricalCrossentropy:categoricalCrossentropy$1,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy$1,mse:mse$1,MSE:MSE$1,mae:mae$1,MAE:MAE$1,mape:mape$1,MAPE:MAPE$1,cosine:cosine$1};function get$1(e){if(\"string\"==typeof e&&e in metricsMap)return metricsMap[e];if(\"string\"!=typeof e&&null!=e)return e;throw new ValueError(\"Unknown metric \"+e)}function getLossOrMetricName(e){if(assert(null!==e,\"Unknown LossOrMetricFn \"+e),\"string\"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(lossesMap);n<r.length;n++){var i=r[n];if(lossesMap[i]===e){t=i;break}}if(void 0!==t)return t;for(var a=0,o=Object.keys(metricsMap);a<o.length;a++){i=o[a];if(metricsMap[i]===e){t=i;break}}return void 0!==t?t:e.name}function getOptimizer(e){var t={Adagrad:function(){return train.adagrad(.01)},Adadelta:function(){return train.adadelta(1,.95,epsilon())},Adam:function(){return train.adam(.001,.9,.999,epsilon())},Adamax:function(){return train.adamax(.002,.9,.999,epsilon(),0)},RMSProp:function(){return train.rmsprop(.001,.9,0,epsilon())},SGD:function(){return train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ValueError(\"Unknown Optimizer \"+e)}var MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH=1048576;function checkUserDefinedMetadata(e,t,n){if(void 0===n&&(n=!1),null==e||\"object\"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!plainObjectCheck(e))throw new Error(\"User-defined metadata is expected to be a JSON object, but is not.\");if(n){var r=JSON.stringify(e);r.length>MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH&&console.warn('User-defined metadata of model \"'+t+'\" is too large in size (length='+r.length+\" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= \"+MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH+\".\")}}function plainObjectCheck(e){if(null===e)return!0;if(\"object\"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(\"string\"!=typeof r)return!1;if(!plainObjectCheck(e[r]))return!1}return!0}if(Array.isArray(e)){for(var i=0,a=e;i<a.length;i++){if(!plainObjectCheck(a[i]))return!1}return!0}return!1}var o=typeof e;return\"string\"===o||\"number\"===o||\"boolean\"===o}function printSummary(e,t,n,r){void 0===r&&(r=console.log);var i,a=isModelSequentialLike(e),o=[\"Layer (type)\",\"Output shape\",\"Param #\"];if(a?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(e){return Math.floor(t*e)})),!a)for(var s in o.push(\"Receives inputs\"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r(\"_\".repeat(t)),printRow(o,n,r),r(\"=\".repeat(t));for(var l=e.layers,u=0;u<l.length;++u)a?printLayerSummary(l[u],n,r):printLayerSummaryWithConnections(l[u],n,i,r),r((u===l.length-1?\"=\":\"_\").repeat(t));e.checkTrainableWeightsConsistency();var c=countTrainableParams(e),p=countParamsInWeights(e.nonTrainableWeights);r(\"Total params: \"+(c+p)),r(\"Trainable params: \"+c),r(\"Non-trainable params: \"+p),r(\"_\".repeat(t))}function countTrainableParams(e){return null!=e.collectedTrainableWeights?countParamsInWeights(e.collectedTrainableWeights):countParamsInWeights(e.trainableWeights)}function isModelSequentialLike(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var l=0,u=e.layers;l<u.length;l++){for(var c=!1,p=0,h=u[l].inboundNodes;p<h.length;p++){var d=h[p];if(-1!==r.indexOf(d)){if(c){t=!1;break}c=!0}}if(!t)break}return t}function printRow(e,t,n){void 0===n&&(n=console.log);for(var r=\"\",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+\" \"),r=(r+=e[i]).slice(0,t[i]),r+=\" \".repeat(t[i]-r.length);n(r)}function printLayerSummary(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r=\"multiple\"}printRow([e.name+\" (\"+e.getClassName()+\")\",r,e.countParams().toString()],t,n)}function printLayerSummaryWithConnections(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i=\"multiple\"}for(var a=[],o=0,s=e.inboundNodes;o<s.length;o++){var l=s[o];if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u){var c=l.inboundLayers[u].name,p=l.nodeIndices[u],h=l.tensorIndices[u];a.push(c+\"[\"+p+\"][\"+h+\"]\")}}var d=e.name,f=e.getClassName(),g=0===a.length?\"\":a[0];printRow([d+\" (\"+f+\")\",i,e.countParams().toString(),g],t,r);for(u=1;u<a.length;++u)printRow([\"\",\"\",\"\",a[u]],t,r)}function isArrayItemInputOrOutputName(e,t,n){return(\"inboundNodes\"===e||\"outputLayers\"===e||\"inputLayers\"===e)&&0===t&&\"string\"==typeof n}function convertPythonicToTs(e,t){if(null===e)return null;if(\"string\"==typeof e)return toCamelCase(e);if(\"number\"==typeof e||\"boolean\"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertPythonicToTs(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];if(\"name\"===u&&\"string\"==typeof c)o[u]=c;else{var p=toCamelCase(u);o[p]=convertPythonicToTs(c,p)}}return o}function convertTsToPythonic(e,t){if(null===e||void 0===e)return null;if(\"string\"==typeof e)return toSnakeCase(e);if(\"number\"==typeof e||\"boolean\"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertTsToPythonic(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u],p=toSnakeCase(u);o[p]=\"name\"!==u&&\"className\"!==u||\"string\"!=typeof c?convertTsToPythonic(c,u):c}return o}var version=\"1.2.11\";function assertFeedCompatibility(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return cast(t,e.dtype)}catch(n){throw new ValueError(\"The dtype of the feed (\"+t.dtype+\") can not be cast to the dtype of the key '\"+e.name+\"' (\"+e.dtype+\").\")}}var FeedDict=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new ValueError(\"Duplicate key: name=\"+e.name+\", id=\"+e.id);return this.id2Value[e.id]=assertFeedCompatibility(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(\"Nonexistent key: \"+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError(\"Feed dict has no SymbolicTensor name: \"+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(\"Nonexistent key: \"+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError(\"Feed dict has no SymbolicTensor name: \"+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&dispose(this.id2Mask)},e}(),cachedSorted={},cachedRecipientCounts={};function execute(e,t,n,r){for(var i=null!=n&&n.training,a=Array.isArray(e),o=a?e:[e],s=o.map(function(e){return e.name}),l=[],u=t.names(),c=0,p=s;c<p.length;c++){var h=p[c];-1!==u.indexOf(h)?l.push(t.getValue(h)):l.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var d,f,g=s.join(\",\")+\"|\"+t.names().join(\",\");if(null==cachedSorted[g]){var m=getTopologicalSortAndRecipientCounts(o,t);d=m.sorted,f=m.recipientCounts,cachedSorted[g]=d,cachedRecipientCounts[g]=f}d=cachedSorted[g],f={},i||Object.assign(f,cachedRecipientCounts[g]);for(var y=new FeedDict(t),v=0;v<d.length;++v){if(null!=r){var b=memory().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var w=d[v],z=w.sourceLayer;if(!(z instanceof InputLayer)){for(var S=[],A=[],_=[],I=!1,C=0,E=w.inputs;C<E.length;C++){var N=E[C],k=y.getValue(N),x=y.getMask(N);S.push(k),A.push(x),null!=x&&(I=!0),i||(f[N.name]--,0!==f[N.name]||t.hasKey(N)||-1!==s.indexOf(N.name)||k.isDisposed||!0===N.sourceLayer.stateful||_.push(k))}I&&((n=n||{}).mask=A[0]);var L=toList(z.apply(S,n)),T=null;z.supportsMasking&&(T=z.computeMask(S,A));for(var D=getNodeOutputs(w),O=Array.isArray(D)?D:[D],R=0;R<O.length;++R){y.hasKey(O[R])||y.add(O[R],L[R],Array.isArray(T)?T[0]:T);var M=s.indexOf(O[R].name);-1!==M&&(l[M]=L[R])}i||dispose(_)}}return y.disposeMasks(),a?l:l[0]}function getTopologicalSortAndRecipientCounts(e,t){util.assert(null!=e&&e.length>0,function(){return\"Expected at least one fetch, got none\"});var n=[],r={};if(1===e.length){var i=getTopologicalSortAndRecipientCountsForOneFetch(e[0],t);n=i.sorted,r=i.recipientMap}else for(var a=new Set,o=0,s=e;o<s.length;o++){for(var l=getTopologicalSortAndRecipientCountsForOneFetch(s[o],t),u=l.sorted,c=l.recipientMap,p=0,h=u;p<h.length;p++){var d=h[p];a.has(d.name)||(n.push(d),a.add(d.name))}var f=function(e){null==r[e]&&(r[e]=new Set),c[e].forEach(function(t){return r[e].add(t)})};for(var g in c)f(g)}return{sorted:n,recipientCounts:recipientMap2Counts(r)}}function recipientMap2Counts(e){var t={};for(var n in e)t[n]=e[n].size;return t}function getTopologicalSortAndRecipientCountsForOneFetch(e,t){for(var n=new Set,r=[],i={},a=0,o=t.names();a<o.length;a++){var s=o[a];n.add(s)}var l=[],u=[];for(l.push(e);l.length>0;){var c=l[l.length-1];if(n.has(c.name))l.pop();else{var p=u[u.length-1]===l.length-1;if(0===c.inputs.length||p)l.pop(),r.push(c),n.add(c.name),p&&u.pop();else{u.push(l.length-1);for(var h=0,d=c.inputs;h<d.length;h++){var f=d[h];null==i[f.name]&&(i[f.name]=new Set),i[f.name].add(c.name),n.has(f.name)||l.push(f)}}}}return{sorted:r,recipientMap:i}}function getNodeOutputs(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,a=e.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++){if(a[i].id===e.id){n=r;break}}t=e.sourceLayer.getOutputAt(n)}return t}var Container=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=getUid(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],unique(r.inputs).length!==r.inputs.length)throw new ValueError(\"The list of inputs passed to the model is redundant. All inputs should only appear once. Found: \"+r.inputs.map(function(e){return e.name}));unique(r.outputs).length!==r.outputs.length&&console.warn(\"The list of outputs passed to the model is redundant. All outputs should only appear once. Found: \"+r.outputs.map(function(e){return e.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=(C=o[a]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(u)}for(var c=0,p=r.inputs;c<p.length;c++){s=(C=p[c]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;assert(0===l,\"input layer has >1 nodes\"),assert(0===u,\"input layer has >1 tensors\"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(u)}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var h=0;h<r.inputLayers.length;h++){if(!((s=r.inputLayers[h])instanceof InputLayer))throw new TypeError(\"Input layers to a LayersModel must be InputLayer objects. Received inputs: \"+n.inputs+\". Input \"+h+\" (0-based) originates from layer type \"+s.getClassName()+\".\");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var d=0,f=r.outputLayers;d<f.length;d++){s=f[d];r.outputNames.push(s.name)}r.internalInputShapes=r.inputs.map(function(e){return e.shape}),r.internalOutputShapes=r.outputs.map(function(e){return e.shape});for(var g={},m={},y={},v={},b={},w=[],z=function(e,n,i,a,o,s){null!=a&&null!=o&&null!=s||(a=e.sourceLayer,o=e.nodeIndex,s=e.tensorIndex);var l=a.inboundNodes[o];if(-1!==i.indexOf(l))throw new RuntimeError(\"The tensor \"+e.name+' at layer \"'+a.name+'\" is part of a cycle.');if(-1===n.indexOf(l)){r.containerNodes.add(t.nodeKey(a,o)),a.id in b||(b[a.id]=Object.keys(b).length),-1===i.indexOf(l)&&i.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++){var p=l.inputTensors[c],h=l.inboundLayers[c],d=l.nodeIndices[c],f=l.tensorIndices[c];z(p,n,i,h,d,f)}for(n.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);w.push(l)}},S=[],A=[],_=0,I=r.outputs;_<I.length;_++){var C=I[_];z(C,S,A)}for(var E=0,N=w.slice().reverse();E<N.length;E++){m[(K=N[E]).id]=K,K.id in g||(g[K.id]=0);var k=g[K.id],x=null==y[K.outboundLayer.id]?0:y[K.outboundLayer.id];k=Math.max(k,x),y[K.outboundLayer.id]=k,v[K.outboundLayer.id]=K.outboundLayer,g[K.id]=k;for(h=0;h<K.inboundLayers.length;h++){var L=K.inboundLayers[h],T=(l=K.nodeIndices[h],L.inboundNodes[l]),D=null==g[T.id]?0:g[T.id];g[T.id]=Math.max(k+1,D),m[T.id]=T}}var O={};for(var R in g){(k=g[R])in O||(O[k]=[]),O[k].push(m[R])}var M={};for(var P in y){(k=y[P])in M||(M[k]=[]),M[k].push(v[P])}var F=Object.keys(M).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);r.layers=[];for(var V=0,B=F;V<B.length;V++){var U=M[k=B[V]];U.sort(function(e,t){var n=b[e.id],r=b[t.id];return n<r?-1:n>r?1:0});for(var j=0,W=U;j<W.length;j++){(s=W[j])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}}r.layersByDepth=M,F=Object.keys(O).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);for(var $=r.inputs.slice(),q=[],G=0,H=F;G<H.length;G++)for(var J=0,Z=O[k=H[G]];J<Z.length;J++){var K;if(null!=(s=(K=Z[J]).outboundLayer)){for(var Y=0,X=K.inputTensors;Y<X.length;Y++){C=X[Y];if(-1===$.indexOf(C))throw new RuntimeError(\"Graph disconnected: cannot obtain value for tensor \"+C+' at layer \"'+s.name+'\". The following previous layers were accessed without issue: '+q)}for(var Q=0,ee=K.outputTensors;Q<ee.length;Q++){C=ee[Q];$.push(C)}q.push(s.name)}}r.nodesByDepth=O;for(var te=r.layers.map(function(e){return e.name}),ne=function(e){var t=te.filter(function(t){return t===e}).length;if(1!==t)throw new RuntimeError('The name \"'+e+'\" is used '+t+\" times in the model. All layer names should be unique. Layer names: \"+JSON.stringify(te))},re=0,ie=te;re<ie.length;re++){ne(ie[re])}return r.outboundNodes=[],r.inboundNodes=[],new Node({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(e){return null}),outputMasks:r.outputs.map(function(e){return null}),inputShapes:r.inputs.map(function(e){return e.shape}),outputShapes:r.outputs.map(function(e){return e.shape})}),r.built=!0,r._refCount=1,r}return __extends(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error(\"Container '\"+this.name+\"' is already disposed.\")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var i=0,a=this.internalContainerRefs;i<a.length;i++){var o=a[i];e.numDisposedVariables+=o.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,\"trainable\",{get:function(){return this.trainable_},set:function(e){this.layers.forEach(function(t){t._trainableWeights.forEach(function(t){return t.trainable=e})}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){if(this._trainableWeights.length>0)throw new ValueError(\"Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.\");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"weights\",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,i=0,a=this.layers;i<a.length;i++)for(var o=0,s=a[i].weights;o<s.length;o++){var l=s[o];if(null!=n[l.originalName])throw new ValueError(\"Duplicate weight name: \"+l.originalName);n[l.originalName]=l,r++}var u=[];for(var c in e){if(null!=n[c])u.push([n[c],e[c]]);else if(t)throw new ValueError(\"Provided weight data has no target variable: \"+c);delete n[c]}if(t){var p=[];for(var h in n)p.push(h);if(p.length>0)throw new ValueError(p.length+\" of \"+r+\" weights are not set: \"+p)}batchSetValue(u)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=\"tfjs-layers \"+version,t.backend=\"TensorFlow.js\",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=convertTsToPythonic(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return tidy(function(){e=toList(e);for(var r=new FeedDict,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return execute(n.outputs,r,t)})},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){var r;return e=toList(e),r=null==t?pyListRepeat(null,e.length):toList(t),n.runInternalGraph(e,r)[1]})},t.prototype.computeOutputShape=function(e){var t=normalizeShapeList(e);if(t.length!==this.inputLayers.length)throw new ValueError(\"Invalid inputShape argument \"+e+\": model has \"+this.inputLayers.length+\" tensor inputs.\");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[A=i.name+\"_0_0\"]=a}var o=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);if(o.length>1)for(var s=0,l=o;s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){var h=p[c];i=h.outboundLayer;if(-1===this.inputLayers.map(function(e){return e.id}).indexOf(i.id)){for(var d=[],f=0;f<h.inboundLayers.length;f++){var g=h.inboundLayers[f],m=h.nodeIndices[f],y=h.tensorIndices[f],v=n[A=g.name+\"_\"+m+\"_\"+y];d.push(v)}var b=normalizeShapeList(i.computeOutputShape(singletonOrArray(d))),w=i.inboundNodes.indexOf(h);for(f=0;f<b.length;f++){n[A=i.name+\"_\"+w+\"_\"+f]=b[f]}}}var z=[],S=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],w=this.outputLayersNodeIndices[r],y=this.outputLayersTensorIndices[r];var A=i.name+\"_\"+w+\"_\"+y;S.push(A)}for(r=0;r<S.length;r++){var _=S[r];assert(_ in n),z.push(n[_])}return singletonOrArray(z)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=pyListRepeat(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}for(var s=0,l=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){for(var h=p[c],d=h.outboundLayer,f=h.inputTensors,g=h.outputTensors,m=new Array,y=0,v=f;y<v.length;y++){(i=v[y]).id in n&&m.push(n[i.id])}if(m.length===f.length){var b={},w=void 0,z=void 0,S=void 0,A=void 0;if(null!=h.callArgs&&(b=h.callArgs),1===m.length){var _=m[0],I=_[0],C=_[1];null==b.mask&&(b.mask=C),S=toList(d.call(I,b)),A=toList(d.computeMask(I,C)),w=[I],z=[C]}else w=m.map(function(e){return e[0]}),z=m.map(function(e){return e[1]}),null==b.mask&&(b.mask=z),S=toList(d.call(w,b)),A=toList(d.computeMask(w,z));if(d.activityRegularizer)throw new NotImplementedError(\"LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.\");for(r=0;r<g.length;++r){i=g[r],a=S[r],o=A[r];n[i.id]=[a,o]}}}for(var E=[],N=[],k=[],x=0,L=this.outputs;x<L.length;x++){assert((i=L[x]).id in n,\"Could not compute output \"+i.name+\" : \"+i.id);var T=n[i.id],D=T[0];o=T[1];k.push(D.shape),E.push(D),N.push(o)}return[E,N,k]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=t.nodeKey(o,s);this.containerNodes.has(l)&&(r[l]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new ValueError(\"Was asked to retrieve layer at index \"+t+\", but model only has \"+this.layers.length+\" layer(s).\");return this.layers[t]}if(null==e)throw new ValueError(\"Provide either a layer name or layer index\");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new ValueError(\"No such layer: \"+e)},t.prototype.calculateLosses=function(){var e=this;return tidy(function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=t.nodeKey(a,o);e.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n})},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=(w=a[i]).getClassName(),s=w.getConfig(),l=[],u=0;u<w.inboundNodes.length;u++){var c=w.inboundNodes[u],p=t.nodeKey(w,u),h={};if(this.containerNodes.has(p)){if(c.callArgs)try{JSON.stringify(c.callArgs),h=c.callArgs}catch(e){console.warn(\"Layer \"+w.name+\" was passed non-serializable keyword arguments: \"+c.callArgs+\". They will not be included in the serialized model (and thus will be missing at deserialization time).\"),h={}}if(c.inboundLayers.length>0){for(var d=[],f=0;f<c.inboundLayers.length;f++){var g=c.inboundLayers[f],m=c.nodeIndices[f],y=c.tensorIndices[f];null==(S=n[t.nodeKey(g,m)])&&(S=0),d.push([g.name,S,y,h])}l.push(d)}}}var v={};v.name=w.name,v.className=o,v.config=s,v.inboundNodes=l,r.push(v)}e.layers=r;var b=[];for(f=0;f<this.inputLayers.length;f++){var w=this.inputLayers[f];m=this.inputLayersNodeIndices[f],p=t.nodeKey(w,m);if(this.containerNodes.has(p)){null!==(S=n[p])&&void 0!==S||(S=0);y=this.inputLayersTensorIndices[f];b.push([w.name,S,y])}}e.inputLayers=b;var z=[];for(f=0;f<this.outputLayers.length;f++){w=this.outputLayers[f],m=this.outputLayersNodeIndices[f],p=t.nodeKey(w,m);if(this.containerNodes.has(p)){var S;null!==(S=n[p])&&void 0!==S||(S=0);y=this.outputLayersTensorIndices[f];z.push([w.name,S,y])}}return e.outputLayers=z,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){for(var n,r=[],a=0,s=t;a<s.length;a++){var l=s[a],u=l[0],c=l[1],p=l[2];if(n=null==l[3]?{}:l[3],!(u in i))return void o(e,t);var h=i[u];if(h.inboundNodes.length<=c)return void o(e,t);var d=h.inboundNodes[c];r.push(d.outputTensors[p])}r.length>0&&e.apply(singletonOrArray(r),n)}function l(e){var n=e.name,a=deserialize(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a,e.inboundNodes.forEach(function(e){if(!(e instanceof Array))throw new ValueError(\"Corrupted configuration, expected array for nodeData: \"+e);o(a,e)})}for(var u=t.name,c=t.layers,p=0,h=c;p<h.length;p++){l(g=h[p])}for(;!isObjectEmpty(a);)for(var d=0,f=c;d<f.length;d++){var g=f[d];if((k=i[g.name]).name in a){var m=a[k.name];delete a[k.name];for(var y=0,v=m;y<v.length;y++){s(k,v[y])}}}for(var b=[],w=[],z=0,S=t.inputLayers;z<S.length;z++){var A=(g=S[z])[0],_=g[1],I=g[2];assert(A in i);var C=(k=i[A]).inboundNodes[_].outputTensors;b.push(C[I])}for(var E=0,N=t.outputLayers;E<N.length;E++){A=(g=N[E])[0],_=g[1],I=g[2];assert(A in i);var k;C=(k=i[A]).inboundNodes[_].outputTensors;w.push(C[I])}return new e({inputs:b,outputs:w,name:u})},Object.defineProperty(t.prototype,\"stateful\",{get:function(){if(this._stateful)throw new ValueError(\"Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.\");for(var e=0,t=this.layers;e<t.length;e++){if(t[e].stateful)return!0}return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;tidy(function(){e.layers.forEach(function(e){e.stateful&&e.resetStates()})})},t}(Layer);function standardizeSampleOrClassWeights(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return null});if(1===r)return Array.isArray(e)&&1===e.length?e:\"object\"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(\"Provided \"+n+\" is an array of \"+e.length+\" element(s), but the model has \"+r+\" outputs. Make sure a set of weights is provided for each model output.\");return e}if(\"object\"==typeof e&&Object.keys(e).length>0&&\"object\"==typeof e[Object.keys(e)[0]]){var i=[];return t.forEach(function(t){t in e?i.push(e[t]):i.push(null)}),i}throw new Error(\"The model has multiple (\"+r+\") outputs, so \"+n+\" must be either an array with \"+r+\" elements or an object with \"+t+\" keys. Provided \"+n+\" not understood: \"+JSON.stringify(e))}function standardizeClassWeights(e,t){return standardizeSampleOrClassWeights(e,t,\"classWeight\")}function standardizeWeights(e,t,n,r){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null!=t||null!=r)throw new Error(\"Support sampleWeight is not implemented yet\");return null==n?[3,2]:(i=tidy(function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1){return e.argMax(1)}if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error(\"Encountered unexpected last-dimension size (\"+e.shape[1]+\") during handling of class weights. The size is expected to be >= 1.\")}throw new Error(\"Unexpected rank of target (y) tensor (\"+e.rank+\") during handling of class weights. The rank is expected to be 1 or 2.\")}),s=(o=Array).from,[4,i.data()]);case 1:return a=s.apply(o,[u.sent()]),dispose(i),l=[],a.forEach(function(e){if(null==n[e])throw new Error(\"classWeight must contain all classes in the training data. The class \"+e+\" exists in the data but not in classWeight\");l.push(n[e])}),[2,tensor1d(l,\"float32\")];case 2:return[2,null]}})})}function computeWeightedLoss(e,t){return mul(e,t)}var DEFAULT_VALIDATION_BATCH_SIZE=32;function standardizeDataIteratorOutput(e,t){var n,r,i=t;n=i.xs,r=i.ys,util.assert(null!=n&&null!=r,function(){return\"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates \"+t});var a=flattenTensorOrArrayOrMap(\"input\",e.inputNames,n),o=flattenTensorOrArrayOrMap(\"output\",e.outputNames,r),s=a[0].shape[0];util.assert(a.length===e.inputs.length,function(){return\"LayersModel has \"+e.inputs.length+\" inputs, but the dataset provides \"+a.length+\" inputs.  (Expected input keys: \"+JSON.stringify(e.inputNames)+\")\"}),util.assert(o.length===e.outputs.length,function(){return\"LayersModel has \"+e.outputs.length+\" outputs, but the dataset provides \"+o.length+\" outputs.  (Expected output keys: \"+JSON.stringify(e.outputNames)+\")\"});var l=function(t){util.assert(a[t].shape[0]===s,function(){return\"Batch size mismatch: input \"+e.inputNames[t]+\" has \"+a[t].shape[0]+\"; expected  \"+s+\" based on input \"+e.inputNames[0]+\".\"})};for(var u in a)l(u);var c=function(t){util.assert(o[t].shape[0]===s,function(){return\"Batch size mismatch: output \"+e.outputNames[t]+\" has \"+o[t].shape[0]+\"; expected  \"+s+\" based on input \"+e.inputNames[0]+\".\"})};for(var p in o)c(p);return{xs:a,ys:o}}function flattenTensorOrArrayOrMap(e,t,n){if(n instanceof Tensor)return[n];if(Array.isArray(n))return util.assert(n.length===t.length,function(){return\"Received an array of \"+n.length+\" Tensors, but expected \"+t.length+\" to match the \"+e+\" keys \"+t+\".\"}),n;for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i];if(null==n[o])throw new ValueError(\"The feature data generated by the dataset lacks the required \"+e+\" key '\"+o+\"'.\");r.push(n[o])}return r}function standardizeTensorValidationData(e){if(3===e.length)throw new NotImplementedError(\"Validation with sample weights is not implemented yet.\");return{xs:e[0],ys:e[1]}}function fitDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p,h,d,f,g,m,y,v,b,w,z,S,A,_,I,C,E,N,k,x,L,T,D,O,R,M;return __generator(this,function(P){switch(P.label){case 0:if(r=null!=n.batchesPerEpoch,util.assert(null!=e.optimizer,function(){return\"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).\"}),util.assert(null!=n,function(){return\"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.\"}),util.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),function(){return\"For fitDataset(), config.epochs is expected to be a positive integer, but got \"+n.epochs}),util.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),function(){return\"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got \"+n.batchesPerEpoch}),util.assert(null==n.validationSplit,function(){return\"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.\"}),e.isTraining)throw new Error(\"Cannot start training because another fit() call is ongoing.\");e.isTraining=!0,P.label=1;case 1:return P.trys.push([1,,26,27]),i=null!=n.validationData,a=void 0,o=void 0,i&&(isDatasetObject(n.validationData)?util.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),function(){return\"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got \"+n.validationBatches}):(s=standardizeTensorValidationData(n.validationData),a=s.xs,o=s.ys)),l=e.makeTrainFunction(),u=e.getDedupedMetricsNames(),c=void 0,c=i?u.slice().concat(u.map(function(e){return\"val_\"+e})):u.slice(),p=standardizeCallbacks(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,d=configureCallbacks(p,h,n.epochs,null,null,getStepsPerEpoch(t,n),null,i,c),f=d.callbackList,g=d.history,f.setModel(e),e.history=g,[4,f.onTrainBegin()];case 2:return P.sent(),e.stopTraining_=!1,m=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:y=P.sent(),P.label=4;case 4:return m<n.epochs?(v={},[4,f.onEpochBegin(m)]):[3,23];case 5:return P.sent(),b=0,w=0,r?[3,7]:[4,t.iterator()];case 6:y=P.sent(),P.label=7;case 7:return!r||b<n.batchesPerEpoch?[4,y.next()]:[3,21];case 8:return z=P.sent(),r&&z.done?(console.warn(\"You provided `batchesPerEpoch` as \"+n.batchesPerEpoch+\", but your dataset iterator ran out of data after \"+b+\" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, \"+n.batchesPerEpoch*n.epochs+\" batches). You may need to use the repeat() function when building your dataset.\"),[3,21]):null==z.value?[3,15]:(S=standardizeDataIteratorOutput(e,z.value),A=S.xs,_=S.ys,(I={}).batch=w,I.size=A[0].shape[0],[4,f.onBatchBegin(w,I)]);case 9:if(P.sent(),C=[],null==n.classWeight)return[3,13];E=standardizeClassWeights(n.classWeight,e.outputNames),M=0,P.label=10;case 10:return M<E.length?(k=(N=C).push,[4,standardizeWeights(_[M],null,E[M])]):[3,13];case 11:k.apply(N,[P.sent()]),P.label=12;case 12:return++M,[3,10];case 13:for(x=A.concat(_).concat(C),L=l(x),dispose(x),M=0;M<u.length;++M)T=u[M],D=L[M],I[T]=D,keep(D);return[4,f.onBatchEnd(w,I)];case 14:P.sent(),disposeTensorsInLogs(I),w++,b++,P.label=15;case 15:return(r?b>=n.batchesPerEpoch:z.done)?i?(O=void 0,isDatasetObject(n.validationData)?(R=toList,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return O=R.apply(void 0,[P.sent()]),[3,18];case 17:O=toList(e.evaluate(a,o,{batchSize:null==n.validationBatchSize?DEFAULT_VALIDATION_BATCH_SIZE:n.validationBatchSize,verbose:0})),P.label=18;case 18:for(M=0;M<e.metricsNames.length;++M)v[\"val_\"+e.metricsNames[M]]=O[M];P.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,f.onEpochEnd(m,v)];case 22:return P.sent(),m++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,f.onTrainEnd()];case 24:return P.sent(),[4,e.history.syncData()];case 25:return P.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}})})}function getStepsPerEpoch(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function isDatasetObject(e){return\"function\"==typeof e.iterator}function isLazyIteratorObject(e){return\"function\"==typeof e.next}function evaluateDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p,h;return __generator(this,function(d){switch(d.label){case 0:if(r=null!=(n=n||{}).batches,i=e.testFunction,a=[],n.verbose>0)throw new NotImplementedError(\"Verbose mode is not implemented yet.\");return util.assert(!r||n.batches>0&&Number.isInteger(n.batches),function(){return\"Test loop expects `batches` to be a positive integer, but received \"+JSON.stringify(n.batches)}),isLazyIteratorObject(t)?(s=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:s=d.sent(),d.label=3;case 3:o=s,l=0,u=0,c=function(){var t;return __generator(this,function(s){switch(s.label){case 0:return[4,o.next()];case 1:return t=s.sent(),a=tidy(function(){if(t.value){var n=standardizeDataIteratorOutput(e,t.value),r=n.xs,o=n.ys,s=r.concat(o),c=tidy(function(){return i(s)});if(dispose(s),0===u)for(var p=0;p<c.length;++p)a.push(scalar(0));var h=s[0].shape[0],d=function(e){var t=c[e],n=a[e];a[e]=tidy(function(){return add(a[e],mul(h,t))}),u>0&&dispose(n)};for(p=0;p<c.length;++p)d(p);dispose(c),l+=h,++u}return a}),t.done?(r&&console.warn(\"Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, \"+n.batches+\" batches). You may need to use the repeat() function when building your dataset.\"),[2,\"break\"]):[2]}})},d.label=4;case 4:return!r||u<n.batches?[5,c()]:[3,6];case 5:return\"break\"===d.sent()?[3,6]:[3,4];case 6:for(p=0;p<a.length;++p)h=a[p],a[p]=div(a[p],l),dispose(h);return[2,singletonOrArray(a)]}})})}function checkBatchSize(e){util.assert(e>0&&Number.isInteger(e),function(){return\"batchSize is required to be a positive integer, but got \"+e})}function sliceArrays(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return sliceAlongFirstAxis(e,t,n-t)}):sliceAlongFirstAxis(e,t,n-t)}function sliceArraysByIndices(e,t){return tidy(function(){return null==e?null:Array.isArray(e)?e.map(function(e){return sliceArraysByIndices(e,t)}):gather$1(e,\"int32\"===t.dtype?t:t.toInt())})}function makeBatches(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function fitLoop(e,t,n,r,i,a,o,s,l,u,c,p,h,d,f){return __awaiter(this,void 0,void 0,function(){var g,m,y,v,b,w,z,S;return __generator(this,function(A){switch(A.label){case 0:if(null==i&&(i=32),null==a&&(a=1),null==c&&(c=!0),null==h&&(h=0),g=!1,null!=l&&null!=u&&(g=!0),null!=f&&(g=!0,null==d))throw new ValueError(\"Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.\");return null!=(m=e.checkNumSamples(n,i,d,\"steps_per_epoch\"))&&(y=range(0,m)),null==o&&(o=1),v=configureCallbacks(s,o,a,h,m,d,i,g,p),b=v.callbackList,w=v.history,b.setModel(e),e.history=w,[4,b.onTrainBegin()];case 1:A.sent(),e.stopTraining_=!1,z=function(a){var o,s,p,h,f;return __generator(this,function(v){switch(v.label){case 0:return[4,b.onEpochBegin(a)];case 1:if(v.sent(),o={},null==d)return[3,2];throw new NotImplementedError(\"stepsPerEpoch mode is not implemented yet.\");case 2:if(\"batch\"===c)throw new NotImplementedError(\"batch shuffling is not implemneted yet\");c&&util.shuffle(y),s=tensor1d(y),p=makeBatches(m,i),h=function(a){var c;return __generator(this,function(h){switch(h.label){case 0:return c={},[4,b.onBatchBegin(a,c)];case 1:return h.sent(),tidy(function(){var h=p[a][0],d=p[a][1],f=sliceAlongFirstAxis(s,h,d-h);c.batch=a,c.size=d-h;for(var m=sliceArraysByIndices(n,f),y=t(m),v=0;v<r.length;++v){var b=r[v],w=y[v];c[b]=w,keep(w)}if(a===p.length-1&&g){var z=e.testLoop(l,u,i);for(v=0;v<r.length;++v){b=r[v],w=z[v];keep(w),o[\"val_\"+b]=w}}}),[4,b.onBatchEnd(a,c)];case 2:return h.sent(),disposeTensorsInLogs(c),e.stopTraining_?[2,\"break\"]:[2]}})},f=0,v.label=3;case 3:return f<p.length?[5,h(f)]:[3,6];case 4:if(\"break\"===v.sent())return[3,6];v.label=5;case 5:return++f,[3,3];case 6:s.dispose(),v.label=7;case 7:return[4,b.onEpochEnd(a,o)];case 8:return v.sent(),e.stopTraining_?[2,\"break\"]:[2]}})},S=h,A.label=2;case 2:return S<a?[5,z(S)]:[3,5];case 3:if(\"break\"===A.sent())return[3,5];A.label=4;case 4:return++S,[3,2];case 5:return[4,b.onTrainEnd()];case 6:return A.sent(),[4,e.history.syncData()];case 7:return A.sent(),[2,e.history]}})})}function fitTensors(e,t,n,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,function(){var i,a,o,s,l,u,c,p,h,d,f,g,m,y,v,b,w,z,S,A,_,I;return __generator(this,function(C){switch(C.label){case 0:if(e.isTraining)throw new Error(\"Cannot start training because another fit() call is ongoing.\");e.isTraining=!0,C.label=1;case 1:return C.trys.push([1,,7,8]),checkBatchSize(p=null==r.batchSize?32:r.batchSize),h=!1,[4,e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,h,p)];case 2:if(d=C.sent(),i=d[0],a=d[1],c=d[2],f=!1,g=void 0,!(null!=r.validationData&&r.validationData.length>0))return[3,4];if(f=!0,2!==r.validationData.length)throw 3===r.validationData.length?new NotImplementedError(\"validationData including sample weights is not supported yet.\"):new ValueError(\"When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; \"+r.validationData+\" is invalid.\");return o=r.validationData[0],s=r.validationData[1],m=!0,[4,e.standardizeUserData(o,s,null,null,m,p)];case 3:return y=C.sent(),l=y[0],u=y[1],g=l.concat(u),[3,5];case 4:null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(f=!0,v=Math.floor(i[0].shape[0]*(1-r.validationSplit)),b=i[0].shape[0],l=sliceArrays(i,v,b),i=sliceArrays(i,0,v),u=sliceArrays(a,v,b),a=sliceArrays(a,0,v),g=l.concat(u)):null!=r.validationSteps&&(f=!0),C.label=5;case 5:return w=i.concat(a).concat(c),e.checkTrainableWeightsConsistency(),z=e.makeTrainFunction(),S=e.getDedupedMetricsNames(),A=void 0,_=void 0,f?(e.makeTestFunction(),A=e.testFunction,_=S.slice().concat(S.map(function(e){return\"val_\"+e}))):(A=null,g=[],_=S.slice()),I=standardizeCallbacks(r.callbacks,r.yieldEvery),[4,fitLoop(e,z,w,S,p,r.epochs,r.verbose,I,A,g,r.shuffle,_,r.initialEpoch,null,null)];case 6:return[2,C.sent()];case 7:return e.isTraining=!1,disposeNewTensors(i,t),disposeNewTensors(a,n),disposeNewTensors(l,o),disposeNewTensors(u,s),null!=c&&dispose(c),[7];case 8:return[2]}})})}function ensureTensorsRank2OrHigher(e){var t=[];e instanceof Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(expandDims$1(r,1));else{if(0===r.rank)throw new Error(\"Expected tensor to be at least 1D, but received a 0D tensor (scalar).\");t.push(r)}}return t}function disposeNewTensors(e,t){if(null!=e){var n=[];if(t instanceof Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach(function(e){return n.push(e.id)});else if(null!=t)for(var r in t){var i=t[r];n.push(i.id)}var a=[];if(e instanceof Tensor)-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach(function(e){-1===n.indexOf(e.id)&&a.push(e)});else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&a.push(s)}a.forEach(function(e){e.isDisposed||e.dispose()})}}function isDataTensor(e){return e instanceof Tensor}function isDataArray(e){return Array.isArray(e)}function isDataDict(e){return!isDataTensor(e)&&!isDataArray(e)}function standardizeInputData(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=\"\"),null==t||0===t.length){if(null!=e){var a=!1;if(isDataArray(e)&&e.length>0)a=!0;else if(isDataDict(e)){for(var o in e)if(e.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new ValueError(\"Error when checking model \"+i+\" expected no data, but got \"+e)}return[]}if(null==e)return t.map(function(e){return null});var s;if(isDataDict(e)){e=e,s=[];for(var l=0,u=t;l<u.length;l++){var c=u[l];if(null==e[c])throw new ValueError('No data provided for \"'+c+'\". Need data for each key in: '+t);s.push(e[c])}}else if(isDataArray(e)){if((e=e).length!==t.length)throw new ValueError(\"Error when checking model \"+i+\": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see \"+t.length+\" Tensor(s), but instead got the following list of Tensor(s): \"+e);s=e}else{if(e=e,t.length>1)throw new ValueError(\"The model \"+i+\" expects \"+t.length+\" Tensor(s), but only received one Tensor. Found: Tensor with shape \"+e.shape);s=[e]}if(s=ensureTensorsRank2OrHigher(s),null!=n)for(var p=0;p<t.length;++p)if(null!=n[p]){var h=s[p];if(h.shape.length!==n[p].length)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[p]+\" to have \"+n[p].length+\" dimension(s). but got array with shape \"+h.shape);for(var d=0;d<n[p].length;++d)if(0!==d||r){var f=h.shape[d],g=n[p][d];if(null!=g&&g>=0&&f!==g)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[p]+\" to have shape [\"+n[p]+\"], but got array with shape [\"+h.shape+\"].\")}}return s}function checkArrayLengths(e,t,n){var r=unique(e.map(function(e){return e.shape[0]}));r.sort();var i=unique(t.map(function(e){return e.shape[0]}));if(i.sort(),r.length>1)throw new ValueError(\"All input Tensors (x) should have the same number of samples. Got array shapes: \"+JSON.stringify(e.map(function(e){return e.shape})));if(i.length>1)throw new ValueError(\"All target Tensors (y) should have the same number of samples. Got array shapes: \"+JSON.stringify(t.map(function(e){return e.shape})));if(r.length>0&&i.length>0&&!util.arraysEqual(r,i))throw new ValueError(\"Input Tensors should have the same number of samples as target Tensors. Found \"+r[0]+\" input sample(s) and \"+i[0]+\" target sample(s).\")}function checkLossAndTargetCompatibility(e,t,n){for(var r=[meanSquaredError,binaryCrossentropy,categoricalCrossentropy],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===categoricalCrossentropy&&1===a.shape[a.shape.length-1])throw new ValueError(\"You are passing a target array of shape \"+a.shape+\" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].\");if(-1!==r.indexOf(o))for(var l=a.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var p=l[c],h=u[c];if(null!=h&&p!==h)throw new ValueError(\"A target Tensor with shape \"+a.shape+\" was passed for an output of shape \"+s+\", while using a loss function that expects targets to have the same shape as the output.\")}}}}function checkInputData(e,t,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=\"\"),Array.isArray(e)){if(e.length!==t.length)throw new ValueError(\"Error when checking model \"+i+\": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see \"+t.length+\" Tensor(s), but instead got \"+e.length+\" Tensors(s).\");a=e}else{if(t.length>1)throw new ValueError(\"The model expects \"+t.length+\" \"+i+\" Tensors, but only received one Tensor. Found: array with shape \"+JSON.stringify(e.shape)+\".\");a=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[o]+\" to have \"+n[o].length+\" dimension(s), but got array with shape \"+JSON.stringify(s.shape));for(var l=0;l<n[o].length;++l)if(0!==l||r){var u=s.shape[l],c=n[o][l];if(null!=c&&c!==u)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[o]+\" to have shape \"+JSON.stringify(n[o])+\" but got array with shape \"+JSON.stringify(s.shape)+\".\")}}}function collectMetrics(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[]});var n;if(\"string\"==typeof e||\"function\"==typeof e)n=[e];else{if(!Array.isArray(e)&&\"object\"!=typeof e)throw new TypeError(\"Type of metrics argument not understood. Expected an string,function, Array, or Object, found: \"+e);n=e}if(Array.isArray(n))return t.map(function(e){return n});for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i],s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}var LAYERS_MODEL_FORMAT_NAME=\"layers-model\",LayersModel=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return __extends(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new ValueError(\"This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).\");printSummary(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,\"string\"==typeof e.optimizer)this.optimizer_=getOptimizer(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Optimizer))throw new ValueError(\"User-defined optimizer must be an instance of tf.Optimizer.\");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||\"string\"==typeof e.loss||\"function\"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ValueError(\"When passing an Array as loss, it should have one entry per model output. The model has \"+this.outputs.length+\" output(s), but you passed loss=\"+e.loss+\".\");var r=e.loss;n=r.map(function(e){return get(e)})}else{var i=get(e.loss);this.outputs.forEach(function(e){n.push(i)})}else{for(var a in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(a))throw new ValueError('Unknown entry in loss dictionary: \"'+a+'\". Only expected the following keys: '+this.outputNames);for(var o=0,s=this.outputNames;o<s.length;o++){var l=s[o];null==e.loss[l]&&console.warn('Output \"'+l+'\" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+l+\" during training\"),n.push(get(e.loss[l]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var c=this.internalOutputShapes[u],p=this.outputNames[u];this.feedOutputNames.push(p),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[u])}var h=[];this.metrics=e.metrics,this.metricsNames=[\"loss\"],this.metricsTensors=[],nameScope(\"loss\",function(){for(var e=0;e<t.outputs.length;++e)if(-1===h.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+\"_loss\"))}});var d=collectMetrics(e.metrics,this.outputNames);nameScope(\"metric\",function(){for(var e=function(e){if(-1!==h.indexOf(e))return\"continue\";!function(n){for(var r,i,a,o=function(n){if(\"string\"==typeof n&&-1!==[\"accuracy\",\"acc\",\"crossentropy\",\"ce\"].indexOf(n)){var o=t.internalOutputShapes[e];1===o[o.length-1]||t.lossFunctions[e]===binaryCrossentropy?-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=binaryAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=binaryCrossentropy$1):t.lossFunctions[e]===sparseCategoricalCrossentropy?-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=sparseCategoricalAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=sparseCategoricalCrossentropy$1):-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=categoricalAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=categoricalCrossentropy$1);var s=void 0;-1!==[\"accuracy\",\"acc\"].indexOf(n)?s=\"acc\":-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(s=\"ce\"),a=i,r=\"\"+s}else{var l=get$1(n);a=l,r=\"\"+getLossOrMetricName(n)}var u;nameScope(r,function(){u=a}),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+\"_\"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,u)},s=0,l=n;s<l.length;s++)o(l[s])}(d[e])},n=0;n<t.outputs.length;++n)e(n)}),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn(\"Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?\")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;checkBatchSize(r);var i=this.standardizeUserDataXY(e,t,!0,r);try{var a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction;return singletonOrArray(this.testLoop(o,a,r,n.verbose,n.steps))}finally{disposeNewTensors(i[0],e),disposeNewTensors(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return this.makeTestFunction(),[2,evaluateDataset(this,e,t)]})})},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r=\"steps\"),null!=n){if(i=null,null!=t)throw new ValueError(\"If \"+r+\" is set, batchSize must be null or undefined.Got batchSize = \"+t)}else{if(null==e)throw new ValueError(\"Either the input data should have a defined shape, or \"+r+\" shoud be specified.\");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new ValueError(\"`outputs` is an empty Array, which is not allowed.\");var n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),a=new FeedDict;if(e instanceof Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ValueError(\"The number of inputs provided (\"+e.length+\") does not match the number of inputs of this model (\"+this.inputs.length+\").\");for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],e[o])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=e[u.name];if(null==c)throw new ValueError(\"No value is provided for the model's input \"+u.name);a.add(u,c)}var p=execute(i,a);return n?p:p[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=pyListRepeat(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map(function(e){return e.name}),l=0;l<e.length;++l){var u=s.indexOf(e[l]);if(-1!==u&&(t[l]=o[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach(function(t,n){null==t&&c.push(e[n])}),new ValueError(\"Cannot find SymbolicTensors for output name(s): \"+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var r=this;return void 0===t&&(t=32),void 0===n&&(n=!1),tidy(function(){var i=r.checkNumSamples(e);if(n)throw new NotImplementedError(\"Verbose predictLoop() is not implemented yet.\");for(var a=makeBatches(i,t),o=r.outputs.map(function(e){return[]}),s=function(t){tidy(function(){var n=a[t][0],i=a[t][1],o=sliceArrays(e,n,i),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:r.inputs[l],value:o[l]});else s.push({key:r.inputs[0],value:o});var u=new FeedDict(s);return execute(r.outputs,u)}).forEach(function(e,t){return o[t].push(e)})},l=0;l<a.length;++l)s(l);return singletonOrArray(o.map(function(e){return concat(e,0)}))})},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=ensureTensorsRank2OrHigher(e);checkInputData(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return checkBatchSize(r),this.predictLoop(n,r)}finally{disposeNewTensors(n,e)}},t.prototype.predictOnBatch=function(e){checkInputData(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer_)throw new RuntimeError(\"You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).\");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a];this.feedLossFns[a]===sparseCategoricalCrossentropy?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(checkArrayLengths(e=standardizeInputData(e,this.feedInputNames,this.feedInputShapes,!1,\"input\"),t=standardizeInputData(t,this.feedOutputNames,i,!1,\"target\"),null),checkLossAndTargetCompatibility(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new ValueError(\"In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size \"+r+\". Found: \"+e[0].shape[0]+\" sample(s).\");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,i,a){return void 0===i&&(i=!0),__awaiter(this,void 0,void 0,function(){var o,s,l,u,c,p,h,d;return __generator(this,function(f){switch(f.label){case 0:if(o=this.standardizeUserDataXY(e,t,i,a),s=o[0],l=o[1],null!=n)throw new Error(\"sample weight is not supported yet.\");if(u=null,null==r)return[3,4];c=standardizeClassWeights(r,this.outputNames),u=[],p=0,f.label=1;case 1:return p<c.length?(d=(h=u).push,[4,standardizeWeights(l[p],null,c[p])]):[3,4];case 2:d.apply(h,[f.sent()]),f.label=3;case 3:return++p,[3,1];case 4:return[2,[s,l,u]]}})})},t.prototype.testLoop=function(e,t,n,r,i){var a=this;return void 0===r&&(r=0),tidy(function(){var o=a.checkNumSamples(t,n,i,\"steps\"),s=[];if(r>0)throw new NotImplementedError(\"Verbose mode is not implemented yet.\");if(null!=i)throw new NotImplementedError(\"steps mode in testLoop() is not implemented yet\");for(var l=makeBatches(o,n),u=tensor1d(range(0,o)),c=0;c<l.length;++c){var p=l[c][0],h=l[c][1],d=sliceAlongFirstAxis(u,p,h-p),f=sliceArraysByIndices(t,d),g=e(f);if(0===c)for(var m=0;m<g.length;++m)s.push(scalar(0));for(m=0;m<g.length;++m){var y=g[m];s[m]=add(s[m],mul(h-p,y))}}for(m=0;m<s.length;++m)s[m]=div(s[m],o);return s})},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;if(count(e,r)>1)i+=\"_\"+count(e.slice(0,n),r);t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),a=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map(function(e){return e.read()});return[e.optimizer_.minimize(function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});var l,u=new FeedDict(t),c=execute(e.outputs,u,{training:!0});for(s=0;s<e.lossFunctions.length;++s){var p=(0,e.lossFunctions[s])(i[s],c[s]);null!=a[s]&&(p=computeWeightedLoss(p,a[s]));var h=mean(p);n.push(h),l=0===s?p:add(l,p)}for(s=0;s<e.metricsTensors.length;++s){var d=void 0;if(e.outputs.length>1&&s<e.outputs.length)d=n[s];else{var f=e.metricsTensors[s][0],g=e.metricsTensors[s][1];d=mean(f(i[g],c[g]))}keep(d),o.push(d)}return l=mean(l),e.calculateLosses().forEach(function(e){l=add(l,e)}),l},!0,s)].concat(o)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return tidy(function(){for(var n,r=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:i[s]});var l=new FeedDict(o),u=execute(e.outputs,l);for(s=0;s<e.lossFunctions.length;++s){var c=e.lossFunctions[s],p=mean(c(a[s],u[s]));n=0===s?p:add(n,p),r.push(n)}for(s=0;s<e.metricsTensors.length;++s){var h=e.metricsTensors[s][0],d=e.metricsTensors[s][1],f=mean(h(a[d],u[d]));r.push(f)}return r})}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){return[2,fitTensors(this,e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,fitDataset(this,e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c;return __generator(this,function(p){switch(p.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=p.sent(),r=n[0],i=n[1],a=this.makeTrainFunction(),o=a(r.concat(i)),s=[],l=0,u=o,p.label=2;case 2:return l<u.length?[4,u[l].data()]:[3,5];case 3:c=p.sent(),s.push(c[0]),p.label=4;case 4:return l++,[3,2];case 5:return dispose(o),[2,singletonOrArray(s)]}})})},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t},Object.defineProperty(t.prototype,\"stopTraining\",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"optimizer\",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=memory().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-memory().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if(\"string\"==typeof this.loss)e=toSnakeCase(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++){if(\"string\"!=typeof n[t])throw new Error(\"Serialization of non-string loss is not supported.\")}e=this.loss.map(function(e){return toSnakeCase(e)})}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,a=0,o=r;a<o.length;a++){var s=o[a];if(\"string\"!=typeof i[s])throw new Error(\"Serialization of non-string loss is not supported.\");e[s]=toSnakeCase(i[s])}}return e},t.prototype.getMetricIdentifiers=function(){if(\"string\"==typeof this.metrics||\"function\"==typeof this.metrics)return[toSnakeCase(getLossOrMetricName(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(function(e){return toSnakeCase(getLossOrMetricName(e))});var e={};for(var t in this.metrics)e[t]=toSnakeCase(getLossOrMetricName(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error(\"Loading weight_metrics is not supported yet.\");if(null!=e.loss_weights)throw new Error(\"Loading loss_weights is not supported yet.\");if(null!=e.sample_weight_mode)throw new Error(\"Loading sample_weight_mode is not supported yet.\");var t,n,r=deserialize(convertPythonicToTs(e.optimizer_config));if(\"string\"==typeof e.loss)t=toCamelCase(e.loss);else if(Array.isArray(e.loss))t=e.loss.map(function(e){return toCamelCase(e)});else if(null!=e.loss)for(var i in t={},e.loss)t[i]=toCamelCase(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map(function(e){return toCamelCase(e)});else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=toCamelCase(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c,p,h,d,f,g;return __generator(this,function(m){switch(m.label){case 0:if(\"string\"==typeof e){if(0===(n=io.getSaveHandlers(e)).length)throw new ValueError(\"Cannot find any save handlers for URL '\"+e+\"'\");if(n.length>1)throw new ValueError(\"Found more than one (\"+n.length+\") save handlers for URL '\"+e+\"'\");e=n[0]}if(null==e.save)throw new ValueError(\"LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.\");return[4,io.encodeWeights(this.getNamedWeights(t))];case 1:return r=m.sent(),i=!1,a=null,o=this.toJSON(a,i),s={modelTopology:o,format:LAYERS_MODEL_FORMAT_NAME,generatedBy:\"TensorFlow.js tfjs-layers v\"+version,convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(s.trainingConfig=this.getTrainingConfig(),l=\"optimizer\",d=(h=io).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,d.apply(h,[m.sent(),l])];case 3:u=m.sent(),c=u.data,p=u.specs,(g=r.specs).push.apply(g,p),r.data=io.concatenateArrayBuffers([r.data,c]),m.label=4;case 4:return null!=this.userDefinedMetadata&&(f=!0,checkUserDefinedMetadata(this.userDefinedMetadata,this.name,f),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,[2,e.save(s)]}})})},t.prototype.setUserDefinedMetadata=function(e){checkUserDefinedMetadata(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className=\"Model\",t}(Container);function modelFromJSON(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u;return __generator(this,function(c){switch(c.label){case 0:return\"modelTopology\"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),r=convertPythonicToTs(n),i=deserialize(r,t),null==e.weightsManifest?[3,2]:[4,io.loadWeights(e.weightsManifest,e.pathPrefix,i.weights.map(function(e){return e.originalName}))];case 1:for(a=c.sent(),o={},s=0,l=i.weights;s<l.length;s++)u=l[s],o[u.originalName]=a[u.originalName];i.loadWeights(o),dispose(a),c.label=2;case 2:return[2,i]}})})}function loadLayersModelInternal(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){if(null==t&&(t={}),\"string\"==typeof e){if(0===(n=io.getLoadHandlers(e,t.onProgress)).length)n.push(io.browserHTTPRequest(e,t));else if(n.length>1)throw new ValueError(\"Found more than one (\"+n.length+\") load handlers for URL '\"+e+\"'\");e=n[0]}return[2,loadLayersModelFromIOHandler(e,void 0,t)]})})}function loadLayersModelFromIOHandler(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p;return __generator(this,function(h){switch(h.label){case 0:if(null==n&&(n={}),null==e.load)throw new ValueError(\"Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.\");return[4,e.load()];case 1:if(r=h.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),a=null==n.strict||n.strict,o=null!=r.weightData&&null!=r.weightSpecs&&a,s=deserialize(convertPythonicToTs(i),t,o),null!=(l=r.trainingConfig)&&s.loadTrainingConfig(l),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null==r.weightData)return[3,4];if(null==r.weightSpecs)throw new ValueError(\"LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.\");return u=decodeModelAndOptimizerWeights(r.weightData,r.weightSpecs),c=u.modelWeights,p=u.optimizerWeights,s.loadWeights(c,a),null!=s.optimizer&&p.length>0?[4,s.optimizer.setWeights(p)]:[3,3];case 2:h.sent(),h.label=3;case 3:dispose(c),dispose(p.map(function(e){return e.tensor})),h.label=4;case 4:return[2,s]}})})}function decodeModelAndOptimizerWeights(e,t){var n=io.decodeWeights(e,t),r={},i=[];return t.forEach(function(e){\"optimizer\"===e.group?i.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]}),{modelWeights:r,optimizerWeights:i}}serialization.registerClass(LayersModel);var Sequential=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:getUid(\"sequential_\"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return __extends(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some(function(e){return e<0}))throw new ValueError(\"Negative dimension size caused by adding layer \"+e.name+\" with input shape [\"+e.inboundNodes[0].inputTensors[0].shape+\"]\")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof LayersModel;if(r){if(1!==(n=e).outputs.length)throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");if(1!==n.inputs.length)throw new ValueError(\"All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.\")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ValueError(\"The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.\");var i=Input({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+\"_input\"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ValueError(\"A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer \"+e.name+\" which has \"+e.inboundNodes.length+\" pre-existing inbound connections.\");if(1!==e.inboundNodes[0].outputTensors.length)throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=getSourceInputs(this.outputs[0])}this.inboundNodes=[],new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape}),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError(\"There are no layers in the model.\");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(getExactlyOneShape(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError(\"Sequential model cannot be built: model is empty. Add some layers first.\");this.model=new LayersModel({inputs:this.inputs,outputs:this.outputs[0],name:this.name+\"_model\"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.evaluateDataset(e,t)]})})},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,\"optimizer\",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.fit(e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.fitDataset(e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,this.model.trainOnBatch(e,t)]})})},t.fromConfig=function(e,n,r,i){var a;void 0===r&&(r={}),void 0===i&&(i=!1);var o={};if(n instanceof Array){if(null==n[0].className||\"Merge\"===n[0].className)throw new ValueError(\"Legacy serialization format not supported yet.\");a=n}else util.assert(null!=n.layers,function(){return\"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.\"}),a=n.layers,delete n.layers,o=n;var s=new e(o);if(!(s instanceof t))throw new NotImplementedError(\"Sequential.fromConfig called on non-Sequential input: \"+s);for(var l=0,u=a;l<u.length;l++){var c=deserialize(u[l],void 0,i);i&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s},Object.defineProperty(t.prototype,\"stopTraining\",{get:function(){if(null==this.model)throw new ValueError(\"Cannot get the stopTraining property of a sequential model before it is compiled.\");return this.model.stopTraining},set:function(e){if(null==this.model)throw new ValueError(\"Cannot set the stopTraining property of a sequential model before it is compiled.\");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],i={};i.className=r.getClassName(),i.config=r.getConfig(),e.push(i)}return e},t.className=\"Sequential\",t}(LayersModel);function model(e){return new LayersModel(e)}function sequential(e){return new Sequential(e)}function loadLayersModel(e,t){return null==t&&(t={}),loadLayersModelInternal(e,t)}function input(e){return Input(e)}function registerCallbackConstructor(e,t){CallbackConstructorRegistry.registerCallbackConstructor(e,t)}serialization.registerClass(Sequential);var Activation=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),Elu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),elu$1(e,t)},t.className=\"elu\",t}(Activation);serialization.registerClass(Elu);var Selu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return selu(e)},t.className=\"selu\",t}(Activation);serialization.registerClass(Selu);var Relu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return relu(e)},t.className=\"relu\",t}(Activation);serialization.registerClass(Relu);var Relu6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return tidy(function(){return minimum(6,relu(e))})},t.className=\"relu6\",t}(Activation);serialization.registerClass(Relu6);var Linear=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return e},t.className=\"linear\",t}(Activation);serialization.registerClass(Linear);var Sigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return sigmoid(e)},t.className=\"sigmoid\",t}(Activation);serialization.registerClass(Sigmoid);var HardSigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return hardSigmoid(e)},t.className=\"hardSigmoid\",t}(Activation);serialization.registerClass(HardSigmoid);var Softplus=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return softplus(e)},t.className=\"softplus\",t}(Activation);serialization.registerClass(Softplus);var Softsign=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return softsign(e)},t.className=\"softsign\",t}(Activation);serialization.registerClass(Softsign);var Tanh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return tanh(e)},t.className=\"tanh\",t}(Activation);serialization.registerClass(Tanh);var Softmax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),softmax(e,t)},t.className=\"softmax\",t}(Activation);serialization.registerClass(Softmax);var LogSoftmax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),logSoftmax(e,t)},t.className=\"logSoftmax\",t}(Activation);function serializeActivation(e){return e.getClassName()}function deserializeActivation(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"activation\")}function getActivation(e){var t;return null==e?deserializeActivation(t={className:\"linear\",config:{}}):\"string\"==typeof e?((t={}).className=e,t.config={},deserializeActivation(t)):e instanceof Activation?e:deserializeActivation(e)}function assertObjectArgs(e){if(null!=e&&\"object\"!=typeof e)throw new Error(\"Argument to L1L2 regularizer's constructor is expected to be an object, but received: \"+e)}serialization.registerClass(LogSoftmax);var Regularizer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(serialization.Serializable),L1L2=function(e){function t(t){var n=e.call(this)||this;return assertObjectArgs(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=zeros([1]);return t.hasL1&&(n=add(n,sum(mul(t.l1,abs(e))))),t.hasL2&&(n=add(n,sum(mul(t.l2,square(e))))),n.asScalar()})},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className=\"L1L2\",t}(Regularizer);function l1(e){return assertObjectArgs(e),new L1L2({l1:null!=e?e.l1:null,l2:0})}function l2(e){return assertObjectArgs(e),new L1L2({l2:null!=e?e.l2:null,l1:0})}serialization.registerClass(L1L2);var REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={l1l2:\"L1L2\"};function serializeRegularizer(e){return serializeKerasObject(e)}function deserializeRegularizer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"regularizer\")}function getRegularizer(e){return null==e?null:\"string\"==typeof e?deserializeRegularizer({className:e in REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Regularizer?e:deserializeRegularizer(e)}var ReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return __extends(t,e),t.prototype.call=function(e,t){e=getExactlyOneTensor(e);var n=relu(e);return null!=this.maxValue&&(n=clipByValue(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ReLU\",t}(Layer);serialization.registerClass(ReLU);var LeakyReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return leakyRelu(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"LeakyReLU\",t}(Layer);serialization.registerClass(LeakyReLU);var PReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER=\"zeros\",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=getInitializer(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=getRegularizer(t.alphaRegularizer),n.alphaConstraint=getConstraint(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if(\"number\"!=typeof t.sharedAxes)throw new ValueError(\"Expected sharedAxes to be a number or an array of numbers, but got \"+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++){t[(a=r[n])-1]=1}this.alpha=this.addWeight(\"alpha\",t,\"float32\",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new InputSpec({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=getExactlyOneTensor(e),prelu(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:serializeInitializer(this.alphaInitializer),alphaRegularizer:serializeRegularizer(this.alphaRegularizer),alphaConstraint:serializeConstraint(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"PReLU\",t}(Layer);serialization.registerClass(PReLU);var ELU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new NotImplementedError(\"Non-default alpha value (\"+t.alpha+\") is not supported by the ELU layer yet.\");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return elu(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ELU\",t}(Layer);serialization.registerClass(ELU);var ThresholdedReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return n.mul(cast$1(n.greater(this.theta),\"float32\"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ThresholdedReLU\",t}(Layer);serialization.registerClass(ThresholdedReLU);var Softmax$1=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new Softmax).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Softmax\",t}(Layer);function normalizeArray(e,t,n){if(\"number\"==typeof e)return pyListRepeat(e,t);if(e.length!==t)throw new ValueError(\"The \"+n+\" argument must be an integer or tuple of \"+t+\" integers. Received: \"+e.length+\" elements.\");for(var r=0;r<t;++r){var i=e[r];if(!isInteger(i))throw new ValueError(\"The \"+n+\" argument must be an integer or tuple of \"+t+\" integers. Received: \"+JSON.stringify(e)+\" including a non-integer number \"+i)}return e}function convOutputLength(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(a=\"same\"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r));var a}function deconvLength(e,t,n,r){if(null==e)return null;if(\"valid\"===r)e=e*t+max$1([n-t,0]);else{if(\"same\"!==r)throw new ValueError(\"Unsupport padding mode: \"+r+\".\");e*=t}return e}function preprocessConv2DInput(e,t){return tidy(function(){return checkDataFormat(t),\"channelsFirst\"===t?transpose(e,[0,2,3,1]):e})}function preprocessConv3DInput(e,t){return tidy(function(){return checkDataFormat(t),\"channelsFirst\"===t?transpose(e,[0,2,3,4,1]):e})}function conv1dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=1),void 0===i&&(i=\"valid\"),void 0===o&&(o=1),tidy(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.shape.length)throw new ValueError(\"The input of a conv1dWithBias operation should be 3, but is \"+e.shape.length+\" instead.\");if(3!==t.shape.length)throw new ValueError(\"The kernel for a conv1dWithBias operation should be 3, but is \"+t.shape.length+\" instead\");if(null!=n&&1!==n.shape.length)throw new ValueError(\"The bias for a conv1dWithBias operation should be 1, but is \"+t.shape.length+\" instead\");if(\"channelsFirst\"===a&&(e=transpose(e,[0,2,1])),\"causal\"===i)throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");var s=conv1d(e,t,r,\"same\"===i?\"same\":\"valid\",\"NWC\",o);return null!=n&&(s=biasAdd(s,n)),s})}function conv2dWithBiasActivation(e,t,n,r,i,a,o,s){return void 0===r&&(r=[1,1]),void 0===i&&(i=\"valid\"),void 0===s&&(s=null),tidy(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.rank&&4!==e.rank)throw new ValueError(\"conv2dWithBiasActivation expects input to be of rank 3 or 4, but received \"+e.rank+\".\");if(3!==t.rank&&4!==t.rank)throw new ValueError(\"conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received \"+e.rank+\".\");var l=preprocessConv2DInput(e,a);if(\"causal\"===i)throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");return l=fused.conv2d({x:l,filter:t,strides:r,pad:\"same\"===i?\"same\":\"valid\",dilations:o,dataFormat:\"NHWC\",bias:n,activation:s}),\"channelsFirst\"===a&&(l=transpose(l,[0,3,1,2])),l})}function conv3dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=[1,1,1]),void 0===i&&(i=\"valid\"),tidy(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),4!==e.rank&&5!==e.rank)throw new ValueError(\"conv3dWithBias expects input to be of rank 4 or 5, but received \"+e.rank+\".\");if(4!==t.rank&&5!==t.rank)throw new ValueError(\"conv3dWithBias expects kernel to be of rank 4 or 5, but received \"+e.rank+\".\");var s=preprocessConv3DInput(e,a);if(\"causal\"===i)throw new NotImplementedError(\"The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.\");return s=conv3d(s,t,r,\"same\"===i?\"same\":\"valid\",\"NDHWC\",o),null!=n&&(s=biasAdd(s,n)),\"channelsFirst\"===a&&(s=transpose(s,[0,4,1,2,3])),s})}serialization.registerClass(Softmax$1);var BaseConv=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",i.DEFAULT_BIAS_INITIALIZER=\"zeros\",t.verifyArgs(r),i.rank=n,assertPositiveInteger(i.rank,\"rank\"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new NotImplementedError(\"Convolution layer for rank other than 1, 2, or 3 (\"+i.rank+\") is not implemented yet.\");if(i.kernelSize=normalizeArray(r.kernelSize,n,\"kernelSize\"),i.strides=normalizeArray(null==r.strides?1:r.strides,n,\"strides\"),i.padding=null==r.padding?\"valid\":r.padding,checkPaddingMode(i.padding),i.dataFormat=null==r.dataFormat?\"channelsLast\":r.dataFormat,checkDataFormat(i.dataFormat),i.activation=getActivation(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=getInitializer(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=getConstraint(r.biasConstraint),i.biasRegularizer=getRegularizer(r.biasRegularizer),i.activityRegularizer=getRegularizer(r.activityRegularizer),i.dilationRate=normalizeArray(null==r.dilationRate?1:r.dilationRate,n,\"dilationRate\"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new ValueError(\"dilationRate must be a number or an array of a single number for 1D convolution, but received \"+JSON.stringify(i.dilationRate));if(2===i.rank){if(\"number\"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new ValueError(\"dilationRate must be a number or array of two numbers for 2D convolution, but received \"+JSON.stringify(i.dilationRate))}else if(3===i.rank)if(\"number\"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new ValueError(\"dilationRate must be a number or array of three numbers for 3D convolution, but received \"+JSON.stringify(i.dilationRate));return i}return __extends(t,e),t.verifyArgs=function(e){if(assert(\"kernelSize\"in e,\"required key 'kernelSize' not in config\"),\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,3))throw new ValueError(\"BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:serializeActivation(this.activation),useBias:this.useBias,biasInitializer:serializeInitializer(this.biasInitializer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),Conv=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,assertPositiveInteger(i.filters,\"filters\"),i.kernelInitializer=getInitializer(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=getConstraint(r.kernelConstraint),i.kernelRegularizer=getRegularizer(r.kernelRegularizer),i}return __extends(t,e),t.prototype.build=function(e){var t;e=getExactlyOneShape(e);var n=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError(\"The channel dimension of the input should be defined. Found \"+e[n]);var r=e[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight(\"kernel\",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t;e=getExactlyOneTensor(e);var r=null==n.bias?null:n.bias.read(),i=mapActivationToFusedKernel(n.activation.getClassName());if(null!=i&&2===n.rank)t=conv2dWithBiasActivation(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,i);else{if(1===n.rank)t=conv1dWithBias(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=conv2dWithBiasActivation(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new NotImplementedError(\"convolutions greater than 3D are not implemented yet.\");t=conv3dWithBias(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);for(var t=[],n=\"channelsLast\"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=convOutputLength(n[r],this.kernelSize[r],this.padding,this.strides[r],\"number\"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return\"channelsLast\"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:serializeInitializer(this.kernelInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!(\"filters\"in e)||\"number\"!=typeof e.filters||e.filters<1)throw new ValueError(\"Convolution layer expected config.filters to be a 'number' > 0 but got \"+JSON.stringify(e.filters))},t}(BaseConv),Conv2D=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if(\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,2))throw new ValueError(\"Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.className=\"Conv2D\",t}(Conv);serialization.registerClass(Conv2D);var Conv3D=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if(\"number\"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ValueError(\"Conv3D expects config.kernelSize to be number or [number, number, number], but received \"+JSON.stringify(e.kernelSize)+\".\")},t.className=\"Conv3D\",t}(Conv);serialization.registerClass(Conv3D);var Conv2DTranspose=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new InputSpec({ndim:4})],\"same\"!==n.padding&&\"valid\"!==n.padding)throw new ValueError(\"Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode \"+n.padding);return n}return __extends(t,e),t.prototype.build=function(e){var t;if(4!==(e=getExactlyOneShape(e)).length)throw new ValueError(\"Input should have rank 4; Received input shape: \"+JSON.stringify(e));var n=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError(\"The channel dimension of the inputs should be defined. Found `None`.\");var r=e[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight(\"kernel\",i,\"float32\",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.filters],\"float32\",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new InputSpec({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);if(4!==t.shape.length)throw new ValueError(\"Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-\"+t.shape.length);var r,i,a=t.shape,o=a[0];\"channelsFirst\"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[r],l=a[i],u=n.kernelSize[0],c=n.kernelSize[1],p=n.strides[0],h=n.strides[1],d=[o,deconvLength(s,p,u,n.padding),deconvLength(l,h,c,n.padding),n.filters];\"channelsLast\"!==n.dataFormat&&(t=transpose(t,[0,2,3,1]));var f=conv2dTranspose(t,n.kernel.read(),d,n.strides,n.padding);return\"channelsLast\"!==n.dataFormat&&(f=transpose(f,[0,3,1,2])),null!=n.bias&&(f=biasAdd(f,n.bias.read(),n.dataFormat)),null!=n.activation&&(f=n.activation.apply(f)),f})},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=getExactlyOneShape(e)).slice();\"channelsFirst\"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return i[t]=this.filters,i[n]=deconvLength(i[n],s,a,this.padding),i[r]=deconvLength(i[r],l,o,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className=\"Conv2DTranspose\",t}(Conv2D);serialization.registerClass(Conv2DTranspose);var SeparableConv=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER=\"glorotUniform\",r.DEFAULT_POINTWISE_INITIALIZER=\"glorotUniform\",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new ValueError(\"The `filters` configuration field is required by SeparableConv, but is unspecified.\");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ValueError(\"Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.\");if(null!=n.padding&&\"same\"!==n.padding&&\"valid\"!==n.padding)throw new ValueError(\"SeparableConv\"+r.rank+\"D supports only padding modes: 'same' and 'valid', but received \"+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=getRegularizer(n.depthwiseRegularizer),r.depthwiseConstraint=getConstraint(n.depthwiseConstraint),r.pointwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=getRegularizer(n.pointwiseRegularizer),r.pointwiseConstraint=getConstraint(n.pointwiseConstraint),r}return __extends(t,e),t.prototype.build=function(e){var t;if((e=getExactlyOneShape(e)).length<this.rank+2)throw new ValueError(\"Inputs to SeparableConv\"+this.rank+\"D should have rank \"+(this.rank+2)+\", but received input shape: \"+JSON.stringify(e));var n=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new ValueError(\"The channel dimension of the inputs should be defined, but found \"+JSON.stringify(e[n]));for(var r=e[n],i=this.kernelSize.concat([r,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(r*this.depthMultiplier,this.filters);this.depthwiseKernel=this.addWeight(\"depthwise_kernel\",i,\"float32\",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight(\"pointwise_kernel\",a,\"float32\",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[this.filters],\"float32\",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new InputSpec({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t;if(e=getExactlyOneTensor(e),1===n.rank)throw new NotImplementedError(\"1D separable convolution is not implemented yet.\");return 2===n.rank&&(\"channelsFirst\"===n.dataFormat&&(e=transpose(e,[0,2,3,1])),t=separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,\"NHWC\")),n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),\"channelsFirst\"===n.dataFormat&&(t=transpose(t,[0,3,1,2])),t})},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.pointwiseInitializer=serializeInitializer(this.pointwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.pointwiseRegularizer=serializeRegularizer(this.pointwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseConstraint),t.pointwiseConstraint=serializeConstraint(this.pointwiseConstraint),t},t.className=\"SeparableConv\",t}(Conv),SeparableConv2D=function(e){function t(t){return e.call(this,2,t)||this}return __extends(t,e),t.className=\"SeparableConv2D\",t}(SeparableConv);serialization.registerClass(SeparableConv2D);var Conv1D=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if(\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,1))throw new ValueError(\"Conv1D expects config.kernelSize to be number or number[] with length 1, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.className=\"Conv1D\",t}(Conv);serialization.registerClass(Conv1D);var Cropping2D=function(e){function t(t){var n=e.call(this,t)||this;return\"number\"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:\"number\"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?\"channelsLast\":t.dataFormat,n.inputSpec=[{ndim:4}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return\"channelsFirst\"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return e=getExactlyOneTensor(e),\"channelsLast\"===n.dataFormat?sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Cropping2D\",t}(Layer);serialization.registerClass(Cropping2D);var UpSampling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){if(\"channelsFirst\"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e),r=t.shape;if(\"channelsFirst\"===n.dataFormat){t=transpose(t,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],o=t.resizeNearestNeighbor([i,a]);return transpose(o,[0,3,1,2])}i=n.size[0]*r[1],a=n.size[1]*r[2];return t.resizeNearestNeighbor([i,a])})},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"UpSampling2D\",t}(Layer);function depthwiseConv2d$1(e,t,n,r,i,a){return void 0===n&&(n=[1,1]),void 0===r&&(r=\"valid\"),tidy(function(){null==i&&(i=imageDataFormat()),checkDataFormat(i);var o=preprocessConv2DInput(e,i);if(4!==e.rank)throw new ValueError(\"Input for depthwiseConv2d is required to be 4-D, but is instead \"+e.rank+\"-D\");if(4!==t.rank)throw new ValueError(\"depthwiseKernel is required to be 4-D, but is instead \"+t.rank+\"-D\");return o=depthwiseConv2d(o,t,n,\"same\"===r?\"same\":\"valid\",\"NHWC\",a),\"channelsFirst\"===i&&(o=transpose(o,[0,3,1,2])),o})}serialization.registerClass(UpSampling2D);var DepthwiseConv2D=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=getInitializer(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=getConstraint(t.depthwiseConstraint),n.depthwiseRegularizer=getRegularizer(t.depthwiseRegularizer),n}return __extends(t,e),t.prototype.build=function(e){if((e=getExactlyOneShape(e)).length<4)throw new ValueError(\"Inputs to DepthwiseConv2D should have rank 4. Received input shape: \"+JSON.stringify(e)+\".\");var t=\"channelsFirst\"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ValueError(\"The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (\"+e[t]+\").\");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight(\"depthwise_kernel\",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=depthwiseConv2d$1(e=getExactlyOneTensor(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],n=\"channelsFirst\"===this.dataFormat?e[3]:e[2],r=\"channelsFirst\"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=convOutputLength(t,this.kernelSize[0],this.padding,this.strides[0]),a=convOutputLength(n,this.kernelSize[1],this.padding,this.strides[1]);return\"channelsFirst\"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseRegularizer),t},t.className=\"DepthwiseConv2D\",t}(BaseConv);serialization.registerClass(DepthwiseConv2D);var Dropout=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return __extends(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return inTrainPhase(function(){return dropout$1(r,n.rate,a,n.seed)},function(){return r},i)}return e})},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className=\"Dropout\",t}(Layer);serialization.registerClass(Dropout);var Dense=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,assertPositiveInteger(n.units,\"units\"),n.activation=getActivation(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=getConstraint(t.kernelConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return __extends(t,e),t.prototype.build=function(e){var t,n=(e=getExactlyOneShape(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight(\"kernel\",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r,i=getExactlyOneTensor(e),a=mapActivationToFusedKernel(n.activation.getClassName());return null!=a?r=dot(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=dot(i,n.kernel.read()),null!=n.bias&&(r=biasAdd(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Dense\",t}(Layer);serialization.registerClass(Dense);var Flatten=function(e){function t(t){var n=e.call(this,t||{})||this;return n.inputSpec=[{minNDim:3}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=getExactlyOneShape(e)).slice(1);t<n.length;t++){if(null==n[t])throw new ValueError('The shape of the input to \"Flatten\" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete \"input_shape\" or \"batch_input_shape\" argument to the first layer in your model.')}return[e[0],arrayProd(e,1)]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return n.invokeCallHook(e,t),batchFlatten(getExactlyOneTensor(e))})},t.className=\"Flatten\",t}(Layer);serialization.registerClass(Flatten);var Activation$1=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=getActivation(t.activation),n}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return n.activation.apply(r)})},t.prototype.getConfig=function(){var t={activation:serializeActivation(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Activation\",t}(Layer);serialization.registerClass(Activation$1);var RepeatVector=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return repeat(e=getExactlyOneTensor(e),n.n)})},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"RepeatVector\",t}(Layer);serialization.registerClass(RepeatVector);var Reshape=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return __extends(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n=\"Total size of new array must be unchanged.\",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new ValueError(\"Can only specifiy one unknown dimension.\");a=o}else i*=s}var l=arrayProd(e);if(null!==a){if(0===i||l%i!=0)throw new ValueError(n);r[a]=l/i}else if(l!==i)throw new ValueError(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)})},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Reshape\",t}(Layer);serialization.registerClass(Reshape);var Permute=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error(\"Required configuration field `dims` is missing during Permute constructor call.\");if(!Array.isArray(t.dims))throw new Error(\"Permute constructor requires `dims` to be an Array, but received \"+t.dims+\" instead.\");var r=range(1,t.dims.length+1);if(!util.arraysEqual(t.dims.slice().sort(),r))throw new Error(\"Invalid permutation `dims`: \"+JSON.stringify(t.dims)+\" `dims` must contain consecutive integers starting from 1.\");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new InputSpec({ndim:n.dims.length+1})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return this.dims.forEach(function(n,r){t[r+1]=e[n]}),t},t.prototype.call=function(e,t){return transpose(getExactlyOneTensor(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Permute\",t}(Layer);serialization.registerClass(Permute);var Masking=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=getExactlyOneTensor(e);return any(notEqual(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e),i=any(notEqual(r,n.maskValue),-1,!0);return r.mul(i.asType(r.dtype))})},t.className=\"Masking\",t}(Layer);serialization.registerClass(Masking);var Embedding=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER=\"randomUniform\",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(toList(t.inputLength))}return n.inputDim=t.inputDim,assertPositiveInteger(n.inputDim,\"inputDim\"),n.outputDim=t.outputDim,assertPositiveInteger(n.outputDim,\"outputDim\"),n.embeddingsInitializer=getInitializer(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=getRegularizer(t.embeddingsRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.embeddingsConstraint=getConstraint(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return __extends(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight(\"embeddings\",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){return n.maskZero?(e=getExactlyOneTensor(e),notEqual(e,zerosLike(e))):null})},t.prototype.computeOutputShape=function(e){if(e=getExactlyOneShape(e),null==this.inputLength)return e.concat([this.outputDim]);var t=toList(this.inputLength);if(t.length!==e.length-1)throw new ValueError('\"inputLength\" is '+this.inputLength+\", but received input shape has shape \"+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new ValueError('\"inputLength\" is '+this.inputLength+\", but received input shape has shape \"+e);null==i&&(t[n]=a),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return\"int32\"!==r.dtype&&(r=cast$1(r,\"int32\")),gather$1(n.embeddings.read(),r.as1D()).reshape(getExactlyOneShape(n.computeOutputShape(r.shape)))})},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),embeddingsConstraint:serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Embedding\",t}(Layer);serialization.registerClass(Embedding);var Merge=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.mergeFunction=function(e){throw new NotImplementedError},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new ValueError(\"Operands could not be broadcast together with shapes \"+JSON.stringify(e)+\" \"+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[getExactlyOneShape(e)]),(e=e).length<2)throw new ValueError(\"A merge layer should be called on an Array of at least 2 inputs. Got \"+e.length+\" input(s).\");for(var t=[],n=0,r=e;n<r.length;n++){null!=(o=r[n])&&null!==o[0]&&t.push(o[0])}if((t=unique(t)).length>1)throw new ValueError(\"Can not merge tensors with different batch sizes. Got tensors with shapes: \"+JSON.stringify(e)+\".\");for(var i=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var o=null==e[a]?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,o)}var s=e.map(function(e){return e.length});-1===e.indexOf(null)&&1===unique(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank});if(-1===r.indexOf(null)){for(var i=max$1(r),a=0,o=e;a<o.length;a++){for(var s=(h=o[a]).rank,l=0;l<i-s;++l)h=expandDims$1(h,1);t.push(h)}return n.mergeFunction(t)}for(var u=!1,c=0,p=e;c<p.length;c++){var h;if(null==(s=(h=p[c]).rank)){var d=h.shape,f=d[0],g=d.slice(1).concat([f]),m=h.reshape([f].concat(arrayProd(d.slice(1))));m=(m=transpose(m,[1,0])).reshape(g),t.push(m),u=!0}else if(s>1){var y=range(1,s).concat([0]);t.push(transpose(h,y)),u=!0}else t.push(h)}var v=n.mergeFunction(t),b=v.rank;if(u)if(null==b){var w=v.shape;g=[f=w[w.length-1]].concat(w.slice(0,w.length-1));v=transpose(v.reshape([-1,f]),[1,0]).reshape(g)}else if(b>1){y=[b-1].concat(range(0,b-1));v=transpose(v,y)}return v}return n.mergeFunction(e)})},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],a=0,o=e;a<o.length;a++){null!=(r=o[a])&&null!==r[0]&&i.push(r[0])}return t=1===(i=unique(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return tidy(function(){if(null==t)return null;if(!Array.isArray(t))throw new ValueError(\"`mask` should be an Array\");if(!Array.isArray(e))throw new ValueError(\"`inputs` should be an Array\");if(t.length!==e.length)throw new ValueError(\"The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (\"+e.length+\" vs \"+t.length+\")\");if(t.every(function(e){return null==e}))return null;for(var n=(t=t.map(function(e){return null==e?e:expandDims(e,0)}))[0],r=1;r<t.length-1;++r)n=logicalAnd(n,t[r]);return n})},t}(Layer),Add=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=add(t,e[n]);return t})},t.className=\"Add\",t}(Merge);serialization.registerClass(Add);var Multiply=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=mul(t,e[n]);return t})},t.className=\"Multiply\",t}(Merge);serialization.registerClass(Multiply);var Average=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=add(t,e[n]);return mul(1/e.length,t)})},t.className=\"Average\",t}(Merge);serialization.registerClass(Average);var Maximum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0],n=1;n<e.length;++n)t=maximum(t,e[n]);return t})},t.className=\"Maximum\",t}(Merge);serialization.registerClass(Maximum);var Minimum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0],n=1;n<e.length;++n)t=minimum(t,e[n]);return t})},t.className=\"Minimum\",t}(Merge);serialization.registerClass(Minimum);var Concatenate=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ValueError(\"A `Concatenate` layer should be called on a list of at least 2 inputs\");for(var t=!0,n=0,r=e=e;n<r.length;n++){if(null!=(c=r[n])){t=!1;break}}if(!t){for(var i=[],a=0;a<e.length;++a){var o=e[a].slice();o.splice(this.axis,1);for(var s=!1,l=0,u=i;l<u.length;l++){var c=u[l];if(util.arraysEqual(c,o)){s=!0;break}}s||i.push(o)}if(i.length>1)throw new ValueError(\"A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: \"+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return tidy(function(){return concatenate(e,t.axis)})},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ValueError(\"A `Concatenate` layer should be called on a list of inputs.\");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=t.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ValueError(\"`mask` should be an array for Concatenate\");if(!Array.isArray(e))throw new ValueError(\"`inputs` should be an array for Concatenate\");if(t.length!==e.length)throw new ValueError(\"Mismatch in the length of mask (\"+t.length+\") and the legnth of inputs (\"+e.length+\")\");return tidy(function(){var r=!0;if(t.forEach(function(e){null==e||(r=!1)}),r)return null;for(var i=[],a=0;a<e.length;++a)null==t[a]?i.push(onesLike(e[a]).asType(\"bool\")):t[a].rank<e[a].rank?i.push(expandDims(t[a],-1)):i.push(t[a]);var o=concat(i,n.axis);return all(o,-1,!1)})},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Concatenate\",t}(Merge);function interpretAxis(e,t){for(;e<0;)e+=t;return e}function batchDot(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new NotImplementedError(\"batchDot is not implemented for tensors of 4D or higher rank yet\");if(util.assert(e.shape.length>=2,function(){return\"batchDot requires the rank of x to be >= 2, but got \"+e.shape.length}),util.assert(e.shape.length>=2,function(){return\"batchDot requires the rank of y to be >= 2, but got \"+t.shape.length}),\"number\"==typeof n&&(n=[n,n]),\"complex64\"===e.dtype||\"complex64\"===t.dtype)throw new NotImplementedError(\"batchDot is not implemented for complex64-type Tensors yet.\");var r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);var a=n;return tidy(function(){var n,o;if(r>i){n=r-i;for(var s=[],l=0;l<n;++l)s.push(1);t=t.reshape(t.shape.concat(s))}else if(i>r){n=i-r;for(s=[],l=0;l<n;++l)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=a[0]===a[1]?e.mulStrict(t).sum(a[0]):e.transpose([1,0]).mulStrict(t).sum(a[1]);else{var u=a[0]!==e.shape.length-1,c=a[1]===t.shape.length-1;o=e.matMul(t,u,c)}if(n>0){var p=void 0,h=[];for(l=p=r>i?r+i-3:r-1;l<p+n;++l)h.push(l);o=o.squeeze(h)}return 1===o.shape.length&&(o=o.expandDims(1)),o})}serialization.registerClass(Concatenate);var Dot=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return\"A `Dot` layer should be called on a list of exactly 2 inputs.\"});var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ValueError(\"Dimension incompatibility: \"+t[r[0]]+\" !== \"+n[r[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new ValueError(\"A `Dot` layer must be called on exactly 2 inputs, but received \"+e.length+\" input(s).\");var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(function(t,n){return interpretAxis(t,e[n].shape.length)}):[interpretAxis(this.axes,n.shape.length),interpretAxis(this.axes,r.shape.length)],this.normalize&&(n=l2Normalize(n,t[0]),r=l2Normalize(r,t[1])),batchDot(n,r,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[interpretAxis(this.axes,e.length),interpretAxis(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return\"A `Dot` layer should be called on a list of exactly 2 inputs.\"});var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Dot\",t}(Merge);serialization.registerClass(Dot);var GaussianNoise=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return inTrainPhase(function(){return randomNormal$1(r.shape,0,n.stddev).add(r)},function(){return r},t.training||!1)})},t.className=\"GaussianNoise\",t}(Layer);serialization.registerClass(GaussianNoise);var GaussianDropout=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if(n.rate>0&&n.rate<1){return inTrainPhase(function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(randomNormal$1(r.shape,1,e))},function(){return r},t.training||!1)}return r})},t.className=\"GaussianDropout\",t}(Layer);serialization.registerClass(GaussianDropout);var AlphaDropout=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return __extends(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||getExactlyOneTensor(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return inTrainPhase(function(){var t=getExactlyOneTensor(e),i=-1.7580993408473766,a=greaterEqual(randomUniform(r),n.rate);a=cast$1(a,\"float32\");var o=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),s=-o*i*n.rate;return t.mul(a).add(a.add(-1).mul(i)).mul(o).add(s)},function(){return getExactlyOneTensor(e)},t.training||!1)}return e})},t.className=\"AlphaDropout\",t}(Layer);function batchNormalization(e,t,n,r,i,a){var o;if(void 0===a&&(a=.001),2===e.rank)o=batchNorm2d(e,t,n,r,i,a);else if(3===e.rank)o=batchNorm3d(e,t,n,r,i,a);else{if(4!==e.rank)throw new NotImplementedError(\"batchNormalization is not implemented for array of rank \"+e.rank+\" yet\");o=batchNorm4d(e,t,n,r,i,a)}return o}function regularNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),tidy(function(){var a=moments(e,r),o=a.mean,s=a.variance;return[batchNormalization(e,o,s,n,t,i),o,s]})}function broadcastNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),tidy(function(){for(var a=moments(e,r),o=a.mean,s=a.variance,l=[],u=0,c=range(0,e.rank);u<c.length;u++){var p=c[u];-1!==r.indexOf(p)?l.push(1):l.push(e.shape[p])}var h=o.reshape(l),d=s.reshape(l),f=null==t?null:t.reshape(l),g=null==n?null:n.reshape(l);return[batchNormalization(e,h,d,g,f,i),o,s]})}function normalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),util.arraysEqual(r.slice().sort(),range(0,e.rank-1))?regularNormalizeBatchInTraining(e,t,n,r,i):broadcastNormalizeBatchInTraining(e,t,n,r,i)}serialization.registerClass(AlphaDropout);var BatchNormalization=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=getInitializer(t.betaInitializer||\"zeros\"),n.gammaInitializer=getInitializer(t.gammaInitializer||\"ones\"),n.movingMeanInitializer=getInitializer(t.movingMeanInitializer||\"zeros\"),n.movingVarianceInitializer=getInitializer(t.movingVarianceInitializer||\"ones\"),n.betaConstraint=getConstraint(t.betaConstraint),n.gammaConstraint=getConstraint(t.gammaConstraint),n.betaRegularizer=getRegularizer(t.betaRegularizer),n.gammaRegularizer=getRegularizer(t.gammaRegularizer),n}return __extends(t,e),t.prototype.build=function(e){var t;e=getExactlyOneShape(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new ValueError(\"Axis \"+n+\" of input tensor should have a defined dimension but the layer received an input with shape \"+JSON.stringify(e)+\".\");this.inputSpec=[new InputSpec({ndim:e.length,axes:(t={},t[n]=r,t)})];var i=[r];this.scale&&(this.gamma=this.addWeight(\"gamma\",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight(\"beta\",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight(\"moving_mean\",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight(\"moving_variance\",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null!=t.training&&t.training,i=getExactlyOneTensor(e),a=i.shape,o=a.length,s=range(0,o),l=n.axis>=0?n.axis:n.axis+o;s.splice(l,1);var u=pyListRepeat(1,o);u[l]=a[l];var c=s.slice();c.sort();var p=!util.arraysEqual(c,range(0,o).slice(0,o-1));if(!r)return function(){if(p){var e=n.movingMean.read().reshape(u),t=n.movingVariance.read().reshape(u),r=n.center?n.beta.read().reshape(u):null,a=n.scale?n.gamma.read().reshape(u):null;return batchNormalization(i,e,t,r,a,n.epsilon)}return batchNormalization(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=normalizeBatchInTraining(i,n.gamma.read(),n.beta.read(),s,n.epsilon),d=h[0],f=h[1],g=h[2],m=function(e,t,n){tidy(function(){var r=1-n,i=e.read(),a=i.sub(t).mul(r);e.write(i.sub(a))})};return m(n.movingMean,f,n.momentum),m(n.movingVariance,g,n.momentum),d})},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),movingMeanInitializer:serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:serializeInitializer(this.movingVarianceInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer),betaConstraint:serializeConstraint(this.betaConstraint),gammaConstraint:serializeConstraint(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"BatchNormalization\",t}(Layer);serialization.registerClass(BatchNormalization);var LayerNormalization=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,\"number\"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error(\"Expected axis to be an integer, but received \"+n.axis)}else{if(!Array.isArray(n.axis))throw new Error(\"Expected axis to be an integer or an array of integers, but received \"+JSON.stringify(n.axis));for(var r=0,i=n.axis;r<i.length;r++){var a=i[r];if(!Number.isInteger(a))throw new Error(\"Expected axis to be an array of integers, but received \"+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=getInitializer(t.betaInitializer||\"zeros\"),n.gammaInitializer=getInitializer(t.gammaInitializer||\"ones\"),n.betaRegularizer=getRegularizer(t.betaRegularizer),n.gammaRegularizer=getRegularizer(t.gammaRegularizer),n.supportsMasking=!0,n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e)).length;\"number\"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,i=this.axis;r<i.length;r++){var a=i[r];if(a<0||a>=t)throw new Error(\"Invalid axis: \"+a)}if(this.axis.length!==unique(this.axis).length)throw new Error(\"Found duplicate axes in: \"+this.axis);var o=this.axis.map(function(t){return e[t]});this.scale?this.gamma=this.addWeight(\"gamma\",o,\"float32\",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight(\"beta\",o,\"float32\",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,r=getExactlyOneTensor(e),i=r.shape,a=i.length;return tidy(function(){for(var e=moments(r,n.axis,!0),t=e.mean,o=e.variance,s=pyListRepeat(1,a),l=0,u=n.axis;l<u.length;l++){var c=u[l];s[c]=i[c]}for(var p=function(e){return null!=e&&e.shape.length!==a&&n.axis!==[a-1]?e.reshape(s):e},h=p(n.gamma.read()),d=p(n.beta.read()),f=[],g=[],m=0;m<a;++m)-1!==n.axis.indexOf(m)?(f.push(i[m]),g.push(1)):(f.push(1),g.push(i[m]));return t=t.tile(f),o=o.tile(f),h=h.tile(g),d=d.tile(g),batchNormalization(r,t,o,d,h,n.epsilon)})},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"BatchNormalization\",t}(Layer);function spatial2dPadding(e,t,n){return tidy(function(){if(4!==e.rank)throw new ValueError(\"temporalPadding expects input tensor to be 4-D, but received a \"+e.rank+\"-D tensor.\");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new ValueError(\"spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.\");if(null==n&&(n=imageDataFormat()),\"channelsLast\"!==n&&\"channelsFirst\"!==n)throw new ValueError(\"Unknown data format: \"+n+\". Supported data formats are 'channelsLast' and 'channelsFirst.\");var r;return r=\"channelsFirst\"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],pad(e,r)})}serialization.registerClass(LayerNormalization);var ZeroPadding2D=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?imageDataFormat():t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if(\"number\"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new ValueError(\"ZeroPadding2D expects padding to be a length-2 array, but received a length-\"+t.padding.length+\" array.\");var r=void 0,i=void 0;if(\"number\"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new ValueError(\"ZeroPadding2D expects height padding to be a length-2 array, but received a length-\"+t.padding[0].length+\" array.\");if(r=t.padding[0],2!==t.padding[1].length)throw new ValueError(\"ZeroPadding2D expects width padding to be a length-2 array, but received a length-\"+t.padding[1].length+\" array.\");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=getExactlyOneShape(e),\"channelsFirst\"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return tidy(function(){return spatial2dPadding(getExactlyOneTensor(e),n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ZeroPadding2D\",t}(Layer);function pool2d(e,t,n,r,i,a){return tidy(function(){var o;checkDataFormat(i),checkPoolMode(a),checkPaddingMode(r),null==n&&(n=[1,1]),null==r&&(r=\"valid\"),null==i&&(i=imageDataFormat()),null==a&&(a=\"max\"),e=preprocessConv2DInput(e,i);var s=\"same\"===r?\"same\":\"valid\";return o=\"max\"===a?maxPool(e,t,n,s):avgPool(e,t,n,s),\"channelsFirst\"===i&&(o=transpose(o,[0,3,1,2])),o})}function pool3d(e,t,n,r,i,a){return tidy(function(){var o;checkDataFormat(i),checkPoolMode(a),checkPaddingMode(r),null==n&&(n=[1,1,1]),null==r&&(r=\"valid\"),null==i&&(i=imageDataFormat()),null==a&&(a=\"max\"),e=preprocessConv3DInput(e,i);var s=\"same\"===r?\"same\":\"valid\";return o=\"max\"===a?maxPool3d(e,t,n,s):avgPool3d(e,t,n,s),\"channelsFirst\"===i&&(o=transpose(o,[0,4,1,2,3])),o})}serialization.registerClass(ZeroPadding2D);var Pooling1D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,\"number\"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||\"number\"!=typeof t.poolSize[0])throw new ValueError(\"poolSize for 1D convolutional layer must be a number or an Array of a single number, but received \"+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(assertPositiveInteger(n.poolSize,\"poolSize\"),null==t.strides)n.strides=n.poolSize;else if(\"number\"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||\"number\"!=typeof t.strides[0])throw new ValueError(\"strides for 1D convolutional layer must be a number or an Array of a single number, but received \"+JSON.stringify(t.strides));n.strides=t.strides}return assertPositiveInteger(n.strides,\"strides\"),n.padding=null==t.padding?\"valid\":t.padding,checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=convOutputLength((e=getExactlyOneShape(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t),e=expandDims$1(getExactlyOneTensor(e),2);var r=n.poolingFunction(getExactlyOneTensor(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,\"channelsLast\");return squeeze(r,[2])})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"max\")},t.className=\"MaxPooling1D\",t}(Pooling1D);serialization.registerClass(MaxPooling1D);var AveragePooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"avg\")},t.className=\"AveragePooling1D\",t}(Pooling1D);serialization.registerClass(AveragePooling1D);var Pooling2D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new ValueError(\"If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length \"+t.strides.length+\".\");n.strides=t.strides}else n.strides=[t.strides,t.strides];return assertPositiveInteger(n.poolSize,\"poolSize\"),assertPositiveInteger(n.strides,\"strides\"),n.padding=null==t.padding?\"valid\":t.padding,n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,checkDataFormat(n.dataFormat),checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],n=\"channelsFirst\"===this.dataFormat?e[3]:e[2];return t=convOutputLength(t,this.poolSize[0],this.padding,this.strides[0]),n=convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),\"channelsFirst\"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return n.invokeCallHook(e,t),n.poolingFunction(getExactlyOneTensor(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"max\")},t.className=\"MaxPooling2D\",t}(Pooling2D);serialization.registerClass(MaxPooling2D);var AveragePooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"avg\")},t.className=\"AveragePooling2D\",t}(Pooling2D);serialization.registerClass(AveragePooling2D);var Pooling3D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new ValueError(\"If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length \"+t.strides.length+\".\");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return assertPositiveInteger(n.poolSize,\"poolSize\"),assertPositiveInteger(n.strides,\"strides\"),n.padding=null==t.padding?\"valid\":t.padding,n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,checkDataFormat(n.dataFormat),checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:5})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],n=\"channelsFirst\"===this.dataFormat?e[3]:e[2],r=\"channelsFirst\"===this.dataFormat?e[4]:e[3];return t=convOutputLength(t,this.poolSize[0],this.padding,this.strides[0]),n=convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),r=convOutputLength(r,this.poolSize[2],this.padding,this.strides[2]),\"channelsFirst\"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return n.invokeCallHook(e,t),n.poolingFunction(getExactlyOneTensor(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling3D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool3d(e,t,n,r,i,\"max\")},t.className=\"MaxPooling3D\",t}(Pooling3D);serialization.registerClass(MaxPooling3D);var AveragePooling3D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool3d(e,t,n,r,i,\"avg\")},t.className=\"AveragePooling3D\",t}(Pooling3D);serialization.registerClass(AveragePooling3D);var GlobalPooling1D=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new NotImplementedError},t}(Layer),GlobalAveragePooling1D=function(e){function t(t){return e.call(this,t||{})||this}return __extends(t,e),t.prototype.call=function(e,t){return tidy(function(){var t=getExactlyOneTensor(e);return mean(t,1)})},t.className=\"GlobalAveragePooling1D\",t}(GlobalPooling1D);serialization.registerClass(GlobalAveragePooling1D);var GlobalMaxPooling1D=function(e){function t(t){return e.call(this,t||{})||this}return __extends(t,e),t.prototype.call=function(e,t){return tidy(function(){var t=getExactlyOneTensor(e);return max(t,1)})},t.className=\"GlobalMaxPooling1D\",t}(GlobalPooling1D);serialization.registerClass(GlobalMaxPooling1D);var GlobalPooling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,checkDataFormat(n.dataFormat),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e=e,\"channelsLast\"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new NotImplementedError},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),GlobalAveragePooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);return\"channelsLast\"===n.dataFormat?mean(t,[1,2]):mean(t,[2,3])})},t.className=\"GlobalAveragePooling2D\",t}(GlobalPooling2D);serialization.registerClass(GlobalAveragePooling2D);var GlobalMaxPooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);return\"channelsLast\"===n.dataFormat?max(t,[1,2]):max(t,[2,3])})},t.className=\"GlobalMaxPooling2D\",t}(GlobalPooling2D);function standardizeArgs(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ValueError(\"When inputs is an array, neither initialState or constants should be provided\");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function rnn(e,t,n,r,i,a,o,s){return void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),tidy(function(){var l=t.shape.length;if(l<3)throw new ValueError(\"Input should be at least 3D, but is \"+l+\"D.\");var u=[1,0].concat(range(2,l));if(t=transpose(t,u),null!=a)throw new NotImplementedError(\"The rnn() functoin of the deeplearn.js backend does not support constants yet.\");o&&console.warn(\"Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend.\"),null!=i&&((i=i.asType(\"bool\").asType(\"float32\")).rank===l-1&&(i=expandDims(i,-1)),i=transpose(i,u)),r&&(t=reverse(t,0),null!=i&&(i=reverse(i,0)));var c,p,h=[],d=n,f=t.shape[0],g=unstack(t);null!=i&&(p=unstack(i));for(var m,y=function(t){var n=g[t],r=tidy(function(){return e(n,d)});if(null==i)c=r[0],d=r[1];else{var a=tidy(function(){var e=p[t],n=onesLike(e).sub(e);return{output:r[0].mul(e).addStrict(d[0].mul(n)),newStates:d.map(function(t,i){return r[1][i].mul(e).addStrict(t.mul(n))})}});c=a.output,d=a.newStates}s&&h.push(c)},v=0;v<f;++v)y(v);if(s){m=stack(h,1)}return[c,m,d]})}serialization.registerClass(GlobalMaxPooling2D);var RNN=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new ValueError(\"cell property is missing for the constructor of RNN.\");if(null==(n=Array.isArray(t.cell)?new StackedRNNCells({cells:t.cell}):t.cell).stateSize)throw new ValueError(\"The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).\");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new InputSpec({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return __extends(t,e),t.prototype.getStates=function(){return null==this.states_?range(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null}):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map(function(e){return null});return[e].concat(r)}return e})},Object.defineProperty(t.prototype,\"states\",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new NotImplementedError(\"Constants support is not implemented in RNN yet.\");isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new InputSpec({shape:[t,null,n]});var r,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!util.arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1]}),r))throw new ValueError(\"An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=\"+this.stateSpec+\"; However cell.stateSize is \"+this.cell.stateSize)}else this.stateSpec=r.map(function(e){return new InputSpec({shape:[null,e]})});this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),tidy(function(){if(!n.stateful)throw new AttributeError(\"Cannot call resetStates() on an RNN Layer that is not stateful.\");var r=n.inputSpec[0].shape[0];if(null==r)throw new ValueError(\"If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \\n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.\");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return zeros([r,e])}):n.states_=[zeros([r,n.cell.stateSize])];else if(null==e)dispose(n.states_),null!=n.keptStates&&(dispose(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return zeros([r,e])}):n.states_[0]=zeros([r,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new ValueError(\"Layer \"+n.name+\" expects \"+n.states_.length+\" state(s), but it received \"+e.length+\" state value(s). Input received: \"+e);!0===t?n.keptStates.push(n.states_.slice()):dispose(n.states_);for(var i=0;i<n.states_.length;++i){var a=e[i],o=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,s=[r,o];if(!util.arraysEqual(a.shape,s))throw new ValueError(\"State \"+i+\" is incompatible with layer \"+n.name+\": expected shape=\"+s+\", received shape=\"+a.shape);n.states_[i]=a}}n.states_=n.states_.map(function(e){return keep(e.clone())})})},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);t=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++){var c=u[l];this.stateSpec.push(new InputSpec({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof SymbolicTensor){var p=[t].concat(o),h=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=h;var f=e.prototype.apply.call(this,p,n);return this.inputSpec=d,f}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=getExactlyOneTensor(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new ValueError(\"RNN Layer has \"+o+\" state(s) but was passed \"+a.length+\" initial state(s).\");n.unroll&&console.warn(\"Ignoring unroll = true for RNN layer, due to imperative backend.\");var s={training:i},l=rnn(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]},e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],p=l[2];n.stateful&&n.resetStates(p,i);var h=n.returnSequences?c:u;return n.returnState?[h].concat(p):h})},t.prototype.getInitialState=function(e){var t=this;return tidy(function(){var n=zeros(e.shape);return n=expandDims$1(n=sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?tile$1(n,[1,e]):n}):t.cell.stateSize>1?[tile$1(n,[1,t.cell.stateSize])]:[n]})},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=deserialize(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className=\"RNN\",t}(Layer);serialization.registerClass(RNN);var RNNCell=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Layer),SimpleRNNCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,assertPositiveInteger(n.units,\"units\"),n.activation=getActivation(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){e=getExactlyOneShape(e),this.kernel=this.addWeight(\"kernel\",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(2!==(e=e).length)throw new ValueError(\"SimpleRNNCell expects 2 input Tensors, got \"+e.length+\".\");var r=e[1];e=e[0];var i,a=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,a)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(r)},n.recurrentDropout,a));var o=n.dropoutMask,s=n.recurrentDropoutMask;i=dot(null!=o?mul(e,o):e,n.kernel.read()),null!=n.bias&&(i=biasAdd(i,n.bias.read())),null!=s&&(r=mul(r,s));var l=add(i,dot(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"SimpleRNNCell\",t}(RNNCell);serialization.registerClass(SimpleRNNCell);var SimpleRNN=function(e){function t(t){return t.cell=new SimpleRNNCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className=\"SimpleRNN\",t}(RNN);serialization.registerClass(SimpleRNN);var GRUCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_RECURRENT_ACTIVATION=\"hardSigmoid\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,assertPositiveInteger(n.units,\"units\"),n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e))[e.length-1];this.kernel=this.addWeight(\"kernel\",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(2!==(e=e).length)throw new ValueError(\"GRUCell expects 2 input Tensors (inputs, h, c), got \"+e.length+\".\");var r=null!=t.training&&t.training,i=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(i)},n.recurrentDropout,r,3));var a,o,s,l=n.dropoutMask,u=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=mul(e,l[0]));var c=dot(e,n.kernel.read());n.useBias&&(c=biasAdd(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=mul(i,u[0]));var p=n.recurrentKernel.read(),h=split(p,[2*n.units,n.units],p.rank-1),d=h[0],f=h[1],g=dot(i,d),m=split(c,3,c.rank-1),y=m[0],v=m[1],b=m[2],w=split(g,2,g.rank-1),z=w[0],S=w[1];a=n.recurrentActivation.apply(add(y,z)),o=n.recurrentActivation.apply(add(v,S));var A=dot(mul(o,i),f);s=n.activation.apply(add(b,A));var _=add(mul(a,i),mul(add(1,neg(a)),s));return[_,_]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"GRUCell\",t}(RNNCell);serialization.registerClass(GRUCell);var GRU=function(e){function t(t){return 0===t.implementation&&console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"),t.cell=new GRUCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentActivation\",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"implementation\",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className=\"GRU\",t}(RNN);serialization.registerClass(GRU);var LSTMCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_RECURRENT_ACTIVATION=\"hardSigmoid\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,assertPositiveInteger(n.units,\"units\"),n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t,n,r=(e=getExactlyOneShape(e))[e.length-1];if(this.kernel=this.addWeight(\"kernel\",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,a=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){var n=i.apply([a]),r=(new Ones).apply([a]),o=i.apply([2*a]);return concatAlongFirstAxis(concatAlongFirstAxis(n,r),o)},t}(Initializer)).className=\"CustomInit\",t)}else n=this.biasInitializer;this.bias=this.addWeight(\"bias\",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new ValueError(\"LSTMCell expects 3 input Tensors (inputs, h, c), got \"+e.length+\".\");var i=e[1],a=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(i)},n.recurrentDropout,r,4));var o,s,l,u,c=n.dropoutMask,p=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=mul(e,c[0]));var h=dot(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=mul(i,p[0])),h=add(h,dot(i,n.recurrentKernel.read())),n.useBias&&(h=biasAdd(h,n.bias.read()));var d=split(h,4,h.rank-1),f=d[0],g=d[1],m=d[2],y=d[3];o=n.recurrentActivation.apply(f),s=n.recurrentActivation.apply(g),l=add(mul(s,a),mul(o,n.activation.apply(m))),u=n.recurrentActivation.apply(y);var v=mul(u,n.activation.apply(l));return[v,v,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"LSTMCell\",t}(RNNCell);serialization.registerClass(LSTMCell);var LSTM=function(e){function t(t){return 0===t.implementation&&console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"),t.cell=new LSTMCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentActivation\",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"unitForgetBias\",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"implementation\",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className=\"LSTM\",t}(RNN);serialization.registerClass(LSTM);var StackedRNNCells=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return __extends(t,e),Object.defineProperty(t.prototype,\"stateSize\",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return tidy(function(){for(var r=(e=e).slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c){s=n.cells[c];r=i[c],l=0===c?[e[0]].concat(r):[l[0]].concat(r),l=s.call(l,t),u.push(l.slice(1))}r=[];for(var p=0,h=u.slice().reverse();p<h.length;p++){var d=h[p];r.push.apply(r,d)}return[l[0]].concat(r)})},t.prototype.build=function(e){var t;isArrayOfShapes(e)&&(e=e[0]),e=e,this.cells.forEach(function(n,r){nameScope(\"RNNCell_\"+r,function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:i.getClassName(),config:i.getConfig()})}var a={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(a,o),a},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,a=t.cells;i<a.length;i++){var o=a[i];r.push(deserialize(o,n))}return new e({cells:r})},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return batchGetValue(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)t.push([i.weights[s],o[s]]);batchSetValue(t)},t.className=\"StackedRNNCells\",t}(RNNCell);function generateDropoutMask(e,t,n,r){function i(){return dropout$1(e(),t)}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var a=[],o=0;o<r;o++)a.push(inTrainPhase(i,e,n));return a.map(function(e){return keep(e.clone())})}return keep(inTrainPhase(i,e,n).clone())}serialization.registerClass(StackedRNNCells);var Wrapper=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return __extends(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,\"trainable\",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"updates\",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"losses\",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=deserialize(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(Layer),TimeDistributed=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.build=function(t){if((t=getExactlyOneShape(t)).length<3)throw new ValueError(\"TimeDistributed layer expects an input shape >= 3D, but received input shape \"+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=getExactlyOneShape(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return tidy(function(){return rnn(function(e,r){return[getExactlyOneTensor(n.layer.call(e,t)),[]]},e=getExactlyOneTensor(e),[],!1,null,null,!1,!0)[1]})},t.className=\"TimeDistributed\",t}(Wrapper);function checkBidirectionalMergeMode(e){checkStringTypeUnionValue(VALID_BIDIRECTIONAL_MERGE_MODES,\"BidirectionalMergeMode\",e)}serialization.registerClass(TimeDistributed);var DEFAULT_BIDIRECTIONAL_MERGE_MODE=\"concat\",Bidirectional=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=r,n.forwardLayer=deserialize(i),r.goBackwards=!0!==r.goBackwards;var a={};if(a.className=t.layer.getClassName(),a.config=r,n.backwardLayer=deserialize(a),n.forwardLayer.name=\"forward_\"+n.forwardLayer.name,n.backwardLayer.name=\"backward_\"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?DEFAULT_BIDIRECTIONAL_MERGE_MODE:t.mergeMode,checkBidirectionalMergeMode(n.mergeMode),t.weights)throw new NotImplementedError(\"weights support is not implemented for Bidirectional layer yet.\");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return __extends(t,e),Object.defineProperty(t.prototype,\"trainable\",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,\"concat\"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):singletonOrArray(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);if(t=a.inputs,r=a.initialState,i=a.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var o=[],s=[];if(null!=r){var l=r.length;if(l%2>0)throw new ValueError(\"When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.\");n.initialState=r,o.push.apply(o,r);var u=r.map(function(e){return new InputSpec({shape:e.shape})});this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,u)}if(null!=i)throw new NotImplementedError(\"Support for constants in Bidirectional layers is not implemented yet.\");for(var c=o[0]instanceof SymbolicTensor,p=0,h=o;p<h.length;p++){if(h[p]instanceof SymbolicTensor!==c)throw new ValueError(\"The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors\")}if(c){var d=[t].concat(o),f=this.inputSpec.concat(s),g=this.inputSpec;this.inputSpec=f;var m=e.prototype.apply.call(this,d,n);return this.inputSpec=g,m}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(null!=t.mask)throw new NotImplementedError(\"The support for masking is not implemented for Bidirectional layers yet.\");var r,i,a,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=reverse(i,1)),\"concat\"===n.mergeMode?o=concatenate([r,i]):\"sum\"===n.mergeMode?o=add(r,i):\"ave\"===n.mergeMode?o=mul(.5,add(r,i)):\"mul\"===n.mergeMode?o=mul(r,i):null==n.mergeMode&&(o=[r,i]),n.returnState?null==n.mergeMode?o.concat(a):[o].concat(a):o})},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;nameScope(this.forwardLayer.name,function(){t.forwardLayer.build(e)}),nameScope(this.backwardLayer.name,function(){t.backwardLayer.build(e)}),this.built=!0},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=deserialize(t.layer);if(delete t.layer,null!=t.numConstants)throw new NotImplementedError(\"Deserialization of a Bidirectional layer with numConstants present is not supported yet.\");var r=t;return r.layer=n,new e(r)},t.className=\"Bidirectional\",t}(Wrapper);function inputLayer(e){return new InputLayer(e)}function elu$2(e){return new ELU(e)}function reLU(e){return new ReLU(e)}function leakyReLU(e){return new LeakyReLU(e)}function prelu$1(e){return new PReLU(e)}function softmax$1(e){return new Softmax$1(e)}function thresholdedReLU(e){return new ThresholdedReLU(e)}function conv1d$2(e){return new Conv1D(e)}function conv2d$1(e){return new Conv2D(e)}function conv2dTranspose$1(e){return new Conv2DTranspose(e)}function conv3d$2(e){return new Conv3D(e)}function separableConv2d$1(e){return new SeparableConv2D(e)}function cropping2D(e){return new Cropping2D(e)}function upSampling2d(e){return new UpSampling2D(e)}function depthwiseConv2d$2(e){return new DepthwiseConv2D(e)}function activation(e){return new Activation$1(e)}function dense(e){return new Dense(e)}function dropout$2(e){return new Dropout(e)}function flatten$1(e){return new Flatten(e)}function repeatVector(e){return new RepeatVector(e)}function reshape(e){return new Reshape(e)}function permute(e){return new Permute(e)}function embedding(e){return new Embedding(e)}function add$2(e){return new Add(e)}function average$1(e){return new Average(e)}function concatenate$2(e){return new Concatenate(e)}function maximum$2(e){return new Maximum(e)}function minimum$2(e){return new Minimum(e)}function multiply$1(e){return new Multiply(e)}function dot$1(e){return new Dot(e)}function batchNormalization$1(e){return new BatchNormalization(e)}function layerNormalization(e){return new LayerNormalization(e)}function zeroPadding2d(e){return new ZeroPadding2D(e)}function averagePooling1d(e){return new AveragePooling1D(e)}function avgPool1d(e){return averagePooling1d(e)}function avgPooling1d(e){return averagePooling1d(e)}function averagePooling2d(e){return new AveragePooling2D(e)}function avgPool2d(e){return averagePooling2d(e)}function avgPooling2d(e){return averagePooling2d(e)}function averagePooling3d(e){return new AveragePooling3D(e)}function avgPool3d$1(e){return averagePooling3d(e)}function avgPooling3d(e){return averagePooling3d(e)}function globalAveragePooling1d(e){return new GlobalAveragePooling1D(e)}function globalAveragePooling2d(e){return new GlobalAveragePooling2D(e)}function globalMaxPooling1d(e){return new GlobalMaxPooling1D(e)}function globalMaxPooling2d(e){return new GlobalMaxPooling2D(e)}function maxPooling1d(e){return new MaxPooling1D(e)}function maxPooling2d(e){return new MaxPooling2D(e)}function maxPooling3d(e){return new MaxPooling3D(e)}function gru(e){return new GRU(e)}function gruCell(e){return new GRUCell(e)}function lstm(e){return new LSTM(e)}function lstmCell(e){return new LSTMCell(e)}function simpleRNN(e){return new SimpleRNN(e)}function simpleRNNCell(e){return new SimpleRNNCell(e)}function rnn$1(e){return new RNN(e)}function stackedRNNCells(e){return new StackedRNNCells(e)}function bidirectional(e){return new Bidirectional(e)}function timeDistributed(e){return new TimeDistributed(e)}serialization.registerClass(Bidirectional);var globalMaxPool1d=globalMaxPooling1d,globalMaxPool2d=globalMaxPooling2d,maxPool1d=maxPooling1d,maxPool2d=maxPooling2d;function gaussianNoise(e){return new GaussianNoise(e)}function gaussianDropout(e){return new GaussianDropout(e)}function alphaDropout(e){return new AlphaDropout(e)}function masking(e){return new Masking(e)}var exports_layers=Object.freeze({inputLayer:inputLayer,elu:elu$2,reLU:reLU,leakyReLU:leakyReLU,prelu:prelu$1,softmax:softmax$1,thresholdedReLU:thresholdedReLU,conv1d:conv1d$2,conv2d:conv2d$1,conv2dTranspose:conv2dTranspose$1,conv3d:conv3d$2,separableConv2d:separableConv2d$1,cropping2D:cropping2D,upSampling2d:upSampling2d,depthwiseConv2d:depthwiseConv2d$2,activation:activation,dense:dense,dropout:dropout$2,flatten:flatten$1,repeatVector:repeatVector,reshape:reshape,permute:permute,embedding:embedding,add:add$2,average:average$1,concatenate:concatenate$2,maximum:maximum$2,minimum:minimum$2,multiply:multiply$1,dot:dot$1,batchNormalization:batchNormalization$1,layerNormalization:layerNormalization,zeroPadding2d:zeroPadding2d,averagePooling1d:averagePooling1d,avgPool1d:avgPool1d,avgPooling1d:avgPooling1d,averagePooling2d:averagePooling2d,avgPool2d:avgPool2d,avgPooling2d:avgPooling2d,averagePooling3d:averagePooling3d,avgPool3d:avgPool3d$1,avgPooling3d:avgPooling3d,globalAveragePooling1d:globalAveragePooling1d,globalAveragePooling2d:globalAveragePooling2d,globalMaxPooling1d:globalMaxPooling1d,globalMaxPooling2d:globalMaxPooling2d,maxPooling1d:maxPooling1d,maxPooling2d:maxPooling2d,maxPooling3d:maxPooling3d,gru:gru,gruCell:gruCell,lstm:lstm,lstmCell:lstmCell,simpleRNN:simpleRNN,simpleRNNCell:simpleRNNCell,rnn:rnn$1,stackedRNNCells:stackedRNNCells,bidirectional:bidirectional,timeDistributed:timeDistributed,globalMaxPool1d:globalMaxPool1d,globalMaxPool2d:globalMaxPool2d,maxPool1d:maxPool1d,maxPool2d:maxPool2d,Layer:Layer,RNN:RNN,RNNCell:RNNCell,input:input,gaussianNoise:gaussianNoise,gaussianDropout:gaussianDropout,alphaDropout:alphaDropout,masking:masking});function binaryAccuracy$1(e,t){return binaryAccuracy(e,t)}function binaryCrossentropy$2(e,t){return binaryCrossentropy$1(e,t)}function sparseCategoricalAccuracy$1(e,t){return sparseCategoricalAccuracy(e,t)}function categoricalAccuracy$1(e,t){return categoricalAccuracy(e,t)}function categoricalCrossentropy$2(e,t){return categoricalCrossentropy$1(e,t)}function precision$1(e,t){return precision(e,t)}function recall$1(e,t){return recall(e,t)}function cosineProximity$1(e,t){return cosineProximity(e,t)}function meanAbsoluteError$1(e,t){return meanAbsoluteError(e,t)}function meanAbsolutePercentageError$1(e,t){return meanAbsolutePercentageError(e,t)}function MAPE$2(e,t){return meanAbsolutePercentageError(e,t)}function mape$2(e,t){return meanAbsolutePercentageError(e,t)}function meanSquaredError$1(e,t){return meanSquaredError(e,t)}function MSE$2(e,t){return meanSquaredError(e,t)}function mse$2(e,t){return meanSquaredError(e,t)}var exports_metrics=Object.freeze({binaryAccuracy:binaryAccuracy$1,binaryCrossentropy:binaryCrossentropy$2,sparseCategoricalAccuracy:sparseCategoricalAccuracy$1,categoricalAccuracy:categoricalAccuracy$1,categoricalCrossentropy:categoricalCrossentropy$2,precision:precision$1,recall:recall$1,cosineProximity:cosineProximity$1,meanAbsoluteError:meanAbsoluteError$1,meanAbsolutePercentageError:meanAbsolutePercentageError$1,MAPE:MAPE$2,mape:mape$2,meanSquaredError:meanSquaredError$1,MSE:MSE$2,mse:mse$2}),exports_models=Object.freeze({modelFromJSON:modelFromJSON});function l1l2(e){return new L1L2(e)}function l1$1(e){return l1(e)}function l2$1(e){return l2(e)}var exports_regularizers=Object.freeze({l1l2:l1l2,l1:l1$1,l2:l2$1}),Callback=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return __extends(t,e),t.prototype.setModel=function(e){if(!(e instanceof LayersModel))throw new Error(\"model must be a LayersModel, not some other Container\");this.model=e},t}(BaseCallback);function less(e,t){return e<t}function greater$1(e,t){return e>t}var EarlyStopping=function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new NotImplementedError(\"restoreBestWeights = True is not implemented in EarlyStopping yet.\");return n.monitor=t.monitor||\"val_loss\",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||\"auto\",n.baseline=t.baseline,-1===[\"auto\",\"min\",\"max\"].indexOf(n.mode)&&(console.warn(\"EarlyStopping mode '\"+n.mode+\"' is invalid. Falling back to mode 'auto'.\"),n.mode=\"auto\"),\"min\"===n.mode?n.monitorFunc=less:\"max\"===n.mode?n.monitorFunc=greater$1:-1!==n.monitor.indexOf(\"acc\")?n.monitorFunc=greater$1:n.monitorFunc=less,n.monitorFunc===less&&(n.minDelta*=-1),n}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===less?1/0:-1/0,[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return[4,resolveScalarsInLogs(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))?[2]:(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)),[2])}})})},t.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.stoppedEpoch>0&&this.verbose&&console.log(\"Epoch \"+this.stoppedEpoch+\": early stopping.\"),[2]})})},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn(\"Metric for EarlyStopping \"+this.monitor+\" is not available. Available metrics are: \"+Object.keys(e)),t},t}(Callback);function earlyStopping(e){return new EarlyStopping(e)}var callbacks={earlyStopping:earlyStopping};export{exports_constraints as constraints,exports_initializers as initializers,exports_layers as layers,exports_metrics as metrics,exports_models as models,exports_regularizers as regularizers,CallbackList,CustomCallback,History,Callback,callbacks,EarlyStopping,InputSpec,SymbolicTensor,LayersModel,input,loadLayersModel,model,registerCallbackConstructor,sequential,RNN,Sequential,LayerVariable,version as version_layers};\n//# sourceMappingURL=tf-layers.esm.js.map\n"]},"metadata":{},"sourceType":"module"}