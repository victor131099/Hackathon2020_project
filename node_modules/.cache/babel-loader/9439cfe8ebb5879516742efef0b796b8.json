{"ast":null,"code":"import _classCallCheck from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import data from\"../../data/Data\";import moment from\"moment\";import{Card,Avatar,Col,Icon}from\"antd\";var Meta=Card.Meta;var History=/*#__PURE__*/function(_Component){_inherits(History,_Component);function History(props){var _this;_classCallCheck(this,History);_this=_possibleConstructorReturn(this,_getPrototypeOf(History).call(this,props));_this.state={emask_data:[]};return _this;}_createClass(History,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function(response){return response.json();}).then(function(data){return _this2.setState({emask_data:data});});}},{key:\"sortData\",value:function sortData(){var sortedData=this.state.emask_data.sort(function(a,b){// Compare the 2 dates\nif(moment(a.date).isBefore(b.date))return-1;if(moment(a.date).isAfter(b.date))return 1;return 0;});return sortedData;}},{key:\"listDate\",value:function listDate(){var sortedData=this.sortData();// console.log(sortedData)\nvar list_date=[];for(var i=0;i<sortedData.length;i++){if(i===0){list_date.push(sortedData[i].date);}else{// console.log(i)\n// console.log(sortedData[i].date)\nif(!moment(sortedData[i].date).isSame(sortedData[i-1].date)){list_date.push(sortedData[i].date);}}}return list_date;}},{key:\"render\",value:function render(){var sortedData=this.sortData();var listDate=this.listDate();return React.createElement(\"div\",null,listDate.map(function(item,index){return React.createElement(\"div\",null,React.createElement(\"h3\",null,React.createElement(\"b\",null,moment(item).format(\"DD-MMMM-YYYY\"),\" \")),React.createElement(\"hr\",null),sortedData.map(function(item1,index1){if(moment(item1.date).isSame(item)){return React.createElement(Card,null,React.createElement(Col,{lg:10,md:12,sm:24},React.createElement(Meta,{avatar:React.createElement(Avatar,{size:20,icon:item1.status===\"ALERTED\"?\"alert\":\"check\",style:{backgroundColor:\"green\"}}),title:item1.name})),React.createElement(Col,{lg:10,md:12,sm:24},\" \",moment(item1.date).format(\"LT\")));}}));}));}}]);return History;}(Component);export default History;","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/history/History.js"],"names":["React","Component","data","moment","Card","Avatar","Col","Icon","Meta","History","props","state","emask_data","fetch","then","response","json","setState","sortedData","sort","a","b","date","isBefore","isAfter","sortData","list_date","i","length","push","isSame","listDate","map","item","index","format","item1","index1","status","backgroundColor","name"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport data from \"../../data/Data\"\nimport moment from \"moment\"\nimport {Card, Avatar, Col, Icon } from \"antd\";\nconst {Meta} = Card\nclass History extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            emask_data: []\n        }\n    }\n    componentDidMount(){\n        fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => this.setState({emask_data:data}))\n    }\n    sortData(){\n        let sortedData = this.state.emask_data.sort(function(a, b) {\n            \n            // Compare the 2 dates\n            if (moment(a.date).isBefore(b.date)) return -1;\n            if (moment(a.date).isAfter(b.date)) return 1;\n            return 0;\n        });\n          return sortedData\n    }\n    listDate(){\n        let sortedData = this.sortData();\n        // console.log(sortedData)\n        let list_date = []\n        for (let i =0 ; i < sortedData.length; i++){\n            if (i === 0){\n                list_date.push(sortedData[i].date)\n            }else{\n                // console.log(i)\n                // console.log(sortedData[i].date)\n                if (!moment(sortedData[i].date).isSame(sortedData[i-1].date)){\n                    list_date.push(sortedData[i].date)\n                }\n            }\n        }\n        return list_date\n    }\n    \n    render(){\n        let sortedData= this.sortData();\n        let listDate = this.listDate();\n        return(\n            <div>\n              {listDate.map((item, index) =>{\n                  return(\n                      <div>\n                      <h3><b>{moment(item).format((\"DD-MMMM-YYYY\"))} </b></h3>\n                      <hr></hr>\n                      {sortedData.map((item1, index1) =>{\n                          if(moment(item1.date).isSame(item) ){\n                                return(\n                                    <Card >\n                                        <Col lg={10} md={12} sm={24}>\n                                           \n                                        <Meta\n                                avatar={<Avatar size = {20} icon= {item1.status === \"ALERTED\"? \"alert\": \"check\"}  style= {{backgroundColor: \"green\" }} />}\n                                title =  {item1.name}\n                            /></Col>\n                            <Col lg={10} md={12} sm={24}> {moment(item1.date).format(\"LT\")}</Col>\n                            </Card>\n                                )\n                          }\n                      })}\n                      </div>\n                      \n                  )\n              })}  \n            </div>\n        )\n    }\n}\nexport default History"]},"metadata":{},"sourceType":"module"}