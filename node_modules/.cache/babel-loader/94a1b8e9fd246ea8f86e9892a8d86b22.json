{"ast":null,"code":"import _defineProperty from \"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/victor/COVID-19-Coding-Fest/src/pages/home/components/MapContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow, Circle } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport React, { Component, Fragment } from \"react\";\nimport { compose, withProps, withStateHandlers } from \"recompose\";\nimport data from \"../../../data/Data\";\n\nclass PeopleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: \"\",\n      location_data: [],\n      openToogleList: Array(data.length).fill(true),\n      defaultMapSize: {\n        lat: -33.797,\n        lng: 151.1\n      },\n      windowSize: 10\n    };\n  }\n\n  componentDidMount() {\n    Geocode.setApiKey(\"AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0\"); // set response language. Defaults to english.\n\n    Geocode.setLanguage(\"en\"); // set response region. Its optional.\n    // A Geocoding request with region=es (Spain) will return the Spanish city.\n\n    Geocode.setRegion(\"aus\");\n    Geocode.enableDebug(); // Get latidude & longitude from address.\n\n    for (var i = 0; i < data.length; i++) {\n      Geocode.fromAddress(data[i].address).then(response => {\n        const _response$results$0$g = response.results[0].geometry.location,\n              lat = _response$results$0$g.lat,\n              lng = _response$results$0$g.lng;\n        this.setState({\n          location_data: [...this.state.location_data, {\n            lat,\n            lng\n          }]\n        });\n        console.log(lat);\n        console.log(lng);\n      }, error => {\n        console.error(error);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.clickable === true) {\n      console.log(\"hello\");\n\n      for (var i = 0; i < this.state.location_data.length; i++) {\n        if (data[i].name === this.props.userInput) {\n          this.changeMapSize(this.state.location_data[i]);\n          break;\n        }\n      }\n    }\n  }\n\n  changeMapSize(item) {\n    let copyDefaultMapSize = _objectSpread({}, this.state.defaultMapSize);\n\n    copyDefaultMapSize.lat = parseFloat(item.lat);\n    copyDefaultMapSize.lng = parseFloat(item.lng);\n    this.setState({\n      defaultMapSize: copyDefaultMapSize,\n      windowSize: 20\n    });\n  }\n\n  onOpen(index) {\n    let newToogleList = [...this.state.openToogleList];\n    newToogleList[index] = !newToogleList[index];\n    this.setState({\n      openToogleList: newToogleList\n    });\n  }\n\n  render() {\n    return React.createElement(GoogleMap, {\n      defaultZoom: this.state.windowSize,\n      defaultCenter: this.state.defaultMapSize,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.state.location_data.map((item, index) => {\n      if (this.props.clickable === true) {\n        if (data[index].name == this.props.clickedInput.replace(/\\s/g, '')) {\n          return React.createElement(Marker, {\n            position: item,\n            key: index,\n            onClick: () => this.onOpen(index),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, this.state.openToogleList[index] && React.createElement(Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(InfoWindow, {\n            onCloseClick: () => this.onOpen(index),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, \"Name: \", data[index].name)), React.createElement(Circle, {\n            defaultCenter: {\n              lat: parseFloat(item.lat),\n              lng: parseFloat(item.lng)\n            },\n            radius: 3000,\n            options: {\n              strokeColor: \"#ff0000\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          })));\n        }\n      }\n    }));\n  }\n\n}\n\nconst MapContainer = compose(withScriptjs, withGoogleMap)(PeopleMap);\nexport default MapContainer; //   <MapWithAMarker\n//     googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyC4R6AN7SmujjPUIGKdyao2Kqitzr1kiRg&v=3.exp&libraries=geometry,drawing,places\"\n//     loadingElement={<div style={{ height: `100%` }} />}\n//     containerElement={<div style={{ height: `400px` }} />}\n//     mapElement={<div style={{ height: `100%` }} />}\n//   />","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/home/components/MapContainer.js"],"names":["withScriptjs","withGoogleMap","GoogleMap","Marker","InfoWindow","Circle","Geocode","React","Component","Fragment","compose","withProps","withStateHandlers","data","PeopleMap","constructor","props","state","userInput","location_data","openToogleList","Array","length","fill","defaultMapSize","lat","lng","windowSize","componentDidMount","setApiKey","setLanguage","setRegion","enableDebug","i","fromAddress","address","then","response","results","geometry","location","setState","console","log","error","componentDidUpdate","clickable","name","changeMapSize","item","copyDefaultMapSize","parseFloat","onOpen","index","newToogleList","render","map","clickedInput","replace","strokeColor","MapContainer"],"mappings":"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","sourcesContent":["import {\n    withScriptjs,\n    withGoogleMap,\n    GoogleMap,\n    Marker,\n    InfoWindow, \n    Circle\n  } from \"react-google-maps\";\n  import Geocode from \"react-geocode\";\n  import React, {Component, Fragment} from \"react\"\n  import { compose, withProps, withStateHandlers } from \"recompose\"\nimport data from \"../../../data/Data\";\n\n  class PeopleMap extends Component{\n    constructor(props){\n      super(props);\n      this.state = {\n        userInput: \"\",\n        location_data: [],\n        openToogleList: Array(data.length).fill(true), \n        defaultMapSize: { lat: -33.797, lng: 151.1 }, \n        windowSize: 10\n      }\n    }\n    componentDidMount(){\n     \n      \n      Geocode.setApiKey(\"AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0\");\n \n      // set response language. Defaults to english.\n      Geocode.setLanguage(\"en\");\n      \n      // set response region. Its optional.\n      // A Geocoding request with region=es (Spain) will return the Spanish city.\n      Geocode.setRegion(\"aus\");\n      Geocode.enableDebug();\n      \n      \n      \n      // Get latidude & longitude from address.\n      \n      for (var i=0; i< data.length; i++){\n        \n        Geocode.fromAddress(data[i].address).then(\n          response => {\n            const { lat, lng } = response.results[0].geometry.location;\n            this.setState({\n              location_data: [...this.state.location_data, { lat,lng}]\n            })\n            console.log(lat)\n            console.log(lng)\n            \n\n          },\n          error => {\n            console.error(error);\n          }\n        );\n        \n      }\n      \n     \n    }\n    componentDidUpdate(){\n      if (this.props.clickable ===true){\n        console.log(\"hello\")\n        for (var i =0; i < this.state.location_data.length; i++){\n          if(data[i].name === this.props.userInput){\n            this.changeMapSize(this.state.location_data[i])\n            break;\n          }\n        }\n        \n      }\n    }\n    changeMapSize(item){\n      \n      let copyDefaultMapSize= {...this.state.defaultMapSize};\n      copyDefaultMapSize.lat= parseFloat(item.lat);\n      copyDefaultMapSize.lng = parseFloat(item.lng) ;\n      this.setState({\n        defaultMapSize: copyDefaultMapSize,\n        windowSize:20\n      })\n    }\n    \n    onOpen(index){\n      let newToogleList = [...this.state.openToogleList];\n      newToogleList[index] = ! newToogleList[index];\n\n      this.setState({\n        openToogleList: newToogleList\n      }\n      )\n    }\n    \n    render(){\n   \n      return(\n        <GoogleMap\n      defaultZoom={this.state.windowSize}\n      \n      defaultCenter={this.state.defaultMapSize}\n    >\n      \n      {this.state.location_data.map((item, index)=>{\n        if (this.props.clickable === true){\n          \n          if (data[index].name == this.props.clickedInput.replace(/\\s/g, '')){\n          \n            return(\n              <Marker\n            position={item}\n            key = {index}\n            onClick={() => this.onOpen(index) }\n              >\n            {this.state.openToogleList[index] &&\n              <Fragment>\n              <InfoWindow onCloseClick={()=> this.onOpen(index)}>\n                <h3>Name: {data[index].name}</h3>\n                {/* <h3>{this.props.clickedInput}</h3> */}\n              </InfoWindow>\n              <Circle\n              defaultCenter={{\n                lat: parseFloat(item.lat),\n                lng: parseFloat(item.lng)\n              }}\n              radius={3000}\n              options={{strokeColor: \"#ff0000\"}}\n            />\n            </Fragment> \n          \n            }\n            \n              </Marker>\n          )\n    }}})}\n      \n    </GoogleMap>\n      )\n    }\n  }\n  const MapContainer =compose(\n    withScriptjs,\n    withGoogleMap\n  )(PeopleMap);\n  \n  export default MapContainer\n  \n//   <MapWithAMarker\n//     googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyC4R6AN7SmujjPUIGKdyao2Kqitzr1kiRg&v=3.exp&libraries=geometry,drawing,places\"\n//     loadingElement={<div style={{ height: `100%` }} />}\n//     containerElement={<div style={{ height: `400px` }} />}\n//     mapElement={<div style={{ height: `100%` }} />}\n//   />"]},"metadata":{},"sourceType":"module"}