{"ast":null,"code":"import _toConsumableArray from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/victor/COVID-19-Coding-Fest/node_modules/@babel/runtime/helpers/esm/inherits\";import{withScriptjs,withGoogleMap,GoogleMap,Marker,InfoWindow,Circle}from\"react-google-maps\";import Geocode from\"react-geocode\";import React,{Component,Fragment}from\"react\";import{compose,withProps,withStateHandlers}from\"recompose\";import{getDistance}from'geolib';// import data from \"../../../data/Data\";\nvar PeopleMap=/*#__PURE__*/function(_Component){_inherits(PeopleMap,_Component);function PeopleMap(props){var _this;_classCallCheck(this,PeopleMap);_this=_possibleConstructorReturn(this,_getPrototypeOf(PeopleMap).call(this,props));_this.state={userInput:\"\",defaultMapSize:{lat:-33.797,lng:151.1},windowSize:10,emask_data:[]};return _this;}_createClass(PeopleMap,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function(response){return response.json();}).then(function(data){_this2.setState({emask_data:data});// this.setState({openToogleList: Array(this.state.emask_data.length).fill(true)})\nGeocode.setApiKey(\"AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0\");// set response language. Defaults to english.\nGeocode.setLanguage(\"en\");// set response region. Its optional.\n// A Geocoding request with region=es (Spain) will return the Spanish city.\nGeocode.setRegion(\"aus\");Geocode.enableDebug();// Get latidude & longitude from address.\nvar _loop=function _loop(){var address=data[i].address;Geocode.fromAddress(address).then(function(response){var _response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;for(var index=0;index<data.length;index++){if(data[index].address===address){data[index].location={lat:lat,lng:lng};_this2.setState({emask_data:data});break;}}// console.log(lat)\n// console.log(lng)\n},function(error){console.error(error);});};for(var i=0;i<data.length;i++){_loop();}});}// if (this.props.clickable ===true){\n//   console.log(\"hello\")\n//   for (var i =0; i < this.state.location_data.length; i++){\n//     if(data[i].name === this.props.clickedInput.replace(/\\s/g, '')){\n//       console.log('world')\n//       // let item =this.state.location_data[i]\n//       // let copyDefaultMapSize= {...this.state.defaultMapSize};\n//       // copyDefaultMapSize.lat= parseFloat(item.lat);\n//       // copyDefaultMapSize.lng = parseFloat(item.lng) ;\n//       this.setState({\n//         // defaultMapSize: copyDefaultMapSize,\n//         windowSize:20\n//       })\n//       break;\n//     }\n//   // }\n//   }\n// }\n// componentDidUpdate(previousProps, previousState){\n//   // if (this.state.defaultCenter !== previousState.defaultCenter && this.state.windowSize !== previousState.windowSize){\n//     if (this.props.clickable ===true){\n//       console.log(\"hello\")\n//       for (var i =0; i < this.state.location_data.length; i++){\n//         if(data[i].name === this.props.clickedInput.replace(/\\s/g, '')){\n//           console.log('world')\n//           // let item =this.state.location_data[i]\n//           // let copyDefaultMapSize= {...this.state.defaultMapSize};\n//           // copyDefaultMapSize.lat= parseFloat(item.lat);\n//           // copyDefaultMapSize.lng = parseFloat(item.lng) ;\n//           this.setState({\n//             // defaultMapSize: copyDefaultMapSize,\n//             windowSize:20\n//           })\n//           break;\n//         }\n//       // }\n//     }\n//   }\n// }\n// changeMapSize(item){\n// }\n},{key:\"onOpen\",value:function onOpen(index){var new_emask=_toConsumableArray(this.state.emask_data);new_emask[index].isMapOpen=!new_emask[index].isMapOpen;this.setState({emask:new_emask});}},{key:\"getIndexPerson\",value:function getIndexPerson(){for(var i=0;i<this.state.emask_data.length;i++){if(this.state.emask_data[i].name===this.props.clickedInput.replace(/\\s/g,'')){// console.log(this.state.clickedInput)\nreturn i;}}}},{key:\"getLocation\",value:function getLocation(item){var list_location=[];for(var i=0;i<this.state.emask_data.length;i++){if(getDistance(this.state.emask_data[i].location,item.location)<1000&&item.address!==this.state.emask_data[i].address){var coord=this.state.emask_data[i].location;coord.name=this.state.emask_data[i].name;coord.address=this.state.emask_data[i].address;console.log(item.address+\" \"+item.name);console.log(this.state.emask_data[i].name+\" \"+this.state.emask_data[i].address);// console.log(getDistance(this.state.emask_data[i].location, item.location))\n// console.log(getDistance(this.state.location_data[i],item))\nlist_location.push(coord);}}return list_location;}},{key:\"centerChange\",value:function centerChange(){if(this.props.clickable===true){var index=this.getIndexPerson();this.setState({defaultMapSize:this.state.emask_data[index].location});}}},{key:\"render\",value:function render(){var _this3=this;console.log(this.state.emask_data);// console.log(this.state.location_data)\nreturn React.createElement(GoogleMap,{zoom:this.props.windowSize,onCenterChanged:function onCenterChanged(){_this3.centerChange();},onZoomChanged:function onZoomChanged(){_this3.zoomChange();},center:this.state.defaultMapSize},this.state.emask_data.map(function(item,index){if(_this3.props.clickable===true){if(_this3.state.emask_data[index].name==_this3.props.clickedInput.replace(/\\s/g,'')){var list_location=_this3.getLocation(item);return React.createElement(\"div\",null,list_location.map(function(item1,index1){// console.log(data[index1].address)\nreturn React.createElement(Marker,{position:{lat:parseFloat(item1.lat),lng:parseFloat(item1.lng)},key:index1,onClick:function onClick(){return _this3.onOpen(index1);}},_this3.state.emask_data[index1].isMapOpen&&React.createElement(Fragment,null,React.createElement(InfoWindow,{onCloseClick:function onCloseClick(){return _this3.onOpen(index1);}},React.createElement(\"div\",null,React.createElement(\"h3\",null,\"Name: \",item1.name),React.createElement(\"h3\",null,\"Address: \",item1.address)))));}),React.createElement(Marker,{position:{lat:parseFloat(item.location.lat),lng:parseFloat(item.location.lng)},key:index,onClick:function onClick(){return _this3.onOpen(index);}},_this3.state.emask_data[index].isMapOpen&&React.createElement(Fragment,null,React.createElement(InfoWindow,{onCloseClick:function onCloseClick(){return _this3.onOpen(index);}},React.createElement(\"div\",null,React.createElement(\"h3\",{style:{color:\"red\"}},React.createElement(\"b\",null,\" Name: \",_this3.state.emask_data[index].name)),React.createElement(\"h3\",{style:{color:\"red\"}},React.createElement(\"b\",null,\" Address: \",_this3.state.emask_data[index].address)))),React.createElement(Circle,{radius:1000,center:{lat:parseFloat(item.location.lat),lng:parseFloat(item.location.lng)}}))));}}}));}}]);return PeopleMap;}(Component);var MapContainer=compose(withScriptjs,withGoogleMap)(PeopleMap);export default MapContainer;//   <MapWithAMarker\n//     googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyC4R6AN7SmujjPUIGKdyao2Kqitzr1kiRg&v=3.exp&libraries=geometry,drawing,places\"\n//     loadingElement={<div style={{ height: `100%` }} />}\n//     containerElement={<div style={{ height: `400px` }} />}\n//     mapElement={<div style={{ height: `100%` }} />}\n//   />","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/home/components/MapContainer.js"],"names":["withScriptjs","withGoogleMap","GoogleMap","Marker","InfoWindow","Circle","Geocode","React","Component","Fragment","compose","withProps","withStateHandlers","getDistance","PeopleMap","props","state","userInput","defaultMapSize","lat","lng","windowSize","emask_data","fetch","then","response","json","data","setState","setApiKey","setLanguage","setRegion","enableDebug","address","i","fromAddress","results","geometry","location","index","length","error","console","new_emask","isMapOpen","emask","name","clickedInput","replace","item","list_location","coord","log","push","clickable","getIndexPerson","centerChange","zoomChange","map","getLocation","item1","index1","parseFloat","onOpen","color","MapContainer"],"mappings":"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","sourcesContent":["import {\n    withScriptjs,\n    withGoogleMap,\n    GoogleMap,\n    Marker,\n    InfoWindow, \n    Circle\n  } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport React, {Component, Fragment} from \"react\"\nimport { compose, withProps, withStateHandlers } from \"recompose\"\nimport { getDistance } from 'geolib';\n// import data from \"../../../data/Data\";\n\n  class PeopleMap extends Component{\n    constructor(props){\n      super(props);\n      this.state = {\n        userInput: \"\",\n      \n        \n        defaultMapSize: { lat: -33.797, lng: 151.1 }, \n        windowSize:10, \n        emask_data: []\n        \n      }\n    }\n    componentDidMount(){\n     \n      fetch(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\")\n        .then(response => response.json())\n        .then(data => {\n          this.setState({emask_data:data});\n        \n      // this.setState({openToogleList: Array(this.state.emask_data.length).fill(true)})\n      Geocode.setApiKey(\"AIzaSyAOOgr6Eg-N_Pi3Ic5mNo1EybmjAH3w1D0\");\n \n      // set response language. Defaults to english.\n      Geocode.setLanguage(\"en\");\n      \n      // set response region. Its optional.\n      // A Geocoding request with region=es (Spain) will return the Spanish city.\n      Geocode.setRegion(\"aus\");\n      Geocode.enableDebug();\n      \n      \n      \n      // Get latidude & longitude from address.\n      \n      for (var i=0; i< data.length; i++){\n        let address = data[i].address\n        Geocode.fromAddress(address).then(\n          response => {\n            \n            const { lat, lng } = response.results[0].geometry.location;\n            \n            \n            for(var index =0 ; index <data.length; index ++){\n              if(data[index].address === address){\n                data[index].location= {lat:lat, lng:lng}\n                this.setState({\n                  emask_data:data\n                })\n                break;\n              }\n            }           \n            \n            // console.log(lat)\n            // console.log(lng)\n            \n\n          },\n          error => {\n            console.error(error);\n          }\n        );\n      }\n      })\n        \n      }\n            \n      // if (this.props.clickable ===true){\n      //   console.log(\"hello\")\n      //   for (var i =0; i < this.state.location_data.length; i++){\n      //     if(data[i].name === this.props.clickedInput.replace(/\\s/g, '')){\n      //       console.log('world')\n      //       // let item =this.state.location_data[i]\n      //       // let copyDefaultMapSize= {...this.state.defaultMapSize};\n      //       // copyDefaultMapSize.lat= parseFloat(item.lat);\n      //       // copyDefaultMapSize.lng = parseFloat(item.lng) ;\n      //       this.setState({\n      //         // defaultMapSize: copyDefaultMapSize,\n      //         windowSize:20\n      //       })\n      //       break;\n      //     }\n      //   // }\n        \n      //   }\n      // }\n      \n     \n    \n    // componentDidUpdate(previousProps, previousState){\n    //   // if (this.state.defaultCenter !== previousState.defaultCenter && this.state.windowSize !== previousState.windowSize){\n    //     if (this.props.clickable ===true){\n    //       console.log(\"hello\")\n    //       for (var i =0; i < this.state.location_data.length; i++){\n    //         if(data[i].name === this.props.clickedInput.replace(/\\s/g, '')){\n    //           console.log('world')\n    //           // let item =this.state.location_data[i]\n    //           // let copyDefaultMapSize= {...this.state.defaultMapSize};\n    //           // copyDefaultMapSize.lat= parseFloat(item.lat);\n    //           // copyDefaultMapSize.lng = parseFloat(item.lng) ;\n    //           this.setState({\n    //             // defaultMapSize: copyDefaultMapSize,\n    //             windowSize:20\n    //           })\n    //           break;\n    //         }\n    //       // }\n          \n    //     }\n    //   }\n    // }\n    // changeMapSize(item){\n      \n      \n    // }\n    \n    onOpen(index){\n      \n      let new_emask = [...this.state.emask_data];\n      new_emask[index].isMapOpen = ! new_emask[index].isMapOpen;\n\n      this.setState({\n        emask: new_emask\n      }\n      )\n    }\n    getIndexPerson(){\n      \n      for(var i =0; i< this.state.emask_data.length; i++){\n        if(this.state.emask_data[i].name===this.props.clickedInput.replace(/\\s/g, '')){\n\n          // console.log(this.state.clickedInput)\n          return i;\n        }\n      }\n    }\n    getLocation(item){\n      var list_location= []\n      for (var i = 0 ; i < this.state.emask_data.length; i++){\n        if(getDistance(this.state.emask_data[i].location, item.location)< 1000 && item.address !== this.state.emask_data[i].address  ){\n          var coord = this.state.emask_data[i].location;\n          coord.name= this.state.emask_data[i].name\n          coord.address= this.state.emask_data[i].address\n          console.log(item.address +\" \"+item.name)\n          console.log(this.state.emask_data[i].name +\" \" +this.state.emask_data[i].address)\n          // console.log(getDistance(this.state.emask_data[i].location, item.location))\n\n          // console.log(getDistance(this.state.location_data[i],item))\n          list_location.push(coord)\n          \n          \n        }\n      }\n      return list_location\n    }\n    centerChange(){\n      \n      if(this.props.clickable === true){\n        \n        var index = this.getIndexPerson()\n        this.setState({defaultMapSize:this.state.emask_data[index].location});\n      }\n    }\n    \n    \n    render(){\n      console.log(this.state.emask_data)\n      // console.log(this.state.location_data)\n      return(\n        <GoogleMap\n    zoom={this.props.windowSize}\n      onCenterChanged = {() =>{this.centerChange()}}\n      onZoomChanged= {()=> {this.zoomChange()}}\n      center={this.state.defaultMapSize}\n    >\n      \n      {this.state.emask_data.map((item, index)=>{\n        if (this.props.clickable === true){\n          \n          if (this.state.emask_data[index].name == this.props.clickedInput.replace(/\\s/g, '')){\n            var list_location= this.getLocation(item)\n            \n            return(\n              <div>\n              {list_location.map((item1,index1) =>{\n                // console.log(data[index1].address)\n                return(\n                <Marker\n            position={{lat : parseFloat(item1.lat), lng: parseFloat(item1.lng) }}\n            key = {index1}\n            onClick={() => this.onOpen(index1) }\n              >\n            {this.state.emask_data[index1].isMapOpen &&\n              <Fragment>\n              <InfoWindow onCloseClick={()=> this.onOpen(index1)}>\n                <div>\n                <h3>Name: {item1.name}</h3>\n                <h3>Address: {item1.address}</h3>\n                </div>\n                {/* <Person name = {item1.name} /> */}\n              </InfoWindow>\n              \n            </Fragment> \n          \n            }\n         \n              </Marker>\n\n              )})}\n              <Marker\n            position={{lat : parseFloat(item.location.lat), lng: parseFloat(item.location.lng) }}\n            key = {index}\n            onClick={() => this.onOpen(index) }\n              >\n            {this.state.emask_data[index].isMapOpen &&\n              <Fragment>\n              <InfoWindow onCloseClick={()=> this.onOpen(index)}>\n                <div>\n                <h3 style= {{color: \"red\"}}><b> Name: {this.state.emask_data[index].name}</b></h3>\n                {/* <h3>{this.props.clickedInput}</h3> */}\n                <h3 style= {{color: \"red\"}}><b> Address: {this.state.emask_data[index].address}</b></h3>\n                </div>\n              </InfoWindow>\n              <Circle\n              radius= {1000}\n              center= {{lat : parseFloat(item.location.lat), lng: parseFloat(item.location.lng) }}\n              />\n              \n            </Fragment> \n          \n            }\n            \n              </Marker>\n            </div>\n           \n            \n      \n      \n              \n          )\n    }}})}\n      \n    </GoogleMap>\n      )\n    }\n  }\n  const MapContainer =compose(\n    withScriptjs,\n    withGoogleMap\n  )(PeopleMap);\n  \n  export default MapContainer\n  \n//   <MapWithAMarker\n//     googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyC4R6AN7SmujjPUIGKdyao2Kqitzr1kiRg&v=3.exp&libraries=geometry,drawing,places\"\n//     loadingElement={<div style={{ height: `100%` }} />}\n//     containerElement={<div style={{ height: `400px` }} />}\n//     mapElement={<div style={{ height: `100%` }} />}\n//   />"]},"metadata":{},"sourceType":"module"}