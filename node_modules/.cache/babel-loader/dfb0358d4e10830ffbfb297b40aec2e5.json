{"ast":null,"code":"var _jsxFileName = \"/home/victor/COVID-19-Coding-Fest/src/pages/Login/RegisteredScan.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Form, Input, Button, Checkbox, Select, notification } from 'antd';\nimport moment from \"moment\";\nimport { withRouter } from \"react-router-dom\"; // import QRCode from 'qrcode.react'\n\nimport axios from \"axios\";\nconst {\n  Item\n} = Form;\nconst {\n  Option\n} = Select;\nconst layout = {\n  labelCol: {\n    span: 8,\n    offset: 0\n  },\n  wrapperCol: {\n    span: 8,\n    offset: 0\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nclass RegisteredScan extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onNameChange = e => {\n      this.setState({\n        name: e.currentTarget.value\n      });\n    };\n\n    this.onEmailChange = e => {\n      this.setState({\n        email: e.currentTarget.value\n      });\n    };\n\n    this.state = {\n      item: {\n        date: moment().format('YYYY-MM-DD hh:mm:ss'),\n        address: \"\",\n        email: \"\",\n        isMapOpen: true,\n        key: \"\",\n        name: \"\",\n        phone: \"\",\n        status: \"ALERTED\",\n        type: \"\",\n        emask_data: []\n      }\n    }; // this.onChange= this.onChange.bind(this)\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  componentDidMount() {} //   onChange = (e) =>{\n  //     let new_item = this.state.item\n  //     new_item.type =   e;\n  //     this.setState({\n  //       item: new_item\n  //     })\n  //   }\n\n\n  onClick() {\n    // const data= {\n    //   key5: `${this.state.item.date}`,\n    //   key2: `${this.state.item.address}`,\n    //   key3: `${this.state.item.email}`,\n    //   key4: `${this.state.item.isMapOpen}`,\n    //   key1: `${this.state.item.key}`,\n    //   key6: `${this.state.item.name}`,\n    //   key7: `${this.state.item.phone}`,\n    //   key8: `${this.state.item.status}`,\n    //   key9: `${this.state.item.type}`\n    // };\n    axios.post(\"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\", {\n      email: `${this.state.email}`,\n      name: `${this.state.name}`\n    }).then(res => {\n      if (res.data.length == 0) {\n        notification.open({\n          message: 'Login Error',\n          description: 'Username or Email is incorrect'\n        });\n      } else {\n        this.setState({\n          item: res.data\n        });\n        console.log(this.state.item); // this.props.history.push({pathname: \"/camera\",state:{ item:this.state.item, register: true}})\n      }\n    }); //     // window.location.reload(false);\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n      name: \"basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Item, {\n      label: \"Name\",\n      name: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('userName', {\n      initialValue: this.state.item.name,\n      rules: [{\n        required: true,\n        message: 'Please input your name!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Item, {\n      label: \"Email\",\n      name: \"Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('email', {\n      initialValue: this.state.item.address,\n      rules: [{\n        required: true,\n        message: 'Please input your email!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    })), \"  \"), /*#__PURE__*/React.createElement(Item, Object.assign({}, tailLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default Form.create({\n  name: 'normal_login'\n})(withRouter(RegisteredScan));","map":{"version":3,"sources":["/home/victor/COVID-19-Coding-Fest/src/pages/Login/RegisteredScan.js"],"names":["React","Component","Fragment","Form","Input","Button","Checkbox","Select","notification","moment","withRouter","axios","Item","Option","layout","labelCol","span","offset","wrapperCol","tailLayout","RegisteredScan","constructor","props","onNameChange","e","setState","name","currentTarget","value","onEmailChange","email","state","item","date","format","address","isMapOpen","key","phone","status","type","emask_data","onClick","bind","componentDidMount","post","then","res","data","length","open","message","description","console","log","render","getFieldDecorator","form","initialValue","rules","required","create"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from \"react\"\nimport {  Form, Input, Button, Checkbox, Select, notification }  from'antd'\nimport moment from \"moment\"\nimport {withRouter} from \"react-router-dom\"\n// import QRCode from 'qrcode.react'\nimport axios from\"axios\"\nconst {Item} = Form\nconst {Option} = Select\nconst layout = {\n    labelCol: {\n      span: 8,\n      offset:0\n    },\n    wrapperCol: {\n      span: 8,\n      offset:0\n    },\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16,\n    },\n  };\nclass RegisteredScan extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n   \n      item : {\n        date: moment().format('YYYY-MM-DD hh:mm:ss'),\n        address: \"\",\n        email: \"\",\n        isMapOpen: true,\n        key: \"\",\n        name: \"\",\n        phone: \"\",\n        status: \"ALERTED\",\n        type: \"\",\n        emask_data:[]\n\n      }\n    };\n    // this.onChange= this.onChange.bind(this)\n    this.onClick = this.onClick.bind(this)\n  }\n \n  componentDidMount(){\n    \n   \n  }\n//   onChange = (e) =>{\n//     let new_item = this.state.item\n//     new_item.type =   e;\n//     this.setState({\n//       item: new_item\n//     })\n//   }\n  onNameChange = e =>{\n    \n  \n    this.setState({\n      name: e.currentTarget.value\n    })\n  }\n//   onAddressChange = e =>{\n//     let new_item = this.state.item\n//     new_item.address =   e.currentTarget.value;\n//     this.setState({\n//       item: new_item\n//     })\n//   }\n//   onPhoneChange = e =>{\n//     let new_item = this.state.item\n//     new_item.phone =   e.currentTarget.value;\n//     this.setState({\n//       item: new_item\n//     })\n//   }\n  onEmailChange = e =>{\n    this.setState({\n        email:e.currentTarget.value\n    })\n  }\n  onClick(){\n  \n    \n    // const data= {\n    //   key5: `${this.state.item.date}`,\n    //   key2: `${this.state.item.address}`,\n    //   key3: `${this.state.item.email}`,\n    //   key4: `${this.state.item.isMapOpen}`,\n    //   key1: `${this.state.item.key}`,\n    //   key6: `${this.state.item.name}`,\n    //   key7: `${this.state.item.phone}`,\n    //   key8: `${this.state.item.status}`,\n    //   key9: `${this.state.item.type}`\n    // };\n    axios.post(\n      \"https://fhrs5atn73.execute-api.ap-southeast-2.amazonaws.com/dev\",{\n\n       \n        email: `${this.state.email}`,\n      \n        name: `${this.state.name}`,\n        \n      }\n    \n    \n    ).then(res =>{if(res.data.length==0){\n        notification.open({\n            message: 'Login Error',\n            description:\n              'Username or Email is incorrect',\n          });\n    }else{\n        this.setState({\n            item: res.data\n        })\n        console.log(this.state.item);\n        // this.props.history.push({pathname: \"/camera\",state:{ item:this.state.item, register: true}})\n\n    }})\n    \n    \n    //     // window.location.reload(false);\n    \n  }\n    render(){\n      const { getFieldDecorator } = this.props.form;\n       return (\n         <Fragment>\n          <Form\n            {...layout}\n            name=\"basic\"\n            \n          >\n            <Item\n              label=\"Name\"\n              name=\"name\"\n              >\n              {getFieldDecorator('userName', {\n                initialValue: this.state.item.name,\n                rules: [{ required: true, message: 'Please input your name!' }],\n              })(\n              <Input   onChange = {this.onNameChange}/>\n              )}\n              \n              </Item>\n      \n            <Item\n              label=\"Email\"\n              name=\"Email\"\n             \n            >\n               {getFieldDecorator('email', {\n                 initialValue: this.state.item.address,\n                rules: [{ required: true, message: 'Please input your email!' }],\n              })(\n              <Input  onChange = {this.onEmailChange}/>\n              )}  </Item>\n                   \n            \n         \n             \n      \n            \n            <Item {...tailLayout}>\n              <Button type=\"primary\" htmlType=\"submit\" onClick = {this.onClick}>\n                Submit\n              </Button>\n            </Item>\n          </Form>\n          {/* <QRCode value=\"http://facebook.github.io/react/\" /> */}\n          </Fragment>\n        );\n  }\n}\nexport default Form.create({ name: 'normal_login' })(withRouter(RegisteredScan));"]},"metadata":{},"sourceType":"module"}